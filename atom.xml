<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Hexo</title>
  
  
  <link href="https://wakaka378.github.io/atom.xml" rel="self"/>
  
  <link href="https://wakaka378.github.io/"/>
  <updated>2023-06-14T13:10:23.523Z</updated>
  <id>https://wakaka378.github.io/</id>
  
  <author>
    <name>John Doe</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>è¿˜åœ¨æ‰‹åŠ¨å‘åŒ…? è¯•è¯•release-it è‡ªåŠ¨å‘åŒ…å§ğŸ“¦</title>
    <link href="https://wakaka378.github.io/8e08379d750c.html"/>
    <id>https://wakaka378.github.io/8e08379d750c.html</id>
    <published>2023-06-11T10:56:36.000Z</published>
    <updated>2023-06-14T13:10:23.523Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å‰è¨€"><a class="markdownIt-Anchor" href="#å‰è¨€"></a> å‰è¨€</h1><p>ä½œä¸ºä¸€ååˆæ ¼çš„å‰(æ‘¸é±¼)å·¥ç¨‹å¸ˆï¼Œæ—¥å¸¸å·¥ä½œå¼€å‘ä¸­æˆ–å¤šæˆ–å°‘éƒ½è¦å’Œ<code>npm</code>åŒ…æ‰“äº¤é“ã€‚ä¹‹å‰å·¥ä½œä¸­å°±æœ‰è¿‡å‘å¸ƒ<code>npm</code>åŒ…çš„ç»å†ï¼Œä½†é‚£æ—¶å¹´å°‘æ— çŸ¥ï¼ŒåªçŸ¥é“æ— è„‘é€šè¿‡<code>npm publish</code>å‘åŒ…ï¼Œä¹Ÿæ²¡æœ‰æ‰“Â <code>tag</code>ã€ç‰ˆæœ¬ã€æ²¡ç”ŸæˆÂ <code>changelog</code>çš„æ¦‚å¿µã€‚ç›´åˆ°çœ‹åˆ°æºç å…±è¯»ä¸­æœ‰è‡ªåŠ¨å‘åŒ…ç« èŠ‚ï¼Œè¿˜å¯ä»¥è‡ªåŠ¨æ‰“<code>tag</code>ç­‰åŠŸèƒ½ï¼Œèµ¶ç´§æ”¶è—å­¦ä¹ èµ·æ¥ã€‚</p><h1 id="å‰ç½®å‡†å¤‡"><a class="markdownIt-Anchor" href="#å‰ç½®å‡†å¤‡"></a> å‰ç½®å‡†å¤‡</h1><p>è¦åœ¨<code>npm</code>ä¸Šå‘åŒ…ï¼Œå½“ç„¶éœ€è¦åœ¨<code>npm</code>ä¸Šæ³¨å†Œè´¦å·ï¼Œè¿™ä¸ªå°±ä¸å†èµ˜è¿°ã€‚æˆ‘ä»¬åœ¨æ³¨å†Œå®Œè´¦å·ä¹‹åï¼Œå…ˆè®¾ç½®ä¸€ä¸‹é•œåƒæºï¼Œå†ç™»å½•è‡ªå·±çš„<code>npm</code>è´¦å·ã€‚å¦‚æœæœ‰åŒå­¦å’Œæˆ‘ä¸€æ ·ï¼Œä½¿ç”¨çš„æ˜¯å…¬å¸å†…éƒ¨ç§æœ‰çš„<code>npm</code>æœåŠ¡å™¨ï¼Œä½¿ç”¨çš„è´¦å·å’Œé•œåƒæºéƒ½æ˜¯å…¬å¸æä¾›çš„ï¼Œä¸è¦å¼„æ··æ·†ï¼Œä¸‹é¢æˆ‘ä»¬å¼€å§‹å…·ä½“æ­¥éª¤ã€‚</p><h2 id="å‡†å¤‡é¡¹ç›®æ–‡ä»¶"><a class="markdownIt-Anchor" href="#å‡†å¤‡é¡¹ç›®æ–‡ä»¶"></a> å‡†å¤‡é¡¹ç›®æ–‡ä»¶</h2><p>é¦–å…ˆåˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œç„¶åæ‰§è¡Œ<code>npm init -y </code> åˆå§‹åŒ–æˆ‘ä»¬çš„é¡¹ç›®</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/cca651314fc7476d952c0ce393d79f49~tplv-k3u1fbpfcp-watermark.image?" alt="image.png" /></p><h3 id="è®¾ç½®é•œåƒæº"><a class="markdownIt-Anchor" href="#è®¾ç½®é•œåƒæº"></a> è®¾ç½®é•œåƒæº</h3><p>å¦‚æœæ˜¯åœ¨å·²æœ‰é¡¹ç›®ä¸­æ¥å…¥ï¼Œæœ€å¥½è¦æŸ¥çœ‹ä¸€ä¸‹å½“å‰é¡¹ç›®é•œåƒæºï¼Œåˆå§‹åŒ–é¡¹ç›®å¯ä»¥è·³è¿‡ã€‚</p><p>é‚£ä¸ºä»€ä¹ˆè¦è®¾ç½®é•œåƒæºå‘¢ï¼Ÿè£…è¿‡<code>npm</code>åŒ…çš„åŒå­¦éƒ½çŸ¥é“ï¼Œ<code>npm</code>å®˜æ–¹<code>public</code>ä»“åº“æ˜¯éƒ¨ç½²åœ¨å›½å¤–ï¼Œä½¿ç”¨å®˜æ–¹é•œåƒæºè£…åŒ…é€Ÿåº¦å¾ˆæ…¢ï¼Œæ‰€ä»¥æˆ‘ä»¬æœ‰æ—¶å€™ä¼šå°†é•œåƒæºè®¾ç½®ä¸º<code>https://registry.npm.taobao.org</code>ï¼Œä¹Ÿå°±æ˜¯æ·˜å®é•œåƒã€‚è¿™ä¸ªæ—¶å€™å¦‚æœæˆ‘ä»¬ä½¿ç”¨<code>npm</code>çš„è´¦å·æ˜¯æ— æ³•ç™»å½•çš„ï¼Œæˆ–è€…æ˜¯è¯´ä½ æŠŠé•œåƒè®¾ç½®ä¸ºå…¬å¸å†…éƒ¨ç§æœ‰çš„é•œåƒæºï¼Œè¿™ä¸ªæ—¶å€™é€šè¿‡å®˜æ–¹<code>npm</code>è´¦å·ä¹Ÿæ˜¯æ— æ³•ç™»å½•çš„ï¼Œæ›¾ç»æˆ‘å°±åœ¨è¿™é‡Œè¸©è¿‡å‘ã€‚åœ¨å“ªæ³¨å†Œçš„è´¦å·ï¼Œéœ€è¦å°†é•œåƒæºè®¾ç½®ä¸ºæ³¨å†Œåœ°çš„ä»“åº“ã€‚è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨<code>npm</code>å®˜æ–¹é•œåƒæºï¼Œå°†é•œåƒæºè®¾ç½®ä¸º<code>https://registry.npmjs.org</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æŸ¥çœ‹å½“å‰é•œåƒæº</span></span><br><span class="line">npm config get registry  </span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">è®¾ç½®é•œåƒæº</span></span><br><span class="line">npm set registry https://registry.npmjs.org  </span><br></pre></td></tr></table></figure><p>å¦å¤–ä¸€ç§è®¾ç½®é•œåƒæºæ–¹å¼ï¼Œå¯ä»¥åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸­æ–°å»º<code>.npmrc</code>æ–‡ä»¶</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">registry = https://registry.npmjs.org/</span><br></pre></td></tr></table></figure><h2 id="ç™»å½•npm"><a class="markdownIt-Anchor" href="#ç™»å½•npm"></a> ç™»å½•npm</h2><p>ä½¿ç”¨<code>npm</code>æ³¨å†Œçš„è´¦å·å¯†ç ç™»å½•</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ç™»å½•</span></span><br><span class="line">npm login</span><br><span class="line"></span><br><span class="line">âœ npm login</span><br><span class="line">Username: ç”¨æˆ·å</span><br><span class="line">Password: å¯†ç </span><br><span class="line">Email: æ³¨å†Œé‚®ç®±</span><br><span class="line">Enter one-time password: ä¸€æ¬¡æ€§å¯†ç   é‚®ç®±ä¼šæ”¶åˆ°é‚®ä»¶</span><br><span class="line"></span><br><span class="line">âœ npm whoami </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æŸ¥çœ‹å½“å‰ç™»å½•è´¦å·åç§°</span></span><br></pre></td></tr></table></figure><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/900461879c9141c8b73dc3e5a40af383~tplv-k3u1fbpfcp-watermark.image?" alt="image.png" /></p><h1 id="è‡ªåŠ¨å‘åŒ…"><a class="markdownIt-Anchor" href="#è‡ªåŠ¨å‘åŒ…"></a> è‡ªåŠ¨å‘åŒ…</h1><p><a href="https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Frelease-it%2Frelease-it" title="https://github.com/release-it/release-it">release-it å®˜ç½‘ä»“åº“</a></p><p><code>release-it</code>å®ƒåšäº†ä»€ä¹ˆï¼Ÿ</p><ul><li>åŒæ­¥æäº¤<code>git</code>è¿œç«¯å†…å®¹</li><li>æ›´æ–°ç‰ˆæœ¬å·</li><li>äº§å‡º<code>changelog</code></li><li>æäº¤å˜åŠ¨</li><li>å¢åŠ <code>git tag</code></li><li>æ¨é€tagæ›´æ–°è‡³è¿œç«¯</li></ul><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡<code>--dry-run</code>å¯ä»¥çœ‹åˆ°å…·ä½“è¿›è¡Œäº†å“ªäº›æ“ä½œ</p><h2 id="è‡ªåŠ¨å‘åŒ…-2"><a class="markdownIt-Anchor" href="#è‡ªåŠ¨å‘åŒ…-2"></a> è‡ªåŠ¨å‘åŒ…</h2><h3 id="å®‰è£…"><a class="markdownIt-Anchor" href="#å®‰è£…"></a> å®‰è£…</h3><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">âœ npm init <span class="keyword">release</span>-it</span><br><span class="line">npx: <span class="number">30</span> å®‰è£…æˆåŠŸï¼Œç”¨æ—¶ <span class="number">5.813</span> ç§’</span><br><span class="line">? <span class="keyword">Where</span> <span class="keyword">to</span> <span class="keyword">add</span> the <span class="keyword">release</span>-it config? â€º</span><br><span class="line">â¯   .<span class="keyword">release</span>-it.json</span><br><span class="line">    package.json</span><br></pre></td></tr></table></figure><p>or</p><figure class="highlight livescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">âœ <span class="built_in">npm</span> install -D release-<span class="literal">it</span></span><br></pre></td></tr></table></figure><p>æ·»åŠ å‘½ä»¤</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">   <span class="attr">&quot;release&quot;</span><span class="punctuation">:</span> <span class="string">&quot;release-it&quot;</span></span><br><span class="line"> <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br></pre></td></tr></table></figure><h3 id="é…ç½®"><a class="markdownIt-Anchor" href="#é…ç½®"></a> é…ç½®</h3><p>åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»ºæ–‡ä»¶</p><ul><li><code>.release-it.json</code></li><li><code>.release-it.js</code></li><li><code>.release-it.yaml</code></li><li><code>.release-it.toml</code></li></ul><p>æˆ–è€…æ˜¯åœ¨<code>pakcage.json</code>æ–‡ä»¶ä¸­æ·»åŠ <code>release-it</code>å±æ€§ï¼Œè¿™é‡Œæˆ‘å°±ç›´æ¥åˆ›å»º<code>.release-it.json</code>æ–‡ä»¶ï¼Œæ·»åŠ ä»¥ä¸‹é…ç½®æˆ–è€…å¯ä»¥æŸ¥çœ‹<br /><a href="https://github.com/release-it/release-it/blob/master/docs/configuration.md">æ›´å¤šé…ç½®</a></p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;github&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;release&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;git&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;commitMessage&quot;</span><span class="punctuation">:</span> <span class="string">&quot;release: v$&#123;version&#125;&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;npm&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;publish&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;hooks&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;after:bump&quot;</span><span class="punctuation">:</span> <span class="string">&quot;echo æ›´æ–°ç‰ˆæœ¬æˆåŠŸ&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="ç”Ÿæˆchangelog"><a class="markdownIt-Anchor" href="#ç”Ÿæˆchangelog"></a> ç”ŸæˆCHANGELOG</h3><p>å®‰è£…æ’ä»¶</p><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">âœ <span class="built_in">npm</span> i @release-it/conventional-changelog -D</span><br></pre></td></tr></table></figure><p>ç„¶åå°†ä»¥ä¸‹å†…å®¹æ·»åŠ åˆ°<code>.release-it.json</code>æ–‡ä»¶ä¸­</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;plugins&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;@release-it/conventional-changelog&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;preset&quot;</span><span class="punctuation">:</span> <span class="string">&quot;angular&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;infile&quot;</span><span class="punctuation">:</span> <span class="string">&quot;CHANGELOG.md&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="è‡ªåŠ¨å‘å¸ƒ"><a class="markdownIt-Anchor" href="#è‡ªåŠ¨å‘å¸ƒ"></a> è‡ªåŠ¨å‘å¸ƒ</h3><p>è¿è¡Œå‘½ä»¤ï¼Œå°±å¯ä»¥è¿›è¡Œå‘å¸ƒ</p><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">âœ npm run release</span><br><span class="line"><span class="meta"># or</span></span><br><span class="line">âœ npx release-it</span><br></pre></td></tr></table></figure><p>å°†<code>release-it</code>å‚æ•°æ”¾åœ¨<code>--</code>åé¢</p><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm <span class="built_in">run</span> release <span class="comment">--minor --ci</span></span><br></pre></td></tr></table></figure><h2 id="å‘å¸ƒå…¶ä»–ç‰ˆæœ¬"><a class="markdownIt-Anchor" href="#å‘å¸ƒå…¶ä»–ç‰ˆæœ¬"></a> å‘å¸ƒå…¶ä»–ç‰ˆæœ¬</h2><h3 id="npmç‰ˆæœ¬å·"><a class="markdownIt-Anchor" href="#npmç‰ˆæœ¬å·"></a> npmç‰ˆæœ¬å·</h3><p>è¿™é‡Œå…ˆåˆæ­¥è¡¥å……ä¸€ä¸‹<code>npm</code>ç‰ˆæœ¬å·ç›¸å…³çŸ¥è¯†ï¼Œ<code>npm</code>çš„ç‰ˆæœ¬å·éµå¾ª<a href="https://semver.org/lang/zh-CN/">SemVer è§„èŒƒ</a>ï¼Œ<strong>ç‰ˆæœ¬å·æ ¼å¼å¿…é¡»é‡‡ç”¨X.Y.Zçš„æ ¼å¼</strong>ï¼Œå…¶ä¸­ Xã€Y å’Œ Z ä¸ºéè´Ÿçš„æ•´æ•°ã€‚<strong>X æ˜¯ä¸»ç‰ˆæœ¬å·ã€Y æ˜¯æ¬¡ç‰ˆæœ¬å·ã€è€Œ Z ä¸ºä¿®è®¢å·ï¼Œè‹±æ–‡å¯¹åº”è¡¨ç¤ºä¸º majorã€minorã€patch</strong>ï¼Œæ¯ä¸ªå·å¿…é¡»é‡‡ç”¨é€’å¢ã€‚</p><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">X.Y.Z <span class="operator">=</span><span class="operator">=</span><span class="operator">=</span>&gt; &#123;major&#125;.&#123;minor&#125;.&#123;patch&#125;</span><br><span class="line"><span class="number">2.4</span>.<span class="number">1</span></span><br></pre></td></tr></table></figure><p>è¿™ç§æ ¼å¼éƒ½æ˜¯æ­£å¼ç‰ˆï¼Œè€Œåœ¨æ­£å¼ç‰ˆå‘å¸ƒä¹‹å‰è¿˜ä¼šç»å†å„ç§å…ˆè¡Œç‰ˆæœ¬ï¼Œå…ˆè¡Œç‰ˆæœ¬å·ä¼šåœ¨åŸæœ‰çš„åŸºç¡€ä¸Šå¢åŠ ä¸€ä¸ª<strong>ç‰ˆæœ¬å·æ ‡ç­¾</strong>ï¼Œå…ˆè¡Œç‰ˆæœ¬æ ¼å¼æ˜¯åœ¨ä¿®è®¢ç‰ˆæœ¬<strong>patch</strong>å·åé¢åŠ ä¸Šä¸€ä¸ª<code>-</code>è¿æ¥ï¼Œå†é€šè¿‡<code>.</code>è¿›è¡Œåˆ†å‰²</p><figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="language-xml"># æ ¼å¼</span></span><br><span class="line"><span class="language-xml">major.minor.patch-</span><span class="template-variable">&#123;identifier&#125;</span><span class="language-xml">.</span><span class="template-variable">&#123;identifier&#125;</span><span class="language-xml">.</span><span class="template-variable">&#123;identifier&#125;</span></span><br></pre></td></tr></table></figure><p>é€šå¸¸ç¬¬ä¸€ä¸ª <code>identifier</code> ä¸ºç‰ˆæœ¬å·æ ‡ç­¾ï¼Œåé¢åˆ™æ˜¯è‡ªå¢ç‰ˆæœ¬å·ã€‚<br />å¸¸ç”¨çš„ç‰ˆæœ¬å·æ ‡ç­¾æœ‰</p><ul><li><code>alpha</code>å†…éƒ¨æµ‹è¯•ç‰ˆ</li><li><code>beta</code>å…¬å¼€æµ‹è¯•ç‰ˆ</li><li><code>rc</code>å€™é€‰ç‰ˆæœ¬</li></ul><h3 id="å‘å¸ƒå…ˆè¡Œç‰ˆæœ¬"><a class="markdownIt-Anchor" href="#å‘å¸ƒå…ˆè¡Œç‰ˆæœ¬"></a> å‘å¸ƒå…ˆè¡Œç‰ˆæœ¬</h3><p>ç†è§£å®Œ<code>npm</code>ç‰ˆæœ¬å·ç›¸å…³çŸ¥è¯†åï¼Œé‚£å¦‚ä½•å‘å¸ƒ<code>alphaã€betaã€rc</code>ç‰ˆæœ¬å‘¢ï¼Ÿ</p><p>æˆ‘ä»¬å¯ä»¥çœ‹ä¸€ä¸‹<a href="https://github.com/release-it/release-it/blob/master/docs/pre-releases.md">pre-releases</a> ï¼Œå°±æ˜¯é€šè¿‡ä¸åŒçš„å‘½ä»¤å»åˆ›å»ºå‘å¸ƒä¸åŒçš„ç‰ˆæœ¬ï¼Œæ¯”å¦‚æˆ‘ç°åœ¨éœ€è¦å‘å¸ƒ<code>beta</code>ç‰ˆæœ¬ï¼Œå°±å¯ä»¥æ‰§è¡Œä¸€ä¸‹å‘½ä»¤ã€‚</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">âœ npx release-it major <span class="attribute">--preRelease</span>=beta</span><br><span class="line"><span class="comment"># å®é™…æ‰§è¡Œäº†ä¸‰æ­¥</span></span><br><span class="line"><span class="comment"># 1.ç‰ˆæœ¬å·ä» 0.2.0 æ›´æ–°è‡³ 1.0.0-beta.0</span></span><br><span class="line"><span class="comment"># 2.npmå‘å¸ƒç‰ˆæœ¬ä¼šæ‰“ä¸Šbetaæ ‡ç­¾ï¼Œå¯ä»¥é€šè¿‡ npm i xxxx@beta å®‰è£…</span></span><br><span class="line"><span class="comment"># 3.github releaseä¼šæ‰“ä¸Špre-releaseæ ‡è¯†</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç»¼åˆèµ·æ¥å°±æ˜¯</span></span><br><span class="line">release-it premajor <span class="attribute">--preReleaseId</span>=beta --npm.<span class="attribute">tag</span>=beta --github.preRelease</span><br></pre></td></tr></table></figure><ul><li><code>beta</code>å¯ä»¥æ¢æˆ<code>&quot;alpha&quot;, &quot;beta&quot;, &quot;rc&quot;</code></li><li><code>major</code>å¯ä»¥æ›¿æ¢æˆ<code>majorã€minorã€patch</code></li></ul><p>é¢„å‘å¸ƒç‰ˆæœ¬åœ¨æ›´æ”¹çš„è¿‡ç¨‹ä¸­ï¼ŒåŸæœ‰çš„å…ˆè¡Œç‰ˆæœ¬å·ä¼šæ¸…é›¶ã€‚æ¯”å¦‚æˆ‘ä»<code>1.2.1-alpha.4</code>å‡çº§åˆ°<code>beta</code>ç‰ˆæœ¬ï¼Œå°±ä¼šå˜æˆ<code>1.2.1-beta.0</code></p><p>å‡çº§ç‰ˆæœ¬æ—¶ï¼Œä¼šå°†é¢„å‘å¸ƒç‰ˆæœ¬æ¸…ç©ºï¼Œæ­¤æ—¶ç‰ˆæœ¬å·ä¸ä¼šå˜åŠ¨ã€‚æ¯”å¦‚æˆ‘ä¸Šä¸€ä¸ªç‰ˆæœ¬æ˜¯<code>3.0.0-rc.2</code>ï¼Œå½“æˆ‘ç›´æ¥å‡çº§<code>patch</code>å·å°±ä¼šå˜æˆ<code>3.0.0</code></p><p>å‡çº§å½“å‰é¢„å‘å¸ƒç‰ˆæœ¬</p><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">âœ npx release-<span class="keyword">it</span> <span class="comment">--preRelease</span></span><br></pre></td></tr></table></figure><p>å°†<code>alpha</code>ç‰ˆæœ¬ä¿®æ”¹ä¸º<code>beta</code>ç‰ˆæœ¬</p><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">âœ npx release-<span class="keyword">it</span> <span class="comment">--preRelease=beta</span></span><br></pre></td></tr></table></figure><p>å‡çº§<strong>majorã€minorã€patch</strong>ç‰ˆæœ¬å·</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">âœ npx release-it major<span class="regexp">/minor/</span>patch</span><br></pre></td></tr></table></figure><p>å½“æˆ‘ä»¬å‘å¸ƒå®Œåï¼Œéœ€è¦ä½¿ç”¨åˆ°é¢„å‘å¸ƒç‰ˆæœ¬ä¾èµ–äº‹ï¼Œå®‰è£…åŒ…çš„æ—¶å€™åŒ…ååé¢è¦å¸¦ä¸Š<code>@beta</code>æˆ–è€…æ˜¯å…¶ä»–ç‰ˆæœ¬</p><figure class="highlight livescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">npm</span> install release-<span class="literal">it</span>-test-wakaka@beta -D</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥å°†å‘½ä»¤æ‹†åˆ†å¼€æ¥ä½¿ç”¨</p><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åªå“åº”package.jsonä¸­çš„ç‰ˆæœ¬å·</span></span><br><span class="line">$ npx release-<span class="keyword">it</span> major <span class="comment">--preReleaseId=beta</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®npmå‘ç‰ˆæ—¶çš„æ ‡è¯†ä¸ºbeta</span></span><br><span class="line">$ npx release-<span class="keyword">it</span> major <span class="comment">--npm.tag=beta</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®github releaseä¸ºé¢„å‘å¸ƒ</span></span><br><span class="line">$ npx release-<span class="keyword">it</span> major <span class="comment">--github.preRelease</span></span><br></pre></td></tr></table></figure><h1 id="æŸ¥çœ‹åŒ…"><a class="markdownIt-Anchor" href="#æŸ¥çœ‹åŒ…"></a> æŸ¥çœ‹åŒ…</h1><p>æˆ‘ä»¬å‘å¸ƒå®Œä¹‹åï¼Œå¦‚ä½•æŸ¥çœ‹è‡ªå·±æ˜¯å¦å‘å¸ƒæˆåŠŸå‘¢ï¼Ÿæœ‰ä»¥ä¸‹å‡ ç§æ–¹å¼</p><h2 id="npmå®˜ç½‘æŸ¥çœ‹"><a class="markdownIt-Anchor" href="#npmå®˜ç½‘æŸ¥çœ‹"></a> npmå®˜ç½‘æŸ¥çœ‹</h2><p>å¯ä»¥åœ¨<code>npm</code>å®˜ç½‘ä¸Šç›´æ¥æœç´¢åŒ…çš„åå­—ï¼Œæˆ–è€…æ˜¯ç™»å½•è´¦å·ååœ¨<code>packages</code>ä¸­æŸ¥çœ‹è‡ªå·±å‘å¸ƒçš„åŒ…</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/272e26ba10ce436ba57b8929324234b6~tplv-k3u1fbpfcp-watermark.image?" alt="image.png" /></p><p>åœ¨<code>versions</code>ä¸­å¯ä»¥çœ‹åˆ°å†å²çš„ç‰ˆæœ¬</p><h2 id="ä½¿ç”¨npm-viewå‘½ä»¤"><a class="markdownIt-Anchor" href="#ä½¿ç”¨npm-viewå‘½ä»¤"></a> ä½¿ç”¨<code>npm view</code>å‘½ä»¤</h2><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"># æŸ¥çœ‹æŸä¸ª <span class="keyword">package</span> <span class="title">çš„æ³¨å†Œä¿¡æ¯</span></span><br><span class="line"></span><br><span class="line">npm view &lt;<span class="keyword">package</span>-name&gt;</span><br><span class="line"></span><br><span class="line"># æŸ¥çœ‹æŸä¸ª <span class="keyword">package</span> <span class="title">çš„æœ€æ–°ç‰ˆæœ¬</span></span><br><span class="line"></span><br><span class="line">npm view &lt;<span class="keyword">package</span>-name&gt; version</span><br><span class="line"></span><br><span class="line"># æŸ¥çœ‹æŸä¸ª <span class="keyword">package</span> <span class="title">åœ¨ npm æœåŠ¡å™¨ä¸Šæ‰€å‘å¸ƒè¿‡çš„ç‰ˆæœ¬</span></span><br><span class="line"></span><br><span class="line">npm view &lt;<span class="keyword">package</span>-name&gt; versions</span><br><span class="line"></span><br><span class="line"># æŸ¥çœ‹ä»“åº“ä¾èµ–æ ‘ä¸Šæ‰€æœ‰åŒ…çš„ç‰ˆæœ¬ä¿¡æ¯</span><br><span class="line"></span><br><span class="line">npm ls</span><br></pre></td></tr></table></figure><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5de038b60720431392391cb7038b31f8~tplv-k3u1fbpfcp-watermark.image?" alt="image.png" /></p><h2 id="ç›´æ¥å®‰è£…"><a class="markdownIt-Anchor" href="#ç›´æ¥å®‰è£…"></a> ç›´æ¥å®‰è£…</h2><p>ç®€å•ç²—æš´ï¼Œç›´æ¥é€šè¿‡<code>npm install &lt;package-name&gt;</code>å®‰è£…ä¸€ä¸‹åŒ…ï¼Œå¦‚æœå‘å¸ƒæˆåŠŸï¼Œå®‰è£…æ—¶æœ€å¥½å¦èµ·é¡¹ç›®ï¼Œä¸è¦åœ¨å½“å‰åŒ…é¡¹ç›®ä¸­å®‰è£…ã€‚</p><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7ce42ffdc77a441cba0e4e9b4b914650~tplv-k3u1fbpfcp-watermark.image?" alt="image.png" /></p><h1 id="è¸©å‘"><a class="markdownIt-Anchor" href="#è¸©å‘"></a> è¸©å‘</h1><h2 id="åŒ…åé‡å¤"><a class="markdownIt-Anchor" href="#åŒ…åé‡å¤"></a> åŒ…åé‡å¤</h2><p>å‘åŒ…å‰ï¼Œæœ€å¥½ç¡®è®¤ä¸€ä¸‹åŒ…åæœ‰æ²¡æœ‰é‡å¤ï¼Œå¦‚æœåŒ…åé‡å¤æ˜¯æ— æ³•å‘å¸ƒçš„ã€‚æ ¡éªŒåŒ…åæœ€ç®€å•çš„åŠæ³•å°±æ˜¯å»<code>npm</code>å®˜ç½‘ä¸Šæœä½ éœ€è¦å‘å¸ƒçš„åå­—ï¼Œå¦‚æœæœ‰å°±éœ€è¦æ¢ä¸€ä¸ªåå­—ï¼Œæ²¡æœ‰å°±å¯ä»¥å‘å¸ƒã€‚</p><p>é”™è¯¯çš„åŒ…åï¼Œæ— æ³•å‘å¸ƒ<br /><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ec191fae05844230ad21d343c7d8e5bc~tplv-k3u1fbpfcp-watermark.image?" alt="image.png" /></p><p>ä¿®æ”¹åï¼Œå‘å¸ƒæˆåŠŸ</p><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b0de13ab045e4b16a1b2181ab6a1ff98~tplv-k3u1fbpfcp-watermark.image?" alt="image.png" /></p><h2 id="æ²¡æœ‰gitä»“åº“æäº¤ä»£ç "><a class="markdownIt-Anchor" href="#æ²¡æœ‰gitä»“åº“æäº¤ä»£ç "></a> æ²¡æœ‰gitä»“åº“æäº¤ä»£ç </h2><p>åœ¨å®‰è£…å®Œ<code>@release-it/conventional-changelog</code>åï¼Œå¦‚æœæ²¡æœ‰åœ¨<code>git</code>è¿œç¨‹ä»“åº“æäº¤ä»£ç ï¼Œä¹Ÿæ˜¯ä¼šå‘å¸ƒå¤±è´¥<br /><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/554377c317a9413fbe6def8294878ffe~tplv-k3u1fbpfcp-watermark.image?" alt="image.png" /></p><p>æ·»åŠ è¿œç¨‹ä»“åº“å</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b6ea2cba27e34fe08f2b0feca46c68d6~tplv-k3u1fbpfcp-watermark.image?" alt="image.png" /></p><p>å½“æˆ‘ä»¬æ”¹å®Œä»£ç åï¼Œéœ€è¦è¿›è¡Œæäº¤ã€‚</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git <span class="keyword">add</span> .</span><br><span class="line">git <span class="keyword">commit</span> -m <span class="string">&#x27;xxxxx&#x27;</span></span><br><span class="line">git push</span><br></pre></td></tr></table></figure><h2 id="changelogæ–‡ä»¶æ²¡æœ‰commitä¿¡æ¯"><a class="markdownIt-Anchor" href="#changelogæ–‡ä»¶æ²¡æœ‰commitä¿¡æ¯"></a> changelogæ–‡ä»¶æ²¡æœ‰commitä¿¡æ¯</h2><p>ä¸ºä»€ä¹ˆæˆ‘æäº¤äº†commitï¼Œä½†æ˜¯ç”Ÿæˆçš„changelogä¸­æ²¡æœ‰commitä¿¡æ¯ï¼Ÿ</p><p>è¿™æ˜¯å› ä¸ºæäº¤çš„commitä¿¡æ¯ä¸ç¬¦åˆ<code>angular</code>è§„èŒƒï¼Œåœ¨<code>.release-it.json</code>æ–‡ä»¶ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">  <span class="string">&quot;plugins&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;@release-it/conventional-changelog&quot;</span>: &#123;</span><br><span class="line">      <span class="string">&quot;preset&quot;</span>: <span class="string">&quot;angular&quot;</span>,</span><br><span class="line">      <span class="string">&quot;infile&quot;</span>: <span class="string">&quot;CHANGELOG.md&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">...</span><br></pre></td></tr></table></figure><p>åªè¦æäº¤çš„è§„èŒƒç¬¦åˆ<code>angular</code>è§„èŒƒï¼Œå°±å¯ä»¥äº†ã€‚</p><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d0e6e6a55b594568a41b3d9ce421d697~tplv-k3u1fbpfcp-watermark.image?" alt="image.png" /></p><p><a href="https://www.conventionalcommits.org/zh-hans/v1.0.0/">çº¦å®šå¼æäº¤</a></p><p><a href="https://zj-git-guide.readthedocs.io/zh_CN/latest/message/Angular%E6%8F%90%E4%BA%A4%E4%BF%A1%E6%81%AF%E8%A7%84%E8%8C%83/">Angularæäº¤ä¿¡æ¯è§„èŒƒ</a></p><p><a href="https://github.com/release-it/conventional-changelog">@release-it/conventional-changelog</a></p><h1 id="æ€»ç»“"><a class="markdownIt-Anchor" href="#æ€»ç»“"></a> æ€»ç»“</h1><p><code>release-it</code>ä½¿ç”¨ä¸‹æ¥ï¼Œå‘ç°å®ƒå¸®æˆ‘ä»¬èŠ‚çœäº†å¾ˆå¤šæ—¶é—´ï¼Œæ•´ä½“å‘åŒ…æµç¨‹éƒ½å¾ˆè§„èŒƒã€‚ä¹‹å‰å·¥ä½œä¸­è¿›è¡Œå‘åŒ…çš„æ—¶å€™ï¼Œç›´æ¥ä¸€ä¸ª<code>npm publish</code>å°±å®Œäº‹ï¼Œä¹Ÿæ²¡æœ‰è€ƒè™‘åˆ°æ‰“<code>tag</code>ã€ç”Ÿæˆ<code>changelog</code>è¿™äº›äº‹æƒ…ã€‚è¿˜æœ‰æ›´å¤šæ‰©å±•æ€§åŠŸèƒ½ç­‰å¾…å‘ç°ï¼Œæ¯”å¦‚é…åˆä¸Š<code>commitizen</code>ç­‰å·¥å…·ï¼Œè‡ªå®šä¹‰<code>commit</code>ä¿¡æ¯ï¼Œè®©<code>changelog</code>å†…å®¹æ›´ä¸°å¯Œã€‚é…åˆ<a href="https://github.com/release-it/release-it#hooks">git hooks</a>ï¼Œæ‰§è¡Œå…¶ä»–çš„ä¸€äº›æ“ä½œã€‚</p><p>åŒç±»å‹çš„äº§å“è¿˜æœ‰<a href="https://github.com/conventional-changelog/standard-version">standard-version</a>ï¼Œä¹Ÿæ˜¯æä¾›è‡ªåŠ¨åŒ–å‘åŒ…æµç¨‹ï¼Œä½†æ•´ä½“æ¥è¯´è¿˜æ˜¯<code>release-it</code>æ›´çµæ´»ä¸€äº›ã€‚</p><p><strong>å‚è€ƒæ–‡ç« </strong></p><p><a href="https://juejin.cn/post/7161392772665540644">package.json é…ç½®å®Œå…¨è§£è¯»</a></p><p><a href="https://juejin.cn/post/7125709933709885448#heading-6">å›¾æ–‡ç»“åˆç®€å•æ˜“å­¦çš„npm åŒ…çš„å‘å¸ƒæµç¨‹</a></p><p><a href="https://juejin.cn/post/7133175128988319775">èŠèŠ npm çš„è¯­ä¹‰åŒ–ç‰ˆæœ¬ï¼ˆSemverï¼‰</a><br /><a href="https://segmentfault.com/a/1190000039813329">è‡ªåŠ¨äº§å‡ºchangelog-ç¬¬äºŒèŠ‚ï¼šè‡ªåŠ¨äº§å‡º</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;å‰è¨€&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#å‰è¨€&quot;&gt;&lt;/a&gt; å‰è¨€&lt;/h1&gt;
&lt;p&gt;ä½œä¸ºä¸€ååˆæ ¼çš„å‰(æ‘¸é±¼)å·¥ç¨‹å¸ˆï¼Œæ—¥å¸¸å·¥ä½œå¼€å‘ä¸­æˆ–å¤šæˆ–å°‘éƒ½è¦å’Œ&lt;code&gt;npm&lt;/code&gt;åŒ…æ‰“äº¤é“ã€‚ä¹‹å‰å·¥ä½œä¸­å°±æœ‰è¿‡å‘å¸ƒ&lt;code&gt;npm&lt;/</summary>
      
    
    
    <content src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/38f0a541fade49a3936bf73ce1b78a00~tplv-k3u1fbpfcp-watermark.image?" type="image"/>
    
    
    <category term="Git" scheme="https://wakaka378.github.io/categories/Git/"/>
    
    <category term="å·¥ç¨‹åŒ–" scheme="https://wakaka378.github.io/categories/Git/%E5%B7%A5%E7%A8%8B%E5%8C%96/"/>
    
    <category term="npm" scheme="https://wakaka378.github.io/categories/Git/%E5%B7%A5%E7%A8%8B%E5%8C%96/npm/"/>
    
    
    <category term="npm" scheme="https://wakaka378.github.io/tags/npm/"/>
    
    <category term="å·¥ç¨‹åŒ–" scheme="https://wakaka378.github.io/tags/%E5%B7%A5%E7%A8%8B%E5%8C%96/"/>
    
  </entry>
  
  <entry>
    <title>è®°ä¸€æ¬¡vue@cliåˆ›å»ºé¡¹ç›®prettierå¤±æ•ˆ</title>
    <link href="https://wakaka378.github.io/8d142cc6d228.html"/>
    <id>https://wakaka378.github.io/8d142cc6d228.html</id>
    <published>2023-05-31T13:41:00.000Z</published>
    <updated>2023-06-14T13:16:09.153Z</updated>
    
    <content type="html"><![CDATA[<h1 id="è®°ä¸€æ¬¡vuecliåˆ›å»ºé¡¹ç›®prettierå¤±æ•ˆ"><a class="markdownIt-Anchor" href="#è®°ä¸€æ¬¡vuecliåˆ›å»ºé¡¹ç›®prettierå¤±æ•ˆ"></a> è®°ä¸€æ¬¡vue@cliåˆ›å»ºé¡¹ç›®prettierå¤±æ•ˆ</h1><p>æœ€è¿‘åœ¨å­¦vue3ï¼Œä½¿ç”¨<code>vue@cli</code>åˆ›å»ºé¡¹ç›®çš„æ—¶å€™çªç„¶å‘ç°<code>prettier</code>å¤±æ•ˆã€‚å„ç§ä¸Šç½‘æŸ¥èµ„æ–™ï¼Œä¿®æ”¹vscodeé…ç½®æ“ä½œéƒ½ä¸è¡Œã€‚åæ¥å¼€ä¸¤ä¸ªé¡¹ç›®ï¼Œä¸€ä¸ªä½¿ç”¨<code>vue@cli</code>ä¸€ä¸ªæ‰‹åŠ¨åˆ›å»ºï¼Œå‘ç°ä½¿ç”¨<code>vue@cli</code>åˆ›å»ºçš„é¡¹ç›®å°±æ˜¯å­˜åœ¨å¤±æ•ˆçš„é—®é¢˜ï¼Œæ’æŸ¥äº†å¾ˆä¹…æ‰å‘ç°æ˜¯å®˜æ–¹é…ç½®é—®é¢˜ï¼Œå¯ä»¥æŸ¥çœ‹æˆ‘æçš„<a href="https://github.com/vuejs/create-eslint-config/issues/9">issues</a></p><h1 id="vuecliåˆ›å»ºé¡¹ç›®"><a class="markdownIt-Anchor" href="#vuecliåˆ›å»ºé¡¹ç›®"></a> vue@cliåˆ›å»ºé¡¹ç›®</h1><p>Vue3æ”¯æŒç”¨<code>vue@cli</code>åˆ›å»ºé¡¹ç›®ï¼Œä½†å‰ææ˜¯<code>vue@cli</code>ç‰ˆæœ¬è¦åœ¨5.xä»¥ä¸Šï¼Œ4.xçš„ç‰ˆæœ¬å‡çº§ä¸€ä¸‹å°±å¯ä»¥ã€‚</p><p>åˆ›å»ºé¡¹ç›®</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm init vue@last</span><br></pre></td></tr></table></figure><p>è¿™ä¸€æŒ‡ä»¤å°†ä¼šå®‰è£…å¹¶æ‰§è¡Œ <code>create-vue</code>ï¼Œå®ƒæ˜¯ Vue å®˜æ–¹çš„é¡¹ç›®è„šæ‰‹æ¶å·¥å…·ã€‚ä½ å°†ä¼šçœ‹åˆ°ä¸€äº›è¯¸å¦‚ TypeScript å’Œæµ‹è¯•æ”¯æŒä¹‹ç±»çš„å¯é€‰åŠŸèƒ½æç¤ºï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">âœ” Project name<span class="punctuation">:</span> â€¦ &lt;your-project-name&gt; <span class="comment">// é¡¹ç›®åç§°</span></span><br><span class="line">âœ” Add TypeScript? â€¦ No / Yes <span class="comment">// æ·»åŠ ts</span></span><br><span class="line">âœ” Add JSX Support? â€¦ No / Yes <span class="comment">// æ·»åŠ jsxæ”¯æŒ</span></span><br><span class="line">âœ” Add Vue Router for Single Page Application development? â€¦ No / Yes <span class="comment">// æ·»åŠ  router</span></span><br><span class="line">âœ” Add Pinia for state management? â€¦ No / Yes <span class="comment">// æ·»åŠ  Pinia</span></span><br><span class="line">âœ” Add Vitest for Unit testing? â€¦ No / Yes <span class="comment">// æ·»åŠ  vitest</span></span><br><span class="line">âœ” Add an End-to-End Testing Solution? â€¦ No / Cypress / Playwright <span class="comment">// æ·»åŠ ç«¯åˆ°ç«¯æµ‹è¯•</span></span><br><span class="line">âœ” Add ESLint for code quality? â€¦ No / Yes <span class="comment">// æ·»åŠ Eslit</span></span><br><span class="line">âœ” Add Prettier for code formatting? â€¦ No / Yes <span class="comment">// æ·»åŠ Prettier</span></span><br></pre></td></tr></table></figure><p>æŒ‰ç…§è‡ªå·±çš„éœ€æ±‚é€‰æ‹©å®Œä¹‹å</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> vue-project2</span><br><span class="line">npm install</span><br><span class="line">npm run dev</span><br></pre></td></tr></table></figure><p>æˆ‘å½“æ—¶æ˜¯é€‰æ‹©äº†<code>eslint</code>å’Œ<code>prettier</code>é…ç½®ï¼Œæœ€åä¼šç”Ÿæˆå¯¹åº”çš„é…ç½®æ–‡ä»¶ï¼Œè¿™é‡Œå°±åªå…³å¿ƒä¸€ä¸‹<code>.eslintrc.cjs</code>æ–‡ä»¶</p><figure class="highlight cjs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* eslint-env node */</span></span><br><span class="line"><span class="built_in">require</span>(<span class="string">&#x27;@rushstack/eslint-patch/modern-module-resolution&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">root</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">extends</span>: [</span><br><span class="line">    <span class="string">&#x27;plugin:vue/vue3-essential&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;eslint:recommended&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;@vue/eslint-config-typescript&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;@vue/eslint-config-prettier/skip-formatting&#x27;</span></span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">parserOptions</span>: &#123;</span><br><span class="line">    <span class="attr">ecmaVersion</span>: <span class="string">&#x27;latest&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="é—®é¢˜"><a class="markdownIt-Anchor" href="#é—®é¢˜"></a> é—®é¢˜</h1><p>ç”±äºæ˜¯vue3é¡¹ç›®ï¼Œæˆ‘ç›´æ¥æŠŠ<code>vetur</code>æ’ä»¶ç¦ç”¨æ‰ï¼Œä½¿ç”¨<code>volar</code>æ’ä»¶</p><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/38e16164b8c24e02a51b9ebbcc8663e8~tplv-k3u1fbpfcp-watermark.image?" alt="image.png" /></p><p>å¯¹åº”çš„<code>eslint</code>ã€<code>prettier</code>æ’ä»¶éƒ½æœ‰å®‰è£…ï¼ŒVsCodeè‡ªåŠ¨ä¿å­˜ä¿®å¤ä¹Ÿæ‰“å¼€ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;editor.codeActionsOnSave&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;source.fixAll&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="string">&quot;source.fixAll.eslint&quot;</span>: <span class="literal">true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç„¶åä¿®æ”¹ä¸€ä¸‹ä»£ç ï¼Œæµ‹è¯•ä¸€ä¸‹<code>prettier</code>åŠŸèƒ½ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup lang=<span class="string">&quot;ts&quot;</span>&gt;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">RouterLink</span>, <span class="title class_">RouterView</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">HelloWorld</span> <span class="keyword">from</span> <span class="string">&#x27;./components/HelloWorld.vue&#x27;</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">header</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">alt</span>=<span class="string">&quot;Vue logo&quot;</span> <span class="attr">class</span>=<span class="string">&quot;logo&quot;</span> <span class="attr">src</span>=<span class="string">&quot;@/assets/logo.svg&quot;</span> <span class="attr">width</span>=<span class="string">&quot;125&quot;</span> <span class="attr">height</span>=<span class="string">&quot;125&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;wrapper&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">HelloWorld</span> <span class="attr">msg</span>=<span class="string">&quot;You did it!&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">nav</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">RouterLink</span> <span class="attr">to</span>=<span class="string">&quot;/&quot;</span>&gt;</span>Home<span class="tag">&lt;/<span class="name">RouterLink</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">RouterLink</span> <span class="attr">to</span>=<span class="string">&quot;/about&quot;</span>&gt;</span>About<span class="tag">&lt;/<span class="name">RouterLink</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">nav</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">header</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">RouterView</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å¾ˆå®¹æ˜“å‘ç°ä»£ç ä¼šæœ‰å‡ ä¸ªé”™è¯¯åœ¨é‡Œé¢ï¼Œç›¸åŒçš„ä»£ç æˆ‘æ”¾åœ¨ä¸€ä¸ª<code>prettier</code>åŠŸèƒ½å®Œå¥½çš„é¡¹ç›®é‡Œé¢å°±å‘ç°é”™è¯¯ã€‚</p><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a64a8a2edc99462a868b538b18ec8ef6~tplv-k3u1fbpfcp-watermark.image?" alt="image.png" /></p><h1 id="æ’æŸ¥"><a class="markdownIt-Anchor" href="#æ’æŸ¥"></a> æ’æŸ¥</h1><p>ä¸ºä»€ä¹ˆä¼šè¿™æ ·ï¼Œæˆ‘ä¿®æ”¹äº†<code>vue@cli</code>åˆ›å»ºé¡¹ç›®çš„å¥½å¤šé…ç½®ï¼Œä¸»è¦æ’æŸ¥å¯¹è±¡æ”¾åœ¨<code>eslint</code>ã€<code>vscodeç¼–è¾‘å™¨</code>ä¸Šï¼Œç”šè‡³é‡æ–°å®‰è£…ç›¸å…³ä¾èµ–ï¼Œä¸ä½¿ç”¨è„šæ‰‹æ¶æä¾›çš„ï¼Œè¿˜æ˜¯æ²¡æœ‰å‘ç°é—®é¢˜ã€‚</p><p>åƒå®Œé¥­åæ— æ„ä¸­å‘ç°<code>eslint</code>çš„ä¸€ä¸ªé…ç½®åé¢åŠ äº†<code>skip-formatting</code>ï¼Œä¸ºå•¥è¦è·³è¿‡é…ç½®ï¼Ÿç„¶åæŠŠè¿™ä¸ªé€‰é¡¹ç§»é™¤ï¼ŒæƒŠå¥‡çš„å‘ç°å¯ä»¥ç”¨äº†ã€‚</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">/* eslint-env node */</span><br><span class="line">require(&#x27;@rushstack/eslint-patch/modern-module-resolution&#x27;)</span><br><span class="line"></span><br><span class="line">module.exports = &#123;</span><br><span class="line">  root: true,</span><br><span class="line">  &#x27;extends&#x27;: [</span><br><span class="line">    &#x27;plugin:vue/vue3-essential&#x27;,</span><br><span class="line">    &#x27;eslint:recommended&#x27;,</span><br><span class="line">    &#x27;@vue/eslint-config-typescript&#x27;,</span><br><span class="line"><span class="deletion">-   &#x27;@vue/eslint-config-prettier/skip-formatting&#x27;</span></span><br><span class="line"><span class="addition">+   &#x27;@vue/eslint-config-prettier&#x27;</span></span><br><span class="line">  ],</span><br><span class="line">  parserOptions: &#123;</span><br><span class="line">    ecmaVersion: &#x27;latest&#x27;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ç„¶åæŸ¥çœ‹è¿™ä¸ªåŒ…æ–‡ä»¶ï¼Œ<code>skip-formatting</code>åˆ°åº•æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿå®ƒåœ¨<code>node_modules/@vue/eslint-config-prettier/skip-formatting.js</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">extends</span>: [<span class="built_in">require</span>.<span class="title function_">resolve</span>(<span class="string">&quot;./index.js&quot;</span>)],</span><br><span class="line">  <span class="attr">rules</span>: &#123;</span><br><span class="line">    <span class="string">&quot;prettier/prettier&quot;</span>: <span class="string">&quot;off&quot;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æœ‰ä¸€ä¸ªå¾ˆå…³é”®çš„ä»£ç <code>&quot;prettier/prettier&quot;: &quot;off&quot;,</code>å®ƒæŠŠ<code>prettier</code>å…³é—­äº†ï¼Œä¸ºä»€ä¹ˆè¦å…³é—­è¿™ä¸ªé…ç½®å‘¢ï¼Œç™¾æ€ä¸å¾—å…¶è§£ï¼Œç„¶åå»æŸ¥é˜…<code>Vue</code>ä»“åº“ä¸‹çš„<a href="https://github.com/vuejs/create-vue">create-vue</a>ç›¸å…³ä»£ç ï¼Œå‘ç°å®˜æ–¹ç”¨çš„æ˜¯å¦å¤–ä¸€ä¸ª<code>eslint</code>é…ç½®ä»“åº“<a href="https://github.com/vuejs/create-eslint-config">create-eslint-config</a></p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> fs <span class="keyword">from</span> <span class="string">&#x27;node:fs&#x27;</span></span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> path <span class="keyword">from</span> <span class="string">&#x27;node:path&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="keyword">type</span> &#123; <span class="title class_">Linter</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;eslint&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> createESLintConfig <span class="keyword">from</span> <span class="string">&#x27;@vue/create-eslint-config&#x27;</span> <span class="comment">// create-eslint-configé¡¹ç›®</span></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> &#123; pkg, files &#125; = <span class="title function_">createESLintConfig</span>(&#123;</span><br><span class="line">    <span class="attr">vueVersion</span>: <span class="string">&#x27;3.x&#x27;</span>,</span><br><span class="line">    <span class="comment">// we currently don&#x27;t support other style guides</span></span><br><span class="line">    <span class="attr">styleGuide</span>: <span class="string">&#x27;default&#x27;</span>,</span><br><span class="line">    <span class="attr">hasTypeScript</span>: needsTypeScript,</span><br><span class="line">    needsPrettier, <span class="comment">// needsPrettierå‚æ•°ä»è„šæ‰‹æ¶é…ç½®å‘½ä»¤è¡Œå‚æ•°é‡Œé¢è·å–</span></span><br><span class="line"></span><br><span class="line">    additionalConfig,</span><br><span class="line">    additionalDependencies</span><br><span class="line">  &#125;)</span><br><span class="line">  ...</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹ä¸€ä¸‹<code>create-eslint-config</code>é¡¹ç›®é‡Œé¢çš„ç›¸å…³ä»£ç </p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// This is also used in `create-vue`</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">createConfig</span> (&#123;</span><br><span class="line">  vueVersion = <span class="string">&#x27;3.x&#x27;</span>, <span class="comment">// &#x27;2.x&#x27; | &#x27;3.x&#x27; (<span class="doctag">TODO:</span> 2.7 / vue-demi)</span></span><br><span class="line"></span><br><span class="line">  styleGuide = <span class="string">&#x27;default&#x27;</span>, <span class="comment">// default | airbnb | typescript</span></span><br><span class="line">  hasTypeScript = <span class="literal">false</span>, <span class="comment">// js | ts</span></span><br><span class="line">  needsPrettier = <span class="literal">false</span>, <span class="comment">// true | false</span></span><br><span class="line"></span><br><span class="line">  additionalConfig = &#123;&#125;, <span class="comment">// e.g. Cypress, createAliasSetting for Airbnb, etc.</span></span><br><span class="line">  additionalDependencies = &#123;&#125; <span class="comment">// e.g. eslint-plugin-cypress</span></span><br><span class="line">&#125;) &#123;</span><br><span class="line">  <span class="comment">// This is the pkg object to extend</span></span><br><span class="line">  <span class="keyword">const</span> pkg = &#123; <span class="attr">devDependencies</span>: &#123;&#125; &#125;</span><br><span class="line">  <span class="keyword">const</span> <span class="title function_">addDependency</span> = (<span class="params">name</span>) =&gt; &#123;</span><br><span class="line">    pkg.<span class="property">devDependencies</span>[name] = versionMap[name]</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="title function_">deepMerge</span>(pkg.<span class="property">devDependencies</span>, additionalDependencies)</span><br><span class="line">  <span class="title function_">deepMerge</span>(eslintConfig, additionalConfig)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (needsPrettier) &#123;</span><br><span class="line">    <span class="title function_">addDependency</span>(<span class="string">&#x27;prettier&#x27;</span>)</span><br><span class="line">    <span class="title function_">addDependency</span>(<span class="string">&#x27;@vue/eslint-config-prettier&#x27;</span>)</span><br><span class="line">    eslintConfig.<span class="property">extends</span>.<span class="title function_">push</span>(<span class="string">&#x27;@vue/eslint-config-prettier/skip-formatting&#x27;</span>) <span class="comment">// è¿™é‡Œå¾€eslintçš„extendå±æ€§é‡Œé¢æ·»åŠ äº†é…ç½®</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> files = &#123;</span><br><span class="line">    <span class="string">&#x27;.eslintrc.cjs&#x27;</span>: <span class="string">&#x27;&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">...</span><br></pre></td></tr></table></figure><p>å°±æ˜¯è¿™è¡Œ<code>eslintConfig.extends.push('@vue/eslint-config-prettier/skip-formatting') </code>å®ƒæ·»åŠ çš„æ˜¯é…ç½®é‡Œé¢å¯¹åº”çš„<code>skip-formatting</code>é…ç½®ï¼Œä¹Ÿå°±æ˜¯å…³æ‰<code>prettier</code>é‚£ä¸ªã€‚</p><p>åœ¨<a href="https://github.com/vuejs/create-eslint-config/commit/cf0bd483ce698413cf8ecbef9ab941f813d83453">è¿™ä¸ªcommit</a>é‡Œé¢ï¼Œä½œè€…é‡æ„äº†è¿™ä¸ªé…ç½®ï¼Œç›®çš„æ˜¯ä¸ºäº†ä½¿ç”¨<code>prettier</code>æ—¶ï¼Œä¸ä½¿ç”¨<code>eslint</code>æ ¼å¼åŒ–ã€‚</p><p>ä½†æˆ‘ä»¬æ—¥å¸¸å¼€å‘ä¸­ï¼Œé€šå¸¸éƒ½æ˜¯<code>prettier</code>å’Œ<code>eslint</code>éƒ½æ˜¯ä¸€èµ·ä½¿ç”¨çš„ï¼Œå¦‚æœè¦æƒ³å•ç‹¬ä½¿ç”¨æŸä¸€ä¸ªçš„è¯ï¼Œ<code>skip-formatting</code>å‚æ•°åº”è¯¥æ˜¯æ ¹æ®ç”¨æˆ·æ˜¯å¦åœ¨<code>prettier</code>å’Œ<code>eslint</code>äºŒé€‰ä¸€çš„æ—¶å€™å†³å®šï¼Œä¹Ÿä¸çŸ¥é“è¿™æ ·åšæ˜¯ä¸ºäº†ä»€ä¹ˆã€‚</p><h1 id="è§£å†³"><a class="markdownIt-Anchor" href="#è§£å†³"></a> è§£å†³</h1><p>æœ€åçš„è§£å†³åŠæ³•å°±å¾ˆç®€å•</p><ol><li>ä¸ä½¿ç”¨<code>skip-formatting</code>è¿™ä¸ªé…ç½®æ–‡ä»¶</li></ol><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">/* eslint-env node */</span><br><span class="line">require(&#x27;@rushstack/eslint-patch/modern-module-resolution&#x27;)</span><br><span class="line"></span><br><span class="line">module.exports = &#123;</span><br><span class="line">  root: true,</span><br><span class="line">  &#x27;extends&#x27;: [</span><br><span class="line">    &#x27;plugin:vue/vue3-essential&#x27;,</span><br><span class="line">    &#x27;eslint:recommended&#x27;,</span><br><span class="line">    &#x27;@vue/eslint-config-typescript&#x27;,</span><br><span class="line"><span class="deletion">-   &#x27;@vue/eslint-config-prettier/skip-formatting&#x27;</span></span><br><span class="line"><span class="addition">+   &#x27;@vue/eslint-config-prettier&#x27;</span></span><br><span class="line">  ],</span><br><span class="line">  parserOptions: &#123;</span><br><span class="line">    ecmaVersion: &#x27;latest&#x27;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><ol start="2"><li>è¿™ä¸ªæ–‡ä»¶ä¸æ˜¯å§<code>prettier</code>ç»™å…³æ‰äº†å—ï¼Œæˆ‘ä»¬æ‰“å¼€å°±è¡Œã€‚</li></ol><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">/* eslint-env node */</span><br><span class="line">require(&#x27;@rushstack/eslint-patch/modern-module-resolution&#x27;)</span><br><span class="line"></span><br><span class="line">module.exports = &#123;</span><br><span class="line">  root: true,</span><br><span class="line">  extends: [</span><br><span class="line">    &#x27;plugin:vue/vue3-essential&#x27;,</span><br><span class="line">    &#x27;eslint:recommended&#x27;,</span><br><span class="line">    &#x27;@vue/eslint-config-typescript&#x27;,</span><br><span class="line">    &#x27;@vue/eslint-config-prettier/skip-formatting&#x27;</span><br><span class="line">  ],</span><br><span class="line">  parserOptions: &#123;</span><br><span class="line">    ecmaVersion: &#x27;latest&#x27;</span><br><span class="line">  &#125;,</span><br><span class="line"><span class="addition">+  rules: &#123;</span></span><br><span class="line"><span class="addition">+    &#x27;prettier/prettier&#x27;: &#x27;error&#x27;</span></span><br><span class="line"><span class="addition">+  &#125;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;è®°ä¸€æ¬¡vuecliåˆ›å»ºé¡¹ç›®prettierå¤±æ•ˆ&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#è®°ä¸€æ¬¡vuecliåˆ›å»ºé¡¹ç›®prettierå¤±æ•ˆ&quot;&gt;&lt;/a&gt; è®°ä¸€æ¬¡vue@cliåˆ›å»ºé¡¹ç›®prettierå¤±æ•ˆ&lt;/h1&gt;
&lt;p&gt;æœ€è¿‘åœ¨å­¦vue3</summary>
      
    
    
    <content src="https://www.runoob.com/wp-content/uploads/2017/01/vue.png" type="image"/>
    
    
    <category term="Vue" scheme="https://wakaka378.github.io/categories/Vue/"/>
    
    <category term="å·¥ç¨‹åŒ–ï¼Œprettier" scheme="https://wakaka378.github.io/categories/Vue/%E5%B7%A5%E7%A8%8B%E5%8C%96%EF%BC%8Cprettier/"/>
    
    
    <category term="Vue3" scheme="https://wakaka378.github.io/tags/Vue3/"/>
    
    <category term="vue@cli" scheme="https://wakaka378.github.io/tags/vue-cli/"/>
    
    <category term="prettier" scheme="https://wakaka378.github.io/tags/prettier/"/>
    
  </entry>
  
  <entry>
    <title>é˜²æŠ–debounceç†è§£</title>
    <link href="https://wakaka378.github.io/b1ab80e28404.html"/>
    <id>https://wakaka378.github.io/b1ab80e28404.html</id>
    <published>2023-04-09T13:54:09.000Z</published>
    <updated>2023-06-14T13:17:40.439Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ebd170e14b414cc89fd50f01fdb78487~tplv-k3u1fbpfcp-watermark.image?" alt="" style="width:100%" /></p><blockquote><p>ã€Œæˆ‘æ­£åœ¨å‚ä¸æ˜é‡‘ä¼šå‘˜ä¸“å±æ´»åŠ¨-æºç å…±è¯»ç¬¬ä¸€æœŸï¼Œ<a href="https://juejin.cn/post/7169502488557518878" title="https://juejin.cn/post/7169502488557518878">ç‚¹å‡»å‚ä¸</a>ã€</p></blockquote><h1 id="å‰è¨€"><a class="markdownIt-Anchor" href="#å‰è¨€"></a> å‰è¨€</h1><p><strong>é˜²æŠ–</strong>ç›¸ä¿¡å¤§å®¶éƒ½ä¸é™Œç”Ÿï¼Œé¢è¯•ä¸­ä¼šç»å¸¸ä¼šè¢«é—®é¢˜æˆ–æèµ·ã€‚æ¯”å¦‚ä¼šé—®ä¸€äº›å‰ç«¯ä¼˜åŒ–ã€æ‰‹å†™<strong>é˜²æŠ–èŠ‚æµå‡½æ•°</strong>ç­‰ç­‰ï¼Œè¿™é‡Œå°±è·Ÿç€<a href="https://github.com/jashkenas/underscore/blob/master/modules/debounce.js">underscore</a> æºç æ¥å­¦ä¹ ä¸€ä¸‹ã€‚</p><h1 id="å®šä¹‰"><a class="markdownIt-Anchor" href="#å®šä¹‰"></a> å®šä¹‰</h1><p><strong>åœ¨è§„å®šæ—¶é—´åæ‰æ‰§è¡Œï¼Œå¦‚æœè§¦å‘åˆ™é‡æ–°è®¡æ—¶</strong><br />ä¹Ÿå°±æ˜¯è¯´ï¼Œé˜²æŠ–å‡½æ•°åœ¨nç§’å†…ï¼Œæ— è®ºè§¦å‘äº†å¤šå°‘æ¬¡å‡½æ•°å›è°ƒï¼Œæˆ‘éƒ½åªåªåœ¨nç§’åæ‰§è¡Œä¸€æ¬¡ã€‚æ¯”å¦‚æˆ‘ä»¬è®¾ç½®ä¸€ä¸ªç­‰å¾…æ—¶é—´ä¸º5ç§’çš„é˜²æŠ–å‡½æ•°ï¼Œå¦‚æœ5ç§’å†…æœ‰è§¦å‘ï¼Œå°±éœ€è¦é‡æ–°è®¡æ—¶ï¼Œç›´åˆ°5ç§’å†…æ²¡æœ‰è§¦å‘å°±è°ƒç”¨æ‰§è¡Œã€‚</p><h1 id="ä½¿ç”¨åœºæ™¯"><a class="markdownIt-Anchor" href="#ä½¿ç”¨åœºæ™¯"></a> ä½¿ç”¨åœºæ™¯</h1><p>æœ€è¿‘é¡¹ç›®ä¸­æœ‰ä¸€ä¸ªè¡¨å•æœç´¢åœºæ™¯ï¼Œåœ¨è¾“å…¥æ–‡å­—çš„è¿‡ç¨‹ä¸­ä¼šæŒç»­è§¦å‘<code>oninput</code>äº‹ä»¶ï¼Œè€Œæœç´¢æ¥å£åªæ˜¯åœ¨ç”¨æˆ·è¾“å…¥æœç´¢æ–‡å­—åè¿›è¡Œè°ƒç”¨ã€‚å¦‚æœæ˜¯ç”¨æˆ·è¾“å…¥ä¸€ä¸ªæ–‡å­—å°±æœç´¢ä¸€æ¬¡ï¼Œä¸ä»…ä¼šé¢‘ç¹è°ƒç”¨åå°æ¥å£ï¼Œå‰ç«¯æ˜¾ç¤ºæ•ˆæœä¹Ÿä¸å¥½ã€‚</p><p>ä½¿ç”¨<strong>é˜²æŠ–</strong>çš„è¯ï¼Œå¯ä»¥å°†æ¥å£è°ƒç”¨è®¾å®šåœ¨<code>500ms</code>å†…æ²¡æœ‰è§¦å‘<code>oninput</code>äº‹ä»¶åå†è°ƒç”¨æ¥å£ï¼Œè¿™æ ·å°±å¯ä»¥è§£å†³é—®é¢˜ã€‚</p><p>è¿˜ä¼šåœ¨å…¶ä»–åœºæ™¯ä½¿ç”¨</p><ul><li>ä¸€äº›é¢‘ç¹ç‚¹å‡»æ“ä½œçš„æŒ‰é’®ï¼Œæ¯”å¦‚ç™»å½•ã€çŸ­ä¿¡éªŒè¯ï¼Œé¿å…ç”¨æˆ·çŸ­æ—¶é—´å¤šæ¬¡å‘é€</li><li>è°ƒæ•´æµè§ˆå™¨çª—å£å¤§å°æ—¶ï¼Œresize æ¬¡æ•°è¿‡äºé¢‘ç¹ï¼Œé€ æˆè®¡ç®—è¿‡å¤šï¼Œæ­¤æ—¶éœ€è¦ä¸€æ¬¡åˆ°ä½ï¼Œå°±ç”¨åˆ°äº†é˜²æŠ–</li><li>é¼ æ ‡ç§»åŠ¨<code>mousedown</code>è®¡ç®—ç­‰åœºæ™¯</li></ul><h1 id="å®ç°åŸç†"><a class="markdownIt-Anchor" href="#å®ç°åŸç†"></a> å®ç°åŸç†</h1><p>å®ç°åŸç†å…¶å®å¾ˆç®€å•ï¼Œå°±æ˜¯åˆ©ç”¨å®šæ—¶å™¨ï¼Œå‡½æ•°åœ¨æœ€å¼€å§‹æ‰§è¡Œçš„æ—¶å€™å°±è®¾å®šä¸€ä¸ªå®šæ—¶å™¨ï¼Œå¦‚æœåœ¨nç§’å†…æœ‰æ‰§è¡Œå°±å§å®šæ—¶å™¨æ¸…ç©ºï¼Œé‡æ–°è®¾å®šä¸€ä¸ªæ–°çš„å®šæ—¶å™¨ï¼Œå½“nç§’å†…æ²¡æœ‰å†è°ƒç”¨åï¼Œå®šæ—¶å™¨è®¡æ—¶ç»“æŸåå°±ä¼šè§¦å‘å›è°ƒã€‚</p><h1 id="ç¬¬ä¸€ç‰ˆ"><a class="markdownIt-Anchor" href="#ç¬¬ä¸€ç‰ˆ"></a> ç¬¬ä¸€ç‰ˆ</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* debounceé˜²æŠ–</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> &#123;<span class="type"> function </span>&#125; fn å›è°ƒ</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> &#123;<span class="type"> number </span>&#125; wait ç­‰å¾…æ—¶é—´</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">debounce</span>(<span class="params">fn, wait = <span class="number">300</span></span>) &#123;</span><br><span class="line">    <span class="comment">// åˆ©ç”¨é—­åŒ…ç”Ÿæˆå”¯ä¸€çš„ä¸€ä¸ªå®šæ—¶å™¨</span></span><br><span class="line">    <span class="keyword">let</span> timer = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œå½“ä½œè§¦å‘äº‹ä»¶æ‰§è¡Œ</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params">...args</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (timer) &#123;</span><br><span class="line">        <span class="comment">// ä¸Šä¸€æ¬¡å­˜åœ¨å®šæ—¶å™¨ï¼Œéœ€è¦æ¸…ç©º</span></span><br><span class="line">        <span class="built_in">clearTimeout</span>(timer);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">// è®¾å®šå®šæ—¶å™¨ï¼Œå®šæ—¶å™¨ç»“æŸåæ‰§è¡Œå›è°ƒå‡½æ•° fn  å¦‚æœå¤šæ¬¡è§¦å‘å°±é‡æ–°è®¾å®š</span></span><br><span class="line">      timer = <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        fn.<span class="title function_">apply</span>(<span class="variable language_">this</span>, args);</span><br><span class="line">      &#125;, wait);</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å†å†™ä¸€ä¸ªè¾“å…¥æ¡†äº‹ä»¶æ¥æµ‹è¯•ä¸€ä¸‹</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;input type=<span class="string">&quot;text&quot;</span> oninput=<span class="string">&quot;oninputHandler(event)&quot;</span> /&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">const</span> testFn = <span class="title function_">debounce</span>(<span class="function">(<span class="params">event</span>) =&gt;</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;æ‰§è¡Œé˜²æŠ–&#x27;</span>, event.<span class="property">target</span>.<span class="property">value</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;, <span class="number">1000</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="comment">// æ‰§è¡Œé˜²æŠ– åœæ­¢ scroll äº‹ä»¶å 1 ç§’æ‰§è¡Œå›è°ƒ</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">function</span> <span class="title function_">oninputHandler</span>(<span class="params">event</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="title function_">testFn</span>(event);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="comment">// ä¸æ‰§è¡Œé˜²æŠ–</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">function</span> <span class="title function_">oninputHandler</span>(<span class="params">event</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;input change value: &#x27;</span> + event.<span class="property">target</span>.<span class="property">value</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p>è¿™æ˜¯æ²¡æœ‰æ‰§è¡Œé˜²æŠ–<br /><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5957c66dae0b4b6b89381351da99ae35~tplv-k3u1fbpfcp-watermark.image?" alt="Kapture 2022-12-04 at 21.56.21.gif" /></p><p>å¼€å¯é˜²æŠ–å<br /><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ebd170e14b414cc89fd50f01fdb78487~tplv-k3u1fbpfcp-watermark.image?" alt="Kapture 2022-12-04 at 21.57.44.gif" /></p><p>æ•ˆæœè¿˜æ˜¯å¾ˆæ˜æ˜¾çš„ï¼Œä»åŸæ¥çš„è¾“å…¥ä¸€ä¸ªå€¼å°±è§¦å‘ï¼Œåˆ°ç°åœ¨1ç§’å†…æ²¡æœ‰è¾“å…¥æ‰è§¦å‘ï¼Œè‡³æ­¤ï¼Œ<strong>ç®€å•ç‰ˆé˜²æŠ–</strong>å°±å·²ç»å®ç°äº†ã€‚</p><h1 id="ç¬¬äºŒç‰ˆ"><a class="markdownIt-Anchor" href="#ç¬¬äºŒç‰ˆ"></a> ç¬¬äºŒç‰ˆ</h1><p>æ¥ä¸‹æ¥å†æ¥å¯¹<strong>é˜²æŠ–</strong>åšä¸€ä¸‹æ”¹é€ ï¼Œåœ¨é¦–æ¬¡è°ƒç”¨çš„æ—¶å€™ç«‹å³æ‰§è¡Œå‡½æ•°ï¼Œç­‰åˆ°nç§’å†…æ²¡æœ‰è§¦å‘ï¼Œæ‰å¯ä»¥é‡æ–°è§¦å‘æ‰§è¡Œã€‚</p><p>å¬èµ·æ¥æœ‰ç‚¹ç»•ï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨<code>oninput</code>äº‹ä»¶ç¬¬ä¸€æ¬¡è§¦å‘çš„æ—¶å€™å°±æ‰§è¡Œï¼Œåç»­çš„è§¦å‘éƒ½ä¸æ‰§è¡Œã€‚ç­‰åˆ°1ç§’å†…æ²¡æœ‰æ‰§è¡Œåï¼Œå†è§¦å‘<code>oninput</code>æ—¶åˆä¼šæ‰§è¡Œç¬¬ä¸€æ¬¡ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* debounceé˜²æŠ–</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> &#123;<span class="type"> function </span>&#125; fn å›è°ƒ</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> &#123;<span class="type"> number </span>&#125; wait ç­‰å¾…æ—¶é—´</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> &#123;<span class="type"> boolean </span>&#125; immediate æ˜¯å¦ç«‹å³æ‰§è¡Œ</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">debounce</span>(<span class="params">fn, wait = <span class="number">300</span>, immediate = <span class="literal">false</span></span>) &#123;</span><br><span class="line">    <span class="comment">// åˆ©ç”¨é—­åŒ…ç”Ÿæˆå”¯ä¸€çš„ä¸€ä¸ªå®šæ—¶å™¨</span></span><br><span class="line">    <span class="keyword">let</span> timer = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œå½“ä½œè§¦å‘äº‹ä»¶æ‰§è¡Œ</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params">...args</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (timer) &#123;</span><br><span class="line">        <span class="comment">// ä¸Šä¸€æ¬¡å­˜åœ¨å®šæ—¶å™¨ï¼Œéœ€è¦æ¸…ç©º</span></span><br><span class="line">        <span class="built_in">clearTimeout</span>(timer);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="comment">// immediate: true æ—¶ï¼Œé¦–æ¬¡è§¦å‘åç«‹å³æ‰§è¡Œ</span></span><br><span class="line">      <span class="keyword">if</span> (immediate) &#123;</span><br><span class="line">        <span class="comment">// æ˜¯å¦é¦–æ¬¡æ‰§è¡Œè¿‡</span></span><br><span class="line">        <span class="keyword">const</span> isExecute = !timer;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// èµ‹å€¼å®šæ—¶å™¨ é¿å…é‡å¤æ‰§è¡Œ</span></span><br><span class="line">        timer = <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">          timer = <span class="literal">null</span>;</span><br><span class="line">        &#125;, wait);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// é¦–æ¬¡æ‰§è¡Œ</span></span><br><span class="line">        isExecute &amp;&amp; fn.<span class="title function_">apply</span>(<span class="variable language_">this</span>, args);</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// è®¾å®šå®šæ—¶å™¨ï¼Œå®šæ—¶å™¨ç»“æŸåæ‰§è¡Œå›è°ƒå‡½æ•° fn  å¦‚æœå¤šæ¬¡è§¦å‘å°±é‡æ–°è®¾å®š</span></span><br><span class="line">        timer = <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">          fn.<span class="title function_">apply</span>(<span class="variable language_">this</span>, args);</span><br><span class="line">        &#125;, wait);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="underscore-æºç "><a class="markdownIt-Anchor" href="#underscore-æºç "></a> underscore æºç </h1><p>æ¥çœ‹ä¸€ä¸‹<a href="https://github.com/jashkenas/underscore">underscore</a>é‡Œæ˜¯å¦‚ä½•å®ç°çš„ï¼Œå…ˆå°†æ ¸å¿ƒä»£ç å¤åˆ¶å‡ºæ¥ï¼Œç”¨ä¸Šé¢çš„<code>oninput</code>äº‹ä»¶æ¥è°ƒè¯•ï¼Œçœ‹ä¸€ä¸‹å®ƒçš„ä¸€ä¸ªå…·ä½“æ­¥éª¤ã€‚</p><p>åœ¨<code>debounced</code>æ–¹æ³•å†…éƒ¨æ‰“ä¸Šä¸€ä¸ªæ–­ç‚¹ï¼Œç„¶ååœ¨è¾“å…¥æ¡†è¾“å…¥æ•°æ®è§¦å‘<strong>é˜²æŠ–</strong>ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">debounce</span>(<span class="params">func, wait, immediate</span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> timeout, previous, args, result, context;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> later = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// nowè·å–çš„æ˜¯å½“å‰æ—¶é—´ previous ä¼šåœ¨ç¬¬ä¸€æ¬¡è¿›å…¥çš„æ—¶å€™è®°å½•  å¯¹æ¯”ä¸¤ä¸ªæ—¶é—´å·®æ˜¯å¦å°äº wait ç­‰å¾…æ—¶é—´</span></span><br><span class="line">    <span class="keyword">var</span> passed = <span class="title function_">now</span>() - previous;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (wait &gt; passed) &#123;</span><br><span class="line">      <span class="comment">// å°äºç­‰å¾…æ—¶é—´ è¯´æ˜åœ¨ waitæ—¶é—´å†…æœ‰è§¦å‘ é‡æ–°è®¾å®šå®šæ—¶å™¨</span></span><br><span class="line">      timeout = <span class="built_in">setTimeout</span>(later, wait - passed);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">// è¶…è¿‡ç­‰å¾…æ—¶é—´ æ‰§è¡Œå›è°ƒ</span></span><br><span class="line">      <span class="comment">// æ¸…ç©º timeout  é¿å…å½±å“åˆ°ä¸‹æ¬¡ä½¿ç”¨</span></span><br><span class="line">      timeout = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">      <span class="comment">// åˆ¤æ–­æ˜¯å¦ç«‹å³æ‰§è¡Œ</span></span><br><span class="line">      <span class="keyword">if</span> (!immediate) result = func.<span class="title function_">apply</span>(context, args);</span><br><span class="line"></span><br><span class="line">      <span class="comment">// This check is needed because `func` can recursively invoke `debounced`.</span></span><br><span class="line">      <span class="comment">// æ¸…ç©ºä¸Šä¸‹æ–‡ã€arguments å‚æ•° åœ¨å›è°ƒé‡Œé¢åµŒå¥—ä½¿ç”¨</span></span><br><span class="line">      <span class="keyword">if</span> (!timeout) args = context = <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="comment">// å…ˆæ‰§è¡Œè¿™é‡Œ  é€šè¿‡ restArguments å°†å¤„ç†ç»“æœå½“ä½œå‡½æ•°è¿›è¡Œè¿”å› å›è°ƒæ—¶ä¼ é€’ arguments å‚æ•°</span></span><br><span class="line">  <span class="keyword">var</span> debounced = <span class="title function_">restArguments</span>(<span class="keyword">function</span> (<span class="params">_args</span>) &#123;</span><br><span class="line">    context = <span class="variable language_">this</span>;</span><br><span class="line">    args = _args;</span><br><span class="line">    <span class="comment">// è§¦å‘ä¸€æ¬¡è®°å½•æ—¶é—´  ç”¨æ¥å’Œç­‰å¾…æ—¶é—´å¯¹æ¯”</span></span><br><span class="line">    previous = <span class="title function_">now</span>();</span><br><span class="line">    <span class="keyword">if</span> (!timeout) &#123;</span><br><span class="line">      <span class="comment">// ç¬¬ä¸€æ¬¡è¿›å…¥æ—¶æ‰§è¡Œ</span></span><br><span class="line">      <span class="comment">// æ‰§è¡Œ later å‡½æ•°</span></span><br><span class="line">      timeout = <span class="built_in">setTimeout</span>(later, wait);</span><br><span class="line"></span><br><span class="line">      <span class="comment">// ç«‹å³æ‰§è¡Œ</span></span><br><span class="line">      <span class="keyword">if</span> (immediate) result = func.<span class="title function_">apply</span>(context, args);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// å–æ¶ˆæ‰§è¡Œ æ¸…ç©ºå®šæ—¶å™¨ç­‰å‚æ•°</span></span><br><span class="line">  debounced.<span class="property">cancel</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="built_in">clearTimeout</span>(timeout);</span><br><span class="line">    timeout = args = context = <span class="literal">null</span>;</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> debounced;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æºç è¿˜æ˜¯æœ‰å¾ˆå¤šäº®ç‚¹çš„</p><ul><li>å¢åŠ äº†<code>cancel</code>æ–¹æ³•ï¼Œå¯ä»¥éšæ—¶å–æ¶ˆã€‚</li><li>åœ¨æ‰§è¡Œå›è°ƒçš„æ—¶å€™ï¼Œå§å‡½æ•°ç»“æœå½“ä½œè¿”å›å€¼<code>return</code>å‡ºå»ï¼Œæ˜¯ä¸ºäº†é¿å…å›è°ƒä¸­æœ‰è¿”å›æ•°æ®ã€‚</li><li>é€šè¿‡è®°å½•æ¯æ¬¡æ‰§è¡Œæ—¶é—´å·®ï¼Œæ¥åˆ¤æ–­æ˜¯å¦éœ€è¦æ‰§è¡Œå›è°ƒã€‚</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;img src=&quot;https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ebd170e14b414cc89fd50f01fdb78487~tplv-k3u1fbpfcp-watermark.image?
&quot; alt=&quot;&quot; st</summary>
      
    
    
    <content src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ebd170e14b414cc89fd50f01fdb78487~tplv-k3u1fbpfcp-watermark.image?" type="image"/>
    
    
    <category term="js" scheme="https://wakaka378.github.io/categories/js/"/>
    
    
    <category term="Js" scheme="https://wakaka378.github.io/tags/Js/"/>
    
    <category term="æ€§èƒ½ä¼˜åŒ–" scheme="https://wakaka378.github.io/tags/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/"/>
    
    <category term="èŠ‚æµé˜²æŠ–" scheme="https://wakaka378.github.io/tags/%E8%8A%82%E6%B5%81%E9%98%B2%E6%8A%96/"/>
    
  </entry>
  
  <entry>
    <title>JavaScriptæ•°æ®ç»“æ„ä¹‹â€”â€”é˜Ÿåˆ—</title>
    <link href="https://wakaka378.github.io/b5876a494e6d.html"/>
    <id>https://wakaka378.github.io/b5876a494e6d.html</id>
    <published>2022-12-05T13:02:58.000Z</published>
    <updated>2023-06-14T13:07:37.856Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c26fc06add2243f081195d58751c407b~tplv-k3u1fbpfcp-zoom-crop-mark:1512:1512:1512:851.awebp?" alt="" /></p><h1 id="å‰è¨€"><a class="markdownIt-Anchor" href="#å‰è¨€"></a> å‰è¨€</h1><p><strong>é˜Ÿåˆ—</strong>ç›¸ä¿¡å¤§å®¶éƒ½ä¸é™Œç”Ÿï¼Œå®ƒæ˜¯å±äº<a href="https://zh.wikipedia.org/wiki/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84">æ•°æ®ç»“æ„</a>ç­‰ä¸€ç§ï¼Œä¸åŒç§ç±»çš„æ•°æ®ç»“æ„é€‚åˆä¸åŒç§ç±»çš„åº”ç”¨ï¼Œéƒ¨åˆ†æ•°æ®ç»“æ„ç”šè‡³æ˜¯ä¸ºäº†è§£å†³ç‰¹å®šé—®é¢˜è€Œè®¾è®¡å‡ºæ¥çš„ã€‚è€Œå¯¹äºæˆ‘ä»¬å‰ç«¯æŠ€æœ¯äººå‘˜æ¥è¯´ï¼Œç†è§£æ•°æ®ç»“æ„éƒ½éå¸¸é‡è¦ã€‚åœ¨æˆ‘ä»¬è§£å†³ä¸€äº›é—®é¢˜çš„æ—¶å€™ï¼Œä½¿ç”¨ä¸åŒçš„æ•°æ®ç»“æ„ä¼šå¸¦æ¥ä¸åŒæ€§èƒ½ï¼Œå› æ­¤æ•°æ®ç»“æ„æ˜¯è¿™äº›é—®é¢˜çš„è§£å†³æ–¹æ¡ˆä¸­ä¸å¯æˆ–ç¼ºçš„ä¸€éƒ¨åˆ†ã€‚</p><h1 id="ä½¿ç”¨åœºæ™¯"><a class="markdownIt-Anchor" href="#ä½¿ç”¨åœºæ™¯"></a> ä½¿ç”¨åœºæ™¯</h1><p>ä¹‹å‰åœ¨åš<strong>IM</strong>ç›¸å…³äº§å“çš„æ—¶å€™ï¼Œä¼šç»å¸¸ç”¨åˆ°<strong>é˜Ÿåˆ—</strong>ï¼Œæ¯”å¦‚è¯´ä¹‹å‰æœ‰é‡åˆ°ä¸€ä¸ªåœºæ™¯ï¼Œè¿›å…¥åˆ°å¤šäººèŠå¤©å®¤æ—¶ä¼šå°†æœªè¯»æ¶ˆæ¯æ‰¹é‡åŠ è½½ï¼Œç„¶åé€šè¿‡æ¶ˆæ¯è·å–åˆ°å¯¹åº”ä¿¡æ¯åï¼Œä¸ºäº†ä¿è¯æ¶ˆæ¯é¡ºåºçš„æ­£ç¡®ï¼Œéœ€è¦ä¸€æ¡ä¸€æ¡æŒ‰åºå­˜å…¥<code>IndexDB</code>ä¸­ã€‚è¿™é‡Œå°±ä¼šä½¿ç”¨åˆ°é˜Ÿåˆ—ï¼Œæœ€å…ˆå­˜è¿›æ¥çš„è·å–æ•°æ®çš„æ¶ˆæ¯ä¼šè¢«æœ€å…ˆæ”¾å…¥åˆ°<code>IndexDb</code>å½“ä¸­ã€‚</p><p>è¿˜æœ‰ä¸€ä¸ªåœºæ™¯å¤§å®¶è‚¯å®šä¸é™Œç”Ÿï¼Œé‚£å°±æ˜¯<strong>äº‹ä»¶å¾ªç¯Event Loop</strong>ã€‚å…ˆå°†æ‰§è¡Œæ ˆä¸­çš„<strong>å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡</strong>åˆ†åˆ«æ”¾å…¥<strong>é˜Ÿåˆ—</strong>ä¸­ï¼Œå†ä»<strong>é˜Ÿåˆ—</strong>ä¸­å–å‡ºæ¥ä¾æ¬¡æ‰§è¡Œã€‚</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e5d0e73a944e45c39f49ab301dbfbcad~tplv-k3u1fbpfcp-watermark.image?" alt="js-eventloop16.png" /></p><h1 id="å®šä¹‰"><a class="markdownIt-Anchor" href="#å®šä¹‰"></a> å®šä¹‰</h1><p>é˜Ÿåˆ—æ˜¯éµå¾ª<strong>FIFO(First In First Outï¼Œå…ˆè¿›å…ˆå‡ºï¼Œä¹Ÿç§°ä¸ºå…ˆæ¥å…ˆæœåŠ¡)åŸåˆ™</strong>çš„ä¸€ç»„æœ‰åºçš„é¡¹ã€‚é˜Ÿåˆ—åœ¨å°¾éƒ¨æ·»åŠ æ–°å…ƒç´ ï¼Œå¹¶ä»é¡¶éƒ¨ç§»é™¤å…ƒç´ ã€‚æœ€æ–°æ·»åŠ çš„å…ƒç´ å¿…é¡»æ’åœ¨é˜Ÿåˆ—çš„æœ«å°¾ã€‚è·Ÿå®ƒç›¸åçš„æ˜¯<strong>æ ˆ</strong>ï¼Œéµå¾ª<strong>å…ˆå…¥åå‡º(LIFOï¼Œlast-in-first-out) çš„åŸåˆ™</strong>ã€‚</p><p>ä¸¾ä¸ªç®€å•ä¾‹å­ï¼Œæˆ‘ä»¬åšæ ¸é…¸æ’é˜Ÿï¼Œå…¶å®å°±æ˜¯ä¸€ä¸ªç®€å•çš„<strong>é˜Ÿåˆ—</strong>ã€‚æœ€å…ˆæ¥çš„äººæœ€å…ˆæ…å—“å­çœ¼ï¼Œåé¢æ¥çš„äººéœ€è¦åœ¨æˆ‘åé¢æ’é˜Ÿï¼Œç­‰æˆ‘æ…å®Œä¹‹åå†æ…ã€‚æˆ‘ç®€å•çš„ç”»äº†å¼ å›¾ï¼Œç†è§£ä¸€ä¸‹ç›¸å…³çš„å®šä¹‰ã€‚</p><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/dc5364f43f054b3fa41d896c797a1b62~tplv-k3u1fbpfcp-watermark.image?" alt="image.png" /></p><h1 id="ç®€å•ç‰ˆ"><a class="markdownIt-Anchor" href="#ç®€å•ç‰ˆ"></a> ç®€å•ç‰ˆ</h1><p>åˆ©ç”¨æ•°ç»„çš„<code>shiftã€push</code>æ–¹æ³•ï¼Œå®ç°ä¸€ä¸ªç®€å•ç‰ˆçš„é˜Ÿåˆ—ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Queue</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">queueList</span> = []</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * å…¥é˜Ÿ</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; el </span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="title function_">dequeue</span>(<span class="params">el</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">queueList</span>.<span class="title function_">push</span>(el)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * å‡ºé˜Ÿ</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@returns</span> </span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="title function_">enqueue</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">queueList</span>.<span class="title function_">shift</span>()</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * è·å–é˜Ÿåˆ—é•¿åº¦</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@returns</span> é˜Ÿåˆ—é•¿é˜Ÿ</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="title function_">size</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">queueList</span>.<span class="property">length</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * æ¸…ç©ºé˜Ÿåˆ—</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="title function_">clear</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">queueList</span> = []</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * åˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@returns</span> æ˜¯å¦ä¸ºç©º</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="title function_">isEmpty</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">queueList</span>.<span class="property">length</span> === <span class="number">0</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> queue = <span class="keyword">new</span> <span class="title class_">Queue</span>()</span><br><span class="line">queue.<span class="title function_">dequeue</span>(<span class="number">1</span>)</span><br><span class="line">queue.<span class="title function_">dequeue</span>(<span class="number">2</span>)</span><br><span class="line">queue.<span class="title function_">dequeue</span>(<span class="literal">false</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(queue.<span class="title function_">enqueue</span>(), queue.<span class="title function_">isEmpty</span>()) <span class="comment">// 1 false</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="é“¾å¼é˜Ÿåˆ—"><a class="markdownIt-Anchor" href="#é“¾å¼é˜Ÿåˆ—"></a> é“¾å¼é˜Ÿåˆ—</h1><h2 id="ç†è§£"><a class="markdownIt-Anchor" href="#ç†è§£"></a> ç†è§£</h2><p>é“¾å¼é˜Ÿåˆ—ç›¸å¯¹äºä¸Šä¸€ç‰ˆå°±è¦å¤æ‚äº›ï¼Œå®ƒçš„ç»“æ„å°±åƒä¸€ä¸ªé“¾æ¡ä¸€æ ·ï¼Œä¸€ç¯æ‰£ä¸€ç¯ã€‚åœ¨é˜Ÿåˆ—ä¸­ï¼Œæ¯ä¸€ä¸ªå…ƒç´ é€šè¿‡<code>next</code>æŒ‡å‘ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œä¸‹ä¸€ä¸ªå…ƒç´ åˆä¼šæœ‰<code>next</code>æŒ‡å‘å®ƒåé¢çš„ï¼Œè¿™æ ·å„å…ƒç´ å°±é€šè¿‡<code>next</code>è¿æ¥èµ·æ¥ï¼Œå½¢æˆä¸€æ¡é“¾å­ã€‚</p><p>åŒæ—¶è¿˜ä¼šæœ‰ä¸¤ä¸ªæŒ‡é’ˆï¼Œä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘<code>é˜Ÿå¤´</code>å…ƒç´ ï¼Œå¦å¤–ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘<code>é˜Ÿå°¾</code>å…ƒç´ ã€‚å½“å…ƒç´ ä½ç½®å‘ç”Ÿå˜åŠ¨æ—¶ï¼Œè¿™ä¸¤ä¸ªæŒ‡é’ˆä¹Ÿä¼šéšä¹‹æ”¹å˜ã€‚è¿™é‡Œæˆ‘ä»¬ç”¨<code>head</code>è¡¨ç¤ºé˜Ÿå¤´ï¼Œ<code>tail</code>è¡¨ç¤ºé˜Ÿå°¾ï¼Œ<code>next</code>ä¸ºå½“å‰å…ƒç´ çš„ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œçœ‹ä¸€ä¸‹æ•´ä¸ªæµç¨‹ã€‚</p><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/49fb206df6e941bb931b6e94f7e2fada~tplv-k3u1fbpfcp-watermark.image?" alt="image.png" /></p><p>æ‰§è¡Œ<code>enqueue</code>å…¥é˜Ÿæ“ä½œï¼Œæ­¤æ—¶<code>A4</code>çš„<code>next</code>æŒ‡å‘ç©ºï¼Œ<code>tail</code>æŒ‡å‘<code>A[3]</code>ã€‚å½“<code>A5</code>æ‰§è¡Œ<code>enqueue</code>å…¥é˜Ÿæ“ä½œæ—¶ï¼Œ<code>A4</code>çš„<code>next</code>å°±ä¼šæŒ‡å‘<code>A5</code>, åŒæ—¶<code>tail</code>ä¹Ÿä¼šæŒ‡å‘ï¼Œ<code>A5</code>çš„<code>next</code>å°±ä¼šä¸º<code>null</code></p><p>æ‰§è¡Œ<code>dequeue</code>å‡ºé˜Ÿæ“ä½œï¼Œé¦–å…ˆ<code>A0</code>çš„<code>next</code>ä¸ä¼šæŒ‡å‘<code>A1</code>ï¼Œå› ä¸º<code>A0</code>å·²ç»å‡ºå»äº†ï¼Œä¸åœ¨å½“å‰é˜Ÿåˆ—ä¸­ã€‚ç„¶å<code>head</code>ä¼šæŒ‡å‘<code>A1</code>ï¼Œæˆä¸ºæ–°çš„é˜Ÿå¤´ã€‚</p><h2 id="nodeèŠ‚ç‚¹"><a class="markdownIt-Anchor" href="#nodeèŠ‚ç‚¹"></a> NodeèŠ‚ç‚¹</h2><p>ç†è§£å®Œä¸Šé¢ä¸€å¼ å›¾ï¼Œæˆ‘ä»¬æ¥å…ˆæ¥å®ç°ä¸€ä¸‹<code>enqueue</code>å…¥é˜Ÿæ“ä½œã€‚åœ¨å…¥é˜Ÿå‰ï¼Œæˆ‘ä»¬éœ€è¦å…ˆå®šä¹‰ä¸€ä¸ª<code>Node</code>èŠ‚ç‚¹ï¼Œç”¨æ¥è¡¨ç¤ºæ¯ä¸€ä¸ªå…ƒç´ ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Node</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">element</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">element</span> = element</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">next</span> = <span class="literal">null</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªä»£ç å¾ˆç®€å•ï¼Œå°±æ˜¯å®ç°ä¸€ä¸ª<code>Node</code>èŠ‚ç‚¹çš„æ—¶å€™ï¼Œå°†å…ƒç´ æ”¾å…¥<code>element</code>ï¼ŒåŒæ—¶ç»™å®ƒæ·»åŠ ä¸€ä¸ª<code>next</code>å±æ€§ï¼Œç”¨æ¥æŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ã€‚</p><h2 id="åˆ›å»ºé˜Ÿåˆ—"><a class="markdownIt-Anchor" href="#åˆ›å»ºé˜Ÿåˆ—"></a> åˆ›å»ºé˜Ÿåˆ—</h2><p>æ¥ä¸‹æ¥åˆ›å»ºé˜Ÿåˆ—ï¼Œå…ˆå£°æ˜ä¸€ä¸‹ç±»ï¼Œå®šä¹‰å±æ€§ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MyQueue</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// å½“å‰é˜Ÿåˆ—é•¿åº¦</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">size</span> = <span class="number">0</span> </span><br><span class="line">    <span class="comment">// å¤´éƒ¨æŒ‡é’ˆ</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">head</span> = <span class="literal">null</span> </span><br><span class="line">    <span class="comment">// å°¾éƒ¨æŒ‡é’ˆ</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">tail</span> = <span class="literal">null</span> </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="enqueue"><a class="markdownIt-Anchor" href="#enqueue"></a> enqueue</h2><p>ç„¶åæŒ‰ç…§ä¸Šé¢çš„æ€è·¯ï¼Œå®ç°ä¸€ä¸‹<code>enqueue</code>æ“ä½œï¼Œéœ€è¦è¿›è¡Œä»¥ä¸‹å‡ ä¸ªæ“ä½œã€‚</p><ul><li>åˆ›å»ºèŠ‚ç‚¹<code>Node</code></li><li>æ·»åŠ å…ƒç´ <ul><li>å¦‚æœå½“å‰é˜Ÿåˆ—ä¸ºç©ºï¼Œæ·»åŠ åˆ°<code>head</code></li><li>å¦‚æœå½“å‰é˜Ÿåˆ—ä¸ä¸ºç©ºï¼Œæ·»åŠ åˆ°<code>tail</code></li></ul></li><li>ä¿®æ”¹<code>tail</code>æŒ‡å‘</li><li>ä¿®æ”¹é•¿åº¦</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å…¥é˜Ÿ</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; value å…¥é˜Ÿå±æ€§</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@returns</span> </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="title function_">enqueue</span>(<span class="params">value</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (!value) <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// åˆ›å»ºèŠ‚ç‚¹</span></span><br><span class="line">  <span class="keyword">const</span> node = <span class="keyword">new</span> <span class="title class_">Node</span>(value)    </span><br><span class="line"></span><br><span class="line">  <span class="comment">// åˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º</span></span><br><span class="line">  <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="title function_">isEmpty</span>()) &#123;  <span class="comment">// è¿™é‡Œå…ˆä¸çœ‹ isEmpty æ–¹æ³•</span></span><br><span class="line">    <span class="comment">// é˜Ÿåˆ—ä¸ºç©º å°†èŠ‚ç‚¹å…ƒç´ æ·»åŠ åˆ°å¤´éƒ¨</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">head</span> = node</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// é˜Ÿåˆ—ä¸ä¸ºç©º å°†é˜Ÿå°¾çš„ next æŒ‡å‘æ–°å…ƒç´ </span></span><br><span class="line">    <span class="keyword">const</span> currentNode = <span class="variable language_">this</span>.<span class="property">tail</span>  <span class="comment">// åšä¸€ä¸‹ç¼“å­˜ é¿å…å½±å“åˆ°åé¢</span></span><br><span class="line">    currentNode.<span class="property">next</span> = node</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// è®¾ç½®æ–°çš„é˜Ÿå°¾</span></span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">tail</span> = node</span><br><span class="line">  <span class="comment">// ä¿®æ”¹é•¿åº¦</span></span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">size</span>++</span><br><span class="line">  </span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;enqueue element&#x27;</span>, value)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æµ‹è¯•ä»£ç </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> testQueue = <span class="keyword">new</span> <span class="title class_">MyQueue</span>();</span><br><span class="line">testQueue.<span class="title function_">enqueue</span>(<span class="string">&#x27;vue&#x27;</span>) <span class="comment">// enqueue element vue</span></span><br><span class="line">testQueue.<span class="title function_">enqueue</span>(<span class="string">&#x27;react&#x27;</span>) <span class="comment">// enqueue element react</span></span><br><span class="line">testQueue.<span class="title function_">enqueue</span>(<span class="string">&#x27;angular&#x27;</span>) <span class="comment">// enqueue element angular</span></span><br></pre></td></tr></table></figure><h2 id="dequeue"><a class="markdownIt-Anchor" href="#dequeue"></a> dequeue</h2><p>æ¥ä¸‹æ¥æ˜¯å‡ºé˜Ÿï¼Œä¸»è¦æ˜¯ä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ã€‚</p><ul><li>åˆ¤æ–­æ˜¯å¦ä¸ºç©º<ul><li>é˜Ÿåˆ—ä¸ºä¸ä¸ºç©ºï¼Œè·å–å¤´éƒ¨<code>head</code>å…ƒç´ è¿”å›ã€‚</li><li>é˜Ÿåˆ—ä¸ºç©ºï¼Œä¸æ‰§è¡Œã€‚</li></ul></li><li>ä¿®æ”¹é˜Ÿåˆ—é•¿åº¦</li><li>å°†å¤´éƒ¨æŒ‡é’ˆæŒ‡å‘<code>next</code>ä¸­çš„å…ƒç´ </li><li>æ¸…ç©ºé˜Ÿå°¾<code>tail</code></li><li>è¿”å›é˜Ÿå¤´<code>head</code>å…ƒç´ </li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å‡ºé˜Ÿ æœ€å…ˆè¿›å…¥çš„æœ€å…ˆå‡ºå»</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@returns</span> </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="title function_">dequeue</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="comment">// åˆ¤æ–­æ˜¯å¦ä¸ºç©º</span></span><br><span class="line">  <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="title function_">isEmpty</span>()) &#123;</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> currentHead = <span class="variable language_">this</span>.<span class="property">head</span> <span class="comment">// ç¼“å­˜head</span></span><br><span class="line">  <span class="comment">// å°†å¤´éƒ¨æŒ‡é’ˆæŒ‡å‘ä¸‹ä¸€ä¸ªå…ƒç´ </span></span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">head</span> = currentHead.<span class="property">next</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// ä¿®æ”¹é•¿åº¦</span></span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">size</span>--</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æ¸…ç©ºå°¾éƒ¨</span></span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">tail</span> = <span class="literal">null</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> currentHead.<span class="property">element</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æµ‹è¯•ä»£ç </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> testQueue = <span class="keyword">new</span> <span class="title class_">MyQueue</span>();</span><br><span class="line">testQueue.<span class="title function_">enqueue</span>(<span class="string">&#x27;vue&#x27;</span>) <span class="comment">// enqueue element vue</span></span><br><span class="line">testQueue.<span class="title function_">enqueue</span>(<span class="string">&#x27;react&#x27;</span>) <span class="comment">// enqueue element react</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(testQueue.<span class="title function_">dequeue</span>(), <span class="string">&#x27;---dequeue1&#x27;</span>) <span class="comment">// vue ---dequeue1</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(testQueue.<span class="title function_">dequeue</span>(), <span class="string">&#x27;---dequeue2&#x27;</span>) <span class="comment">// react ---dequeue2</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(testQueue.<span class="title function_">dequeue</span>(), <span class="string">&#x27;---dequeue3&#x27;</span>) <span class="comment">// undefined ---dequeue3</span></span><br><span class="line">testQueue.<span class="title function_">enqueue</span>(<span class="string">&#x27;angular&#x27;</span>) <span class="comment">// enqueue element angular</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(testQueue.<span class="title function_">dequeue</span>(), <span class="string">&#x27;---dequeue4&#x27;</span>) <span class="comment">// angular ---dequeue4</span></span><br></pre></td></tr></table></figure><h2 id="å…¶ä»–æ–¹æ³•"><a class="markdownIt-Anchor" href="#å…¶ä»–æ–¹æ³•"></a> å…¶ä»–æ–¹æ³•</h2><p>ä¸»è¦çš„åŠŸèƒ½å·²ç»å®ç°äº†ï¼Œå‰©ä¸‹çš„å‡ ä¸ªç®€å•æ–¹æ³•ï¼Œå¯¹åº”æ³¨é‡Šæˆ‘éƒ½å†™ä¸Šäº†ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ¸…ç©ºé˜Ÿåˆ—</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="title function_">clear</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">size</span> = <span class="number">0</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">head</span> = <span class="literal">null</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">tail</span> = <span class="literal">null</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è·å–é˜Ÿåˆ—é•¿åº¦</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@returns</span> queue size</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="title function_">getSize</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">size</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@returns</span> é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="title function_">isEmpty</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">size</span> === <span class="number">0</span> &amp;&amp; <span class="variable language_">this</span>.<span class="property">head</span> === <span class="literal">null</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ‰“å°é˜Ÿåˆ—</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@returns</span> é˜Ÿåˆ—å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="title function_">print</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> queueStr = <span class="string">&#x27;&#x27;</span></span><br><span class="line">  <span class="keyword">if</span> (!<span class="variable language_">this</span>.<span class="title function_">isEmpty</span>()) &#123; <span class="comment">// ä¸ä¸ºç©º</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> tempNode = <span class="variable language_">this</span>.<span class="property">head</span> <span class="comment">// ç¼“å­˜ head  é¿å…ä¿®æ”¹å½±å“åˆ°é˜Ÿåˆ—</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¾ªç¯å¤´éƒ¨</span></span><br><span class="line">    <span class="keyword">while</span>(tempNode) &#123;</span><br><span class="line">      <span class="comment">// è·å– element</span></span><br><span class="line">      queueStr += tempNode.<span class="property">element</span> +( tempNode.<span class="property">next</span> ? <span class="string">&#x27;---&gt;&#x27;</span> :<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br><span class="line">      <span class="comment">// ä¿®æ”¹ tempNode è¿›å…¥ä¸‹ä¸€æ¬¡å¾ªç¯</span></span><br><span class="line">      tempNode = tempNode.<span class="property">next</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> queueStr</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å®Œæ•´ä»£ç </p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Node</span> &#123;</span><br><span class="line">  <span class="keyword">constructor</span>(element) &#123;</span><br><span class="line">    <span class="keyword">this</span>.element = element</span><br><span class="line">    <span class="keyword">this</span>.next = <span class="literal">null</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyQueue</span> &#123;</span><br><span class="line">  <span class="keyword">constructor</span>() &#123;</span><br><span class="line">    <span class="comment">// å½“å‰é˜Ÿåˆ—é•¿åº¦</span></span><br><span class="line">    <span class="keyword">this</span>.size = <span class="number">0</span> </span><br><span class="line">    <span class="comment">// å¤´éƒ¨æŒ‡é’ˆ</span></span><br><span class="line">    <span class="keyword">this</span>.head = <span class="literal">null</span> </span><br><span class="line">    <span class="comment">// å°¾éƒ¨æŒ‡é’ˆ</span></span><br><span class="line">    <span class="keyword">this</span>.tail = <span class="literal">null</span> </span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * å…¥é˜Ÿ</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> &#123;*&#125; value å…¥é˜Ÿå±æ€§</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@returns</span> </span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  enqueue(value) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!value) <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ›å»ºèŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">const</span> node = new Node(value)    </span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.isEmpty()) &#123;</span><br><span class="line">      <span class="comment">// é˜Ÿåˆ—ä¸ºç©º å°†èŠ‚ç‚¹å…ƒç´ æ·»åŠ åˆ°å¤´éƒ¨</span></span><br><span class="line">      <span class="keyword">this</span>.head = node</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">// é˜Ÿåˆ—ä¸ä¸ºç©º å°†é˜Ÿå°¾çš„ next æŒ‡å‘æ–°å…ƒç´ </span></span><br><span class="line">      <span class="keyword">const</span> currentNode = <span class="keyword">this</span>.tail  <span class="comment">// åšä¸€ä¸‹ç¼“å­˜ é¿å…å½±å“åˆ°åé¢</span></span><br><span class="line">      currentNode.next = node</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è®¾ç½®æ–°çš„é˜Ÿå°¾</span></span><br><span class="line">    <span class="keyword">this</span>.tail = node</span><br><span class="line">    <span class="comment">// ä¿®æ”¹é•¿åº¦</span></span><br><span class="line">    <span class="keyword">this</span>.size++</span><br><span class="line"></span><br><span class="line">    console.log(<span class="string">&#x27;enqueue element&#x27;</span>, value)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * å‡ºé˜Ÿ æœ€å…ˆè¿›å…¥çš„æœ€å…ˆå‡ºå»</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@returns</span> </span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  dequeue()&#123;</span><br><span class="line">    <span class="comment">// åˆ¤æ–­æ˜¯å¦ä¸ºç©º</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.isEmpty()) &#123;</span><br><span class="line">      <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> currentHead = <span class="keyword">this</span>.head <span class="comment">// ç¼“å­˜head</span></span><br><span class="line">    <span class="comment">// å°†å¤´éƒ¨æŒ‡é’ˆæŒ‡å‘ä¸‹ä¸€ä¸ªå…ƒç´ </span></span><br><span class="line">    <span class="keyword">this</span>.head = currentHead.next</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä¿®æ”¹é•¿åº¦</span></span><br><span class="line">    <span class="keyword">this</span>.size--</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ¸…ç©ºå°¾éƒ¨</span></span><br><span class="line">    <span class="keyword">this</span>.tail = <span class="literal">null</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> currentHead.element</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * æ¸…ç©ºé˜Ÿåˆ—</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  clear() &#123;</span><br><span class="line">    <span class="keyword">this</span>.size = <span class="number">0</span></span><br><span class="line">    <span class="keyword">this</span>.head = <span class="literal">null</span></span><br><span class="line">    <span class="keyword">this</span>.tail = <span class="literal">null</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * è·å–é˜Ÿåˆ—é•¿åº¦</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@returns</span> queue size</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  getSize()&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.size</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@returns</span> é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  isEmpty() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.size === <span class="number">0</span> &amp;&amp; <span class="keyword">this</span>.head === <span class="literal">null</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * æ‰“å°é˜Ÿåˆ—</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@returns</span> é˜Ÿåˆ—å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  print() &#123;</span><br><span class="line">    let queueStr = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    <span class="keyword">if</span> (!<span class="keyword">this</span>.isEmpty()) &#123; <span class="comment">// ä¸ä¸ºç©º</span></span><br><span class="line"></span><br><span class="line">      let tempNode = <span class="keyword">this</span>.head <span class="comment">// ç¼“å­˜ head  é¿å…ä¿®æ”¹å½±å“åˆ°é˜Ÿåˆ—</span></span><br><span class="line"></span><br><span class="line">      <span class="comment">// å¾ªç¯å¤´éƒ¨</span></span><br><span class="line">      <span class="keyword">while</span>(tempNode) &#123;</span><br><span class="line">        <span class="comment">// è·å– element</span></span><br><span class="line">        queueStr += tempNode.element +( tempNode.next ? <span class="string">&#x27;---&gt;&#x27;</span> :<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ä¿®æ”¹ tempNode è¿›å…¥ä¸‹ä¸€æ¬¡å¾ªç¯</span></span><br><span class="line">        tempNode = tempNode.next</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> queueStr</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> testQueue = new MyQueue();</span><br><span class="line">testQueue.enqueue(<span class="string">&#x27;vue&#x27;</span>)</span><br><span class="line">testQueue.enqueue(<span class="string">&#x27;react&#x27;</span>)</span><br><span class="line"><span class="comment">// testQueue.enqueue(&#x27;angular&#x27;)</span></span><br><span class="line">console.log(testQueue.dequeue(), <span class="string">&#x27;---dequeue1&#x27;</span>)</span><br><span class="line">console.log(testQueue.dequeue(), <span class="string">&#x27;---dequeue2&#x27;</span>)</span><br><span class="line"><span class="comment">// console.log(testQueue.clear(), &#x27;---clear&#x27;);</span></span><br><span class="line">console.log(testQueue.dequeue(), <span class="string">&#x27;---dequeue3&#x27;</span>)</span><br><span class="line">testQueue.enqueue(<span class="string">&#x27;angular&#x27;</span>)</span><br><span class="line">console.log(testQueue.dequeue(), <span class="string">&#x27;---dequeue4&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// console.log(testQueue.getSize(), &#x27;---getSize&#x27;)</span></span><br><span class="line"><span class="comment">// console.log(testQueue.isEmpty(), &#x27;---isEmpty&#x27;)</span></span><br><span class="line"><span class="comment">// console.log(testQueue.print(), &#x27;---print&#x27;)</span></span><br></pre></td></tr></table></figure><h1 id="yocto-queueæºç "><a class="markdownIt-Anchor" href="#yocto-queueæºç "></a> yocto-queueæºç </h1><p>çœ‹ä¸€ä¸‹<a href="https://github.com/sindresorhus/yocto-queue/blob/main/index.js">yocto-queue</a>çš„å®ç°é€»è¾‘ï¼Œå¤§ä½“é€»è¾‘ä¸Šæ˜¯å·®ä¸å¤šï¼Œä½†å¤šäº†å‡ ä¸ªçŸ¥è¯†ç‚¹ã€‚</p><h2 id="è‡ªå®šä¹‰è¿­ä»£å™¨"><a class="markdownIt-Anchor" href="#è‡ªå®šä¹‰è¿­ä»£å™¨"></a> è‡ªå®šä¹‰è¿­ä»£å™¨</h2><p>åœ¨<code>print</code>æ‰“å°é˜Ÿåˆ—å‡½æ•°ï¼Œè¿™é‡Œæ˜¯ç”¨äº†æ˜¯ç”¨äº†<a href="https://es6.ruanyifeng.com/#docs/symbol#Symbol-iterator">Symbol.iterator</a>è‡ªå®šä¹‰äº†ä¸€ä¸ªè¿­ä»£å™¨ï¼Œå¯ä»¥éå†æ•´ä¸ªé˜Ÿåˆ—ï¼Œæä¾›å¤–ç•Œä½¿ç”¨ã€‚</p><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b216d6024ca946f09325739b7f96fcab~tplv-k3u1fbpfcp-watermark.image?" alt="image.png" /></p><h2 id="class-getter-setter"><a class="markdownIt-Anchor" href="#class-getter-setter"></a> Class getter setter</h2><p>åœ¨<code>size</code>å‡½æ•°å‰é¢æœ‰ä¸€ä¸ª <code>get</code>å…³é”®å­—ï¼Œå¯ä»¥ç›´æ¥è·å–åˆ°<code>return</code>è¿”å›çš„å€¼ï¼Œã€‚åŒç†ï¼Œå¦‚æœå‰é¢æ˜¯<code>set</code>ï¼Œå°±å¯ä»¥ç›´æ¥ä¿®æ”¹æ•°æ®ã€‚<br /><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3687b4b4df624fd5a486f88de1710d7b~tplv-k3u1fbpfcp-watermark.image?" alt="image.png" /></p><h2 id="ç§æœ‰å±æ€§"><a class="markdownIt-Anchor" href="#ç§æœ‰å±æ€§"></a> ç§æœ‰å±æ€§<code>#</code></h2><p>æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œ<code>class</code>ç±»çš„å±æ€§é»˜è®¤éƒ½æ˜¯<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Classes/Public_class_fields">å…¬æœ‰</a>çš„ï¼Œåœ¨å®ç°ç±»çš„åï¼Œå¯ä»¥è®¿é—®åˆ°ç±»é‡Œé¢çš„å±æ€§ã€‚ä½†å¯ä»¥ä½¿ç”¨å¢åŠ å“ˆå¸Œå‰ç¼€Â <code>#</code>Â çš„æ–¹æ³•æ¥å®šä¹‰<strong>ç§æœ‰ç±»å­—æ®µ</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Add</span> &#123;</span><br><span class="line">  [[count]] = <span class="number">0</span>;</span><br><span class="line">  <span class="title function_">value</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.#count;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">increment</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.#count++;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢ä»£ç ä¸­ï¼Œ<code>#count</code>å°±æ˜¯ç§æœ‰å±æ€§ï¼Œåªèƒ½åœ¨ç±»çš„å†…éƒ¨ä½¿ç”¨ï¼ˆ<code>this.#count</code>ï¼‰ã€‚å¦‚æœåœ¨ç±»çš„å¤–éƒ¨ä½¿ç”¨ï¼Œå°±ä¼šæŠ¥é”™ï¼Œè¿™ä¸ªå°±å¾ˆå¥½ç†è§£ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> counter = <span class="keyword">new</span> <span class="title class_">Add</span>();</span><br><span class="line">counter.#count <span class="comment">// æŠ¥é”™</span></span><br><span class="line">counter.#count = <span class="number">42</span> <span class="comment">// æŠ¥é”™</span></span><br></pre></td></tr></table></figure><h1 id="æ€»ç»“"><a class="markdownIt-Anchor" href="#æ€»ç»“"></a> æ€»ç»“</h1><p>çœ‹å®Œ<a href="https://github.com/sindresorhus/yocto-queue/blob/main/index.js">yocto-queue</a>çš„å®ç°åä¸ç”±æ„Ÿæ…¨ï¼ŒåŸæ¥é˜Ÿåˆ—å®ç°è¿˜å¯ä»¥è¿™ä¹ˆä¼˜é›…ç®€æ´ï¼Œ<strong>è¿­ä»£å™¨</strong>çš„ä½¿ç”¨ä¹Ÿæ˜¯å¾ˆå·§å¦™ï¼Œè¿™ä¸ªæ€è·¯å¯ä»¥æ”¶è—âœ…ã€‚å†™å®Œåå‘ç°ï¼Œæ•°ç»„ç‰ˆæœ¬å’Œé“¾å¼ç‰ˆæœ¬æœ‰å•¥åŒºåˆ«ï¼Ÿæ˜æ˜é“¾å¼ç‰ˆæœ¬æ›´ç®€å•æ˜“æ‡‚ï¼Œä¸ºä»€ä¹ˆè¿˜è¦å®ç°é“¾å¼ç‰ˆæœ¬ï¼Ÿåæ¥åˆ·é¢˜çš„æ—¶å€™æ‰æƒ³é€šã€‚æ•°ç»„çš„ç‰¹ç‚¹æ˜¯<strong>æŸ¥è¯¢æ•°æ®å¿«ï¼Œæ’å…¥æ•°æ®æ…¢</strong>ï¼ŒæŸ¥è¯¢çš„æ—¶é—´å¤æ‚åº¦æ˜¯<strong>O(1)</strong>ï¼Œæ’å…¥çš„æ—¶é—´å¤æ‚åº¦æ˜¯<strong>O(n)</strong>ã€‚å®ƒæ’å…¥å…ƒç´ æ—¶ï¼Œç§»åŠ¨çš„æ˜¯æ•´ä¸ªæ•°ç»„ã€‚è€Œé“¾å¼ç»“æ„åˆšå¥½å’Œå®ƒç›¸åï¼Œåœ¨æŸ¥è¯¢æ—¶çš„å¤æ‚åº¦æ˜¯<strong>O(n)</strong>ï¼Œæ’å…¥çš„æ˜¯<strong>O(1)</strong>ã€‚æ’å…¥å…ƒç´ åªéœ€è¦ä¿®æ”¹<code>next</code>æŒ‡å‘å°±å¯ä»¥ï¼Œæ¯”æ•°ç»„å¿«ä¸Šä¸å°‘ï¼Œè¿™å°±æ˜¯æ•°æ®ç»“æ„çš„é­…åŠ›ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;img src=&quot;https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c26fc06add2243f081195d58751c407b~tplv-k3u1fbpfcp-zoom-crop-mark:1512:1512:151</summary>
      
    
    
    <content src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c26fc06add2243f081195d58751c407b~tplv-k3u1fbpfcp-zoom-crop-mark:1512:1512:1512:851.awebp?" type="image"/>
    
    
    <category term="Js" scheme="https://wakaka378.github.io/categories/Js/"/>
    
    <category term="æ•°æ®ç»“æ„" scheme="https://wakaka378.github.io/categories/Js/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
    
    
    <category term="Js" scheme="https://wakaka378.github.io/tags/Js/"/>
    
    <category term="æ•°æ®ç»“æ„" scheme="https://wakaka378.github.io/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
    
    <category term="é˜Ÿåˆ—" scheme="https://wakaka378.github.io/tags/%E9%98%9F%E5%88%97/"/>
    
  </entry>
  
  <entry>
    <title>ä¸€ä¸ªèººå¹³çš„å¹´ä¸­</title>
    <link href="https://wakaka378.github.io/22c4eb459fc8.html"/>
    <id>https://wakaka378.github.io/22c4eb459fc8.html</id>
    <published>2022-07-23T13:06:41.000Z</published>
    <updated>2023-06-14T13:07:33.123Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ä¸€ä¸ªèººå¹³çš„å¹´ä¸­"><a class="markdownIt-Anchor" href="#ä¸€ä¸ªèººå¹³çš„å¹´ä¸­"></a> ä¸€ä¸ªèººå¹³çš„å¹´ä¸­</h1><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c3df9aaab1c149e0b7ed0a30b3fbcef9~tplv-k3u1fbpfcp-zoom-crop-mark:1512:1512:1512:851.awebp?" alt="" /></p><blockquote><p>ã€Œæ—¶å…‰ä¸è´Ÿï¼Œåˆ›ä½œä¸åœï¼Œæœ¬æ–‡æ­£åœ¨å‚åŠ <a href="https://juejin.cn/post/7108989863126368286" title="https://juejin.cn/post/7108989863126368286">2022å¹´ä¸­æ€»ç»“å¾æ–‡å¤§èµ›</a>ã€</p></blockquote><p>è¿™ç¯‡å¹´ä¸­æ€»ç»“æ¥çš„æœ‰ç‚¹æ™šï¼Œæ´»åŠ¨å¿«ç»“æŸçš„æ—¶å€™æ‰è§‰å¾—å†™ã€‚ä¸çŸ¥é“ä¸ºä»€ä¹ˆï¼Œè®°å¿†åŠ›æ¯”ä¹‹å‰ä¸‹é™äº†å¥½å¤šï¼Œå¾ˆå¤šäº‹æƒ…éƒ½å®¹æ˜“å¿˜è®°ã€‚ä»¥è‡³äºç°åœ¨å›æƒ³ä¸€ä¸‹ä¸ŠåŠå¹´ç»å†çš„ä¸€åˆ‡ï¼Œéƒ½éœ€è¦ä»æ‰‹æœºç…§ç‰‡ã€ç¤¾äº¤è´¦å·é‡Œå»å¯»æ‰¾ï¼ŒèŠ±äº†ä¸€ä¸Šåˆæ—¶é—´ç¿»é˜…ï¼Œç®€å•çš„æ¥åšä¸€ä¸ªå¹´ä¸­æ€»ç»“å§ã€‚</p><p>å…³äºä¸ŠåŠå¹´ï¼Œæ€»ç»“èµ·æ¥å°±å‡ ä¸ªå…³é”®è¯ï¼š<strong>èººå¹³</strong> <strong>å±…å®¶ ä¸€æ— æ‰€äº‹</strong></p><h1 id="èººå¹³"><a class="markdownIt-Anchor" href="#èººå¹³"></a> èººå¹³</h1><p>ç”±äºå»å¹´ç»å†äº†æ•™è‚²è¡Œä¸šå¤§è£å‘˜ä¼‘æ¯ä¸‰ä¸ªæœˆåï¼Œéšä¾¿æ‰¾äº†ä¸€ä»½å¹¶ä¸æ»¡æ„çš„å·¥ä½œã€‚å›¢é˜Ÿæ°›å›´ã€èº«è¾¹çš„åŒäº‹ã€å·¥ä½œçš„å†…å®¹éƒ½è¿œè¿œä¸åŠä¸Šä¸€å®¶ï¼Œæ—¶å¸¸æ€€å¿µç«èŠ±çš„å›¢é˜Ÿæ°›å›´ã€‚åœ¨å¹´å‰çš„è½¬æ­£ä¼šä¸Šæ²¡æœ‰é€šè¿‡ï¼Œç»™äº†å»¶æœŸè½¬æ­£ã€‚</p><p>æƒ³èµ·åŸå› æ¥ï¼Œä¹Ÿæ˜¯è§‰å¾—å¯ç¬‘ã€‚ åœ¨è½¬æ­£è¯„å®¡ä¼šä¸Šï¼Œæˆ‘å¤ç›˜äº†ä¸€ä¸‹è¿­ä»£ä¸­æˆ‘è´Ÿè´£çš„æŸä¸ªåŠŸèƒ½å‡ºç°çš„æ¨è¿Ÿäº¤ä»˜ï¼Œäº¤ä»˜è´¨é‡å·®çš„é—®é¢˜ã€‚ä¸»è¦è´£ä»»è¿˜æ˜¯æˆ‘æ‰¿æ‹…ä¸‹æ¥ï¼Œä½†å¹¶ä¸éƒ½æ˜¯æˆ‘çš„é—®é¢˜ï¼Œå°†éƒ¨åˆ†åŸå› æŒ‡å‘å›¢é˜Ÿå±‚é¢çš„é—®é¢˜å’Œäº§å“äººå‘˜ã€‚ç„¶è€Œæ²¡æœ‰æƒ³åˆ°é¢†å¯¼ç»™å‡ºçš„ç»“è®ºæ˜¯æˆ‘æ€åº¦ä¸Šçš„é—®é¢˜ï¼Œä»è€Œåšå‡ºå»¶æœŸè½¬æ­£çš„å†³å®šã€‚å½“æ—¶è§‰å¾—ä¸å¯ç†å–»ï¼Œæœ¬æ¥å°±ä¸æ€ä¹ˆçœ‹å¥½è¿™ä»½å·¥ä½œï¼Œæ›´æ˜¯å¯¹å®ƒå½»åº•å¤±æœ›ã€‚ä½†ç”±äºç»æµåŸå› ï¼Œæˆ‘éœ€è¦è¿™ä»½å·¥ä½œï¼Œéœ€è¦ç»§ç»­åœ¨åŒ—äº¬ç«‹è¶³ä¸‹å»ã€‚åªèƒ½è¢«è¿«æ¥å—ï¼Œä½†é‚£æ—¶å·²ç»åšå‡ºäº†ä¸‰æœˆä»½è·³æ§½çš„å†³å®šã€‚å¼€å§‹åˆ¶å®šå­¦ä¹ è®¡åˆ’ã€ä¹°è¯¾ç¨‹ã€å†™é¡¹ç›®ï¼Œå¸Œæœ›èƒ½åœ¨é‡‘ä¸‰é“¶å››ä¸­æˆåŠŸè·³æ§½ã€‚</p><p>åˆ°äº†é‡‘(é“œ)ä¸‰é“¶(é“)å››ï¼Œäº’è”ç½‘å¼€å§‹å‡ºç°å¤§è§„æ¨¡è£å‘˜ï¼Œåªå‡†å¤‡äº†ä¸¤å‘¨çš„å¤ä¹ åï¼Œå°±å¼€å§‹éª‘é©´æ‰¾é©¬å››å¤„æŠ•ç®€å†ã€‚ä½†æ²¡æƒ³åˆ°è¡Œæƒ…ä¼šå·®æˆè¿™æ ·ï¼ŒæŠ•äº†å¤§åŠä¸ªæœˆç®€å†åï¼Œèƒ½é¢è¯•çš„ä¸è¶…è¿‡ä¸¤å®¶ã€‚èº«è¾¹æœ‹å‹éƒ½åœ¨åæ§½ä»Šå¹´æ‰¾å·¥ä½œéš¾ï¼ŒåŠ ä¸Šè‡ªèº«ç»æµé—®é¢˜ï¼Œåªèƒ½å…ˆè‹Ÿç€ã€‚åœ¨é¢è¯•å‰ï¼Œç»™è‡ªå·±å®šåˆ¶äº†è®¸å¤šå­¦ä¹ è®¡åˆ’ï¼Œè¦å®Œæˆå¤šå°‘å¤šå°‘ã€‚å‡ºå»çœ‹äº†ä¸€åœˆä¹‹åï¼Œå›æ¥å½»åº•èººå¹³ã€‚ä»€ä¹ˆå­¦ä¹ è®¡åˆ’éƒ½æŠ›åœ¨è„‘åï¼Œä¹°çš„è¯¾ä¹Ÿä¸æ€ä¹ˆçœ‹ï¼Œå‘¨æœ«ä¹Ÿä¸æ‰“å¼€ç”µè„‘ï¼Œå½»åº•å’Œç°çŠ¶å¦¥åã€‚</p><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/94203bddd0f04d4fae58e6cf9c8a9e1a~tplv-k3u1fbpfcp-watermark.image?" alt="image.png" /></p><h1 id="å±…å®¶"><a class="markdownIt-Anchor" href="#å±…å®¶"></a> å±…å®¶</h1><p>ç”±äºè·³æ§½å¤±è´¥åªèƒ½è¢«è¿«æ¥å—è¿™ä»½å·¥ä½œï¼Œåœ¨å››æœˆä»½çš„æ—¶å€™é€šè¿‡äº†è½¬æ­£è¯„å®¡ï¼Œæœ¬ä»¥ä¸ºå¯ä»¥ä¸€ç›´è¿™æ ·æ¯å¤©è‹Ÿä¸‹å»ï¼Œæœˆåº•å°±æ¥åˆ°é¢†å¯¼é€šçŸ¥ï¼Œéƒ¨é—¨äº§å“å’Œé“¶è¡Œåˆä½œçš„äºŒæœŸé¡¹ç›®å¯åŠ¨äº†ï¼Œæˆ‘è¢«å¤–æ´¾åˆ°é“¶è¡Œä¸Šç­ï¼Œä¹Ÿåªå¥½é»˜é»˜æ¥å—ã€‚äº”æœˆä»½åŒ—äº¬çªå¦‚å…¶æ¥çš„ç–«æƒ…ï¼Œæ‰“ä¹±äº†æˆ‘äº”ä¸€å‡ºé—¨çš„è®¡åˆ’ï¼Œè¿™æ³¢ç–«æƒ…æŒç»­å¾ˆä¹…ï¼ŒåŠ ä¸Šé“¶è¡Œç®¡æ§ä¸¥æ ¼ï¼Œæ¯å¤©éƒ½æ˜¯åœ¨å®¶åŠå…¬ã€‚æ¯å¤©éƒ½æ˜¯ç¡åˆ°æ™¨ä¼šå‰ååˆ†é’Ÿèµ·åºŠï¼Œçœå»äº†äº¤é€šé€šè¡Œæ—¶é—´ï¼Œå¯ä»¥è‡ªå·±åœ¨å®¶åšé¥­ï¼Œå®¶é‡Œçš„åŠå…¬æ¯”å…¬å¸è‡ªåœ¨ï¼Œæ²¡æœ‰å¤ªå¤šçº¦æŸã€‚ç”šè‡³å¯ä»¥ä¸€æ•´å¤©éƒ½ä¸åœ¨å·¥ä½œå²—ä½ä¸Šï¼Œåªè¦ä½ èƒ½åº”ä»˜è¿‡é¢†å¯¼çš„æ£€æŸ¥ã€‚</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7f9bab2712c24aa0b8b6db8e8798d01a~tplv-k3u1fbpfcp-watermark.image?" alt="åœ¨å®¶åŠå…¬æ¯å¤©ä¸€æ¯å†°ç¾å¼" /></p><h1 id="ä¸€æ— æ‰€äº‹"><a class="markdownIt-Anchor" href="#ä¸€æ— æ‰€äº‹"></a> ä¸€æ— æ‰€äº‹</h1><p>ä¸ŠåŠå¹´å·¥ä½œå¤„å¤„ä¸é¡ºï¼Œæƒ…æ„Ÿä¸Šä¹Ÿåˆ°å¤„ç¢°å£ï¼Œå­¦ä¹ ä¸Šä¸€å¡Œç³Šæ¶‚ï¼Œå½»åº•æ‘†ä¹±èººå¹³ã€‚å›é¡¾ä¸ŠåŠå¹´ï¼Œæ²¡å¹²æˆä¸€ä»¶äº‹ï¼Œå»å¹´ç«‹ä¸‹çš„flagä¹Ÿæ²¡å‡ é¡¹å®Œæˆäº†ã€‚æ•´ä¸ªäººå¤„åœ¨ä¸€ä¸ªè¿·èŒ«é˜¶æ®µï¼Œä¸çŸ¥é“è‡ªå·±è¦å¹²å•¥ï¼Œä¹Ÿæ²¡æœ‰ç›®æ ‡ï¼Œæµ‘æµ‘å™©å™©çš„åº¦è¿‡æ¯ä¸€å¤©ã€‚èººå¹³äº†ï¼Œä¸å†™äº†ï¼Œå°±è¿™æ ·å§ã€‚ã€‚ã€‚</p><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/23c61356fcc34d0da6fe98589180f4e2~tplv-k3u1fbpfcp-watermark.image?" alt="image.png" /></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;ä¸€ä¸ªèººå¹³çš„å¹´ä¸­&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#ä¸€ä¸ªèººå¹³çš„å¹´ä¸­&quot;&gt;&lt;/a&gt; ä¸€ä¸ªèººå¹³çš„å¹´ä¸­&lt;/h1&gt;
&lt;p&gt;&lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpf</summary>
      
    
    
    <content src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c3df9aaab1c149e0b7ed0a30b3fbcef9~tplv-k3u1fbpfcp-zoom-crop-mark:1512:1512:1512:851.awebp?" type="image"/>
    
    
    <category term="æ€»ç»“" scheme="https://wakaka378.github.io/categories/%E6%80%BB%E7%BB%93/"/>
    
    
    <category term="æ€»ç»“" scheme="https://wakaka378.github.io/tags/%E6%80%BB%E7%BB%93/"/>
    
  </entry>
  
  <entry>
    <title>æ˜é‡‘è‡ªåŠ¨ç­¾åˆ°â•å®šæ—¶æ‰§è¡Œâ•é‚®ç®±æ¨é€ ä½ è¿˜æƒ³è¦å•¥â“</title>
    <link href="https://wakaka378.github.io/692e96f41680.html"/>
    <id>https://wakaka378.github.io/692e96f41680.html</id>
    <published>2022-01-16T13:15:12.000Z</published>
    <updated>2023-06-14T13:15:58.139Z</updated>
    
    <content type="html"><![CDATA[<h1 id="æ˜é‡‘è‡ªåŠ¨ç­¾åˆ°-å®šæ—¶æ‰§è¡Œ-é‚®ç®±æ¨é€-ä½ è¿˜æƒ³è¦å•¥"><a class="markdownIt-Anchor" href="#æ˜é‡‘è‡ªåŠ¨ç­¾åˆ°-å®šæ—¶æ‰§è¡Œ-é‚®ç®±æ¨é€-ä½ è¿˜æƒ³è¦å•¥"></a> æ˜é‡‘è‡ªåŠ¨ç­¾åˆ° â• å®šæ—¶æ‰§è¡Œ â•é‚®ç®±æ¨é€ ä½ è¿˜æƒ³è¦å•¥â“</h1><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4a4f074044ab4321ad0675aab5d58a00~tplv-k3u1fbpfcp-zoom-crop-mark:1512:1512:1512:851.awebp?" alt="" /></p><h1 id="å‰è¨€"><a class="markdownIt-Anchor" href="#å‰è¨€"></a> å‰è¨€</h1><p>å†’ç€è¢«å…³è¿›å°é»‘å±‹çš„é£é™©  å†™äº†ä¸ªæ˜é‡‘è‡ªåŠ¨ç­¾åˆ°æŠ½å¥–ç¨‹åº åŒ…å«äº†è‡ªåŠ¨æ‰§è¡Œã€ç­¾åˆ°ã€å…è´¹æŠ½å¥–ã€æ²¾å–œæ°”ã€é‚®ä»¶é€šçŸ¥çš„è„šæœ¬ï¼Œä»¥åå†ä¹Ÿä¸ç”¨æ¯å¤©å¿˜è®°ç­¾åˆ°äº†ğŸ˜„</p><p>äº‹æƒ…æ˜¯è¿™æ ·çš„  å…ƒæ—¦é‚£å¤©ç”±äºç©çš„å¤ªå—¨ å¿˜è®°äº†æ˜é‡‘ç­¾åˆ°è¿™ä¹ˆä¸€å›äº‹ ä½œä¸ºä¸€åä¸“ä¸šçš„æ‘¸é±¼ğŸŸé€‰æ‰‹ æ€ä¹ˆèƒ½æ–­ç­¾å‘¢ï¼ˆå¥½å§ æˆ‘æ˜¯ä¸ºäº†ç¬¬äºŒå¤©5120çŸ¿çŸ³ï¼‰æœæ–­ä¹°äº†è¡¥ç­¾å¡ åæ¥åœ¨æƒ³  ä¸ºå•¥ä¸å†™ä¸€ä¸ªæ¯å¤©è‡ªåŠ¨æ‰§è¡Œçš„ç­¾åˆ°è„šæœ¬å‘¢ï¼Ÿï¼Ÿ</p><p><strong>é‡è¦â—</strong></p><p>æ˜é‡‘å›¢é˜Ÿå·²ç»å¯¹ç­¾åˆ°è„šæœ¬é‡‡å–æªæ–½ï¼Œç¦æ­¢ğŸ™…â€â™‚ï¸ä½¿ç”¨è‡ªåŠ¨ç­¾åˆ°è„šæœ¬ï¼Œè¿è€…å°†æ¸…ç©ºæ‰€æœ‰çŸ¿çŸ³æˆ–è€…å°å·ï¼Œå…·ä½“è§„åˆ™å¯å‚è§<a href="https://juejin.cn/pin/7065954293509160997">ç¦æ­¢è„šæœ¬ç­¾åˆ°è¡Œä¸ºæ²¸ç‚¹</a> ï¼Œå¤§å®¶è¿˜æ˜¯éµå¾ªç¤¾åŒºè§„èŒƒï¼Œæ¯å¤©ç™»é™†æ˜é‡‘è¿›è¡Œç­¾åˆ°ã€‚ä¹‹å‰æœ‰ä½¿ç”¨è¿‡è¯¥é¡¹ç›®çš„ï¼Œå»ºè®®å°†forkä¸‹æ¥çš„ä»“åº“workflowæ‰‹åŠ¨ç¦æ­¢ï¼Œæˆ–è€…ç›´æ¥åˆ é™¤é¡¹ç›®ï¼Œæ–‡ç« ä¸­çš„githubé¡¹ç›®é“¾æ¥æˆ‘å·²åˆ é™¤ã€‚</p><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2c842de5e857466c88d6bdb7486e7ae9~tplv-k3u1fbpfcp-watermark.image?" alt="image.png" /></p><h1 id="å…·å¤‡èƒ½åŠ›"><a class="markdownIt-Anchor" href="#å…·å¤‡èƒ½åŠ›"></a> å…·å¤‡èƒ½åŠ›</h1><ul><li>[x] <code>action</code> æ¯å¤©9ç‚¹å®šæ—¶æ‰§è¡Œ</li><li>[x] é‚®ä»¶é€šçŸ¥<ul><li>[ ] cookieè¿‡æœŸé‚®ä»¶é€šçŸ¥</li></ul></li><li>[x] ç­¾åˆ°</li><li>[x] æ²¾å–œæ°”</li><li>[x] æŠ½å¥–</li><li>[ ] è®¾å®šæƒ³è¦å…‘æ¢çš„å‘¨è¾¹ è‡ªåŠ¨è®¡ç®—è¿˜éœ€è¦ç­¾åˆ°å¤šå°‘å¤©<br />ç›®å‰å°±å…·å¤‡è¿™ä¹ˆå¤šèƒ½åŠ›  é¡¹ç›®ä¼šæŒç»­ç»´æŠ¤ æ·»åŠ çš„æ–°çš„åŠŸèƒ½ï¼ˆå‰ææ˜¯ä¸ä¼šè¢«ä¼˜å¼§å…³èµ·æ¥ï¼‰å¦‚æœæœ‰æ›´å¥½çš„é¡¹ç›®å¯ä»¥åœ¨è¯„è®ºåŒºæå‡º</li></ul><h1 id="start-quickly"><a class="markdownIt-Anchor" href="#start-quickly"></a> Start quickly</h1><p>ç”¨ç¼–è¾‘å™¨æ‰“å¼€é¡¹ç›®å  éœ€è¦å°†å¸¦æœ‰<strong>æ‰‹åŠ¨å¡«å†™</strong>çš„å‡ é¡¹æ•°æ®ä¿®æ”¹ä¸ºè‡ªå·±çš„ å…¶ä»–ä¸è¦åŠ¨</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é…ç½®æ–‡ä»¶</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="comment">// éœ€è¦æ‰‹åŠ¨å¡«å†™</span></span><br><span class="line">  <span class="attr">cookie</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">  <span class="comment">// è¯·æ±‚åœ°å€</span></span><br><span class="line">  <span class="attr">baseUrl</span>: <span class="string">&#x27;https://api.juejin.cn&#x27;</span>,</span><br><span class="line">  <span class="comment">// apiåœ°å€</span></span><br><span class="line">  <span class="attr">api</span>: &#123;</span><br><span class="line">   ...</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// é‚®ç®±é…ç½®</span></span><br><span class="line">  <span class="attr">emailConfig</span>: &#123;</span><br><span class="line">    <span class="comment">// é‚®ç®±æœåŠ¡ 163|qq</span></span><br><span class="line">    <span class="attr">service</span>: <span class="string">&#x27;163&#x27;</span>,</span><br><span class="line">    <span class="comment">// é‚®ç®± æ‰‹åŠ¨å¡«å†™</span></span><br><span class="line">    <span class="attr">email</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    <span class="comment">// é‚®ç®±æˆæƒç   æ‰‹åŠ¨å¡«å†™</span></span><br><span class="line">    <span class="attr">pass</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="cookieè·å–æ–¹å¼"><a class="markdownIt-Anchor" href="#cookieè·å–æ–¹å¼"></a> cookieè·å–æ–¹å¼</h2><blockquote><p>cookie æœ‰è¿‡æœŸæ—¶é—´ å¤§æ¦‚æ˜¯ä¸€ä¸ªæœˆ  æˆ–è€…æ˜¯é€€å‡ºç™»é™†ä¹Ÿä¼šè¿‡æœŸ<br />ç™»é™†è¿›å…¥åˆ°æ˜é‡‘ï¼Œ<strong>F12</strong>æ‰“å¼€æ§åˆ¶å°ï¼Œé€‰æ‹©<strong>network</strong>åéšä¾¿ç‚¹å‡»ä¸€ä¸ªæ¥å£ï¼Œæ‰¾åˆ°è¯·æ±‚å¤´ä¸­çš„<code>cookie</code>ï¼Œé€‰ä¸­æ•°æ®åå³é”®<strong>å¤åˆ¶å€¼</strong></p></blockquote><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b3d16490afb8465d93dcbf544497436d~tplv-k3u1fbpfcp-zoom-1.image" alt="image" /></p><h2 id="é‚®ç®±è®¾ç½®"><a class="markdownIt-Anchor" href="#é‚®ç®±è®¾ç½®"></a> é‚®ç®±è®¾ç½®</h2><p>è¿™é‡Œä»¥163é‚®ç®±ä¸ºä¾‹  qqé‚®ç®±åŒç†  å¦‚æœæ˜¯163é‚®ç®±  ç›´æ¥å°†<code>service</code>å­—æ®µè®¾ç½®ä¸º163ï¼ˆqqé‚®ç®±å°±å†™qqï¼‰ ç„¶åå¡«å…¥ä½ è‡ªå·±çš„é‚®ç®± é‚®ä»¶å‘é€æˆåŠŸ  ç™»é™†é‚®ç®±ä¼šçœ‹åˆ°ä½ ç»™è‡ªå·±å‘äº†ä¸€æ¡é‚®ä»¶  å°±åƒè¿™æ ·</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9824a69bd1d14e24bdfdec640d590485~tplv-k3u1fbpfcp-zoom-1.image" alt="image" /></p><p><strong>æˆæƒç è·å–âš ï¸ï¼š</strong><br />ç™»é™†è¿›å…¥163é‚®ç®±  æ‰“å¼€è®¾ç½®</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/bccfbc6f48e74f9fa10f04d375df9044~tplv-k3u1fbpfcp-zoom-1.image" alt="image" /></p><p>å°†ä»¥ä¸‹å‡ ä¸ªè®¾ç½®æ‰“å¼€  æ‰“å¼€<code>IMAP/SMTP</code>æœåŠ¡æ—¶ä¼šå¼¹çª—å‘é€çŸ­ä¿¡ å¾®ä¿¡æ‰«ç åå°±å¯ä»¥å‘é€çŸ­ä¿¡ï¼ˆqqé‚®ç®±è¿™ä¸€æ­¥å¼€å¯éœ€è¦æ‰‹åŠ¨è¿›è¡ŒéªŒè¯å‘é€çŸ­ä¿¡ï¼‰</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/05b361b1ae8a48398aae7d64626e3534~tplv-k3u1fbpfcp-zoom-1.image" alt="image" /></p><p>æˆ‘è¿™é‡Œå·²ç»æ·»åŠ è¿‡äº†  å°±ç›´æ¥ç‚¹å‡»æ–°å¢æˆæƒ  ä¹Ÿæ˜¯ä¸€æ ·ä¼šå¼¹å‡ºäºŒç»´ç æ‰«ç å‘é€çŸ­ä¿¡<br /><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/27da536385c044d6a185191e1ff76489~tplv-k3u1fbpfcp-zoom-1.image" alt="image" /></p><p>çŸ­ä¿¡å‘é€å®Œæ¯•åç‚¹å‡»æˆ‘å·²å‘é€  ç„¶åå°±ä¼šå¾—åˆ°ä½ çš„æˆæƒç ï¼ˆæ³¨æ„æˆæƒç åªå±•ç¤ºä¸€æ¬¡ï¼‰  å°†æˆæƒå—ç²˜è´´åˆ°é…ç½®æ–‡ä»¶ä¸­çš„ <code>pass</code>å­—æ®µ</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7f2a43fde0c54462a0e7de66287b88a5~tplv-k3u1fbpfcp-zoom-1.image" alt="image" /></p><p>å°†æ‰€æœ‰çš„å‚æ•°å¡«å…¥æ— è¯¯å  å¯ä»¥ç”¨å‘½ä»¤<code>node index.js</code>æœ¬åœ°è¿è¡Œ  å¯ä»¥æ”¶åˆ°é‚®ä»¶å¹¶ä¸”é‚®ä»¶é‡Œæœ‰æ—¥å¿—æ¶ˆæ¯ æ­å–œä½ ğŸ‰ ä»¥åå†ä¹Ÿä¸ç”¨æ¯å¤©ç­¾åˆ°äº†ï¼ˆä¼šä¸ä¼šè¢«å®˜æ–¹æ‰“æ­»ï¼‰</p><p>ç¡®è®¤æ— è¯¯åå°†ä¿®æ”¹åçš„é¡¹ç›®<code>push</code> é¡¹ç›®å·²ç»è®¾ç½®äº†è‡ªåŠ¨æ‰§è¡Œ  æ¯å¤©<strong>9ç‚¹</strong>ä¼šè‡ªåŠ¨æ‰§è¡Œç­¾åˆ°  å¹¶ä¸”å‘é€é‚®ä»¶è¿›è¡Œé€šçŸ¥</p><p>è‡ªä»ç”¨äº†è‡ªåŠ¨ç­¾åˆ°å  å¦ˆå¦ˆå†ä¹Ÿä¸ç”¨æ‹…å¿ƒæˆ‘å¿˜è®°ç­¾åˆ°äº†   å…‘æ¢Switchä¸æ˜¯æ¢¦</p><h1 id="å…·ä½“å®ç°"><a class="markdownIt-Anchor" href="#å…·ä½“å®ç°"></a> å…·ä½“å®ç°</h1><p>å¦‚æœåªå…³æ³¨è„šæœ¬åŠŸèƒ½  çœ‹åˆ°è¿™é‡Œå°±å¯ä»¥å·¦æ‹ğŸšªäº† å¦‚æœå¯¹å®ç°æ„Ÿå…´è¶£ è¿™é‡Œä¹Ÿå’Œä½ åˆ†äº«ä¸€ä¸‹å…·ä½“çš„å®ç°æ€è·¯</p><p>æœ‰äº†æƒ³æ³•ä¹‹åå°±å¼€å§‹å»æ‰’æ˜é‡‘ç­¾åˆ°ç›¸å…³çš„æ¥å£  æŒ¨ä¸ªæ¥å£ç‚¹å¼€çœ‹ éƒ½æ˜¯ç»™äº†äº›å•¥æ•°æ® æ¯ä¸ªæ•°æ®éƒ½æ˜¯ç”¨æ¥å¹²å•¥çš„ ç»è¿‡æ¼«é•¿çš„è°ƒè¯•å  è„šæœ¬ç­¾åˆ°èƒ½åŠ›å°±å®Œæˆäº† åŠŸèƒ½ä¸»è¦ç”±ä¸€ä¸‹å‡ ä¸ªæ¥å£ç»„æˆ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç­¾åˆ°</span></span><br><span class="line"><span class="attr">checkIn</span>: <span class="string">&#x27;/growth_api/v1/check_in&#x27;</span>,</span><br><span class="line"><span class="comment">// æŸ¥è¯¢ç­¾åˆ°</span></span><br><span class="line"><span class="attr">getCheckStatus</span>: <span class="string">&#x27;/growth_api/v1/get_today_status&#x27;</span>,</span><br><span class="line"><span class="comment">// æŸ¥è¯¢ç­¾åˆ°å¤©æ•°</span></span><br><span class="line"><span class="attr">getCheckInDays</span>: <span class="string">&#x27;/growth_api/v1/get_counts&#x27;</span>,</span><br><span class="line"><span class="comment">// æŸ¥è¯¢å½“å‰çŸ¿çŸ³</span></span><br><span class="line"><span class="attr">getCurrentPoint</span>: <span class="string">&#x27;/growth_api/v1/get_cur_point&#x27;</span>,</span><br><span class="line"><span class="comment">// æŸ¥è¯¢æŠ½å¥–</span></span><br><span class="line"><span class="attr">getlotteryStatus</span>: <span class="string">&#x27;/growth_api/v1/lottery_config/get&#x27;</span>,</span><br><span class="line"><span class="comment">// æŠ½å¥–</span></span><br><span class="line"><span class="attr">draw</span>: <span class="string">&#x27;/growth_api/v1/lottery/draw&#x27;</span>,</span><br><span class="line"><span class="comment">// æ²¾å–œæ°”</span></span><br><span class="line"><span class="attr">dipLucky</span>: <span class="string">&#x27;/growth_api/v1/lottery_lucky/dip_lucky&#x27;</span></span><br><span class="line"><span class="comment">// è·å–æ²¾å–œæ°”åˆ—è¡¨ç”¨æˆ·</span></span><br><span class="line"><span class="attr">getLuckyUserList</span>: <span class="string">&#x27;/growth_api/v1/lottery_history/global_big&#x27;</span></span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥å°±å¾ˆç®€å•äº†  æ¥æ¥å£å˜›  è°è¿˜ä¸ä¼šäº†  æ‰¾ä¸ªè¯·æ±‚åº“ç›´æ¥å¹² è¿™é‡Œæˆ‘é€‰ç”¨çš„æ˜¯<code>axios</code></p><p>å…ˆé…ç½®ä¸€ä¸‹è¯·æ±‚  åœ¨<code>index.js</code>å†™å…¥ å°†<code>config</code>æ–‡ä»¶ä¸­çš„<code>cookie</code>ä¸¢è¿›è¯·æ±‚å¤´ä¸­</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é…ç½®è¯·æ±‚åœ°å€</span></span><br><span class="line">axios.defaults.baseURL = config.baseUrl</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¾ç½®cookie</span></span><br><span class="line">axios.defaults.headers[<span class="string">&#x27;cookie&#x27;</span>] = config.cookie</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç›¸åº”æ‹¦æˆªå¤„ç†</span></span><br><span class="line">axios.interceptors.response.use((response) =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; <span class="keyword">data</span> &#125; = response</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">data</span>.err_msg === <span class="string">&#x27;success&#x27;</span> &amp;&amp; <span class="keyword">data</span>.err_no === <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">data</span></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> Promise.reject(<span class="keyword">data</span>.err_msg)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;, (error) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> Promise.reject(error)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥å°±ç›´æ¥è¯·æ±‚æ¥å£ï¼Œè¯·æ±‚å¾ªåºä¾æ¬¡ä¸º</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ba37964d4e1c43dca962b5a5e13f4d5b~tplv-k3u1fbpfcp-watermark.image?" alt="image.png" /></p><p>ä»¥ä¸‹ä¸»è¦ä»£ç </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æŸ¥çœ‹ä»Šå¤©æ˜¯å¦å·²ç»ç­¾åˆ°</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">Boolean</span>&#125; æ˜¯å¦ç­¾åˆ°è¿‡ </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">getCheckStatus</span> = <span class="keyword">async</span> (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> getCheckStatusRes = <span class="keyword">await</span> <span class="title function_">axios</span>(&#123;</span><br><span class="line">      <span class="attr">url</span>: config.<span class="property">api</span>.<span class="property">getCheckStatus</span>,</span><br><span class="line">      <span class="attr">method</span>: <span class="string">&#x27;get&#x27;</span></span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">return</span> getCheckStatusRes.<span class="property">data</span></span><br><span class="line">  &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="string">`æŸ¥è¯¢ç­¾åˆ°å¤±è´¥!ã€<span class="subst">$&#123;error&#125;</span>ã€‘`</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æŸ¥è¯¢å½“å‰çŸ¿çŸ³</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">getCurrentPoint</span> = <span class="keyword">async</span> (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> getCurrentPointRes = <span class="keyword">await</span> <span class="title function_">axios</span>(&#123; <span class="attr">url</span>: config.<span class="property">api</span>.<span class="property">getCurrentPoint</span>, <span class="attr">method</span>: <span class="string">&#x27;get&#x27;</span> &#125;)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`å½“å‰æ€»çŸ¿çŸ³: <span class="subst">$&#123;getCurrentPointRes.data&#125;</span>æ•°`</span>)</span><br><span class="line">  &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="string">`æŸ¥è¯¢çŸ¿çŸ³å¤±è´¥!<span class="subst">$&#123;error.err_msg&#125;</span>`</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æŸ¥è¯¢å…è´¹æŠ½å¥–æ¬¡æ•°</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">Boolean</span>&#125; æ˜¯å¦æœ‰å…è´¹æŠ½å¥–æ¬¡æ•°</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">getlotteryStatus</span> = <span class="keyword">async</span> (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> getlotteryStatusRes = <span class="keyword">await</span> <span class="title function_">axios</span>(&#123; <span class="attr">url</span>: config.<span class="property">api</span>.<span class="property">getlotteryStatus</span>, <span class="attr">method</span>: <span class="string">&#x27;get&#x27;</span> &#125;)</span><br><span class="line">    <span class="keyword">return</span> getlotteryStatusRes.<span class="property">data</span>.<span class="property">free_count</span> === <span class="number">0</span></span><br><span class="line">  &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="string">`æŸ¥è¯¢å…è´¹æŠ½å¥–å¤±è´¥ï¼ã€<span class="subst">$&#123;error&#125;</span>ã€‘`</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è·å–æ²¾å–œæ°”åˆ—è¡¨ç”¨æˆ·historyId</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">string</span>&#125; è¢«æ²¾çš„å¹¸è¿å„¿çš„history_id</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">getLuckyUserHistoryId</span> = <span class="keyword">async</span> (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="comment">// æ¥å£ä¸ºåˆ†é¡µæŸ¥è¯¢  é»˜è®¤æŸ¥è¯¢æ¡10æ¡æ•°æ® &#123;page_no: 0, page_size: 5&#125;</span></span><br><span class="line">    <span class="keyword">const</span> luckyList = <span class="keyword">await</span> <span class="title function_">axios</span>(&#123; <span class="attr">url</span>: config.<span class="property">api</span>.<span class="property">getLuckyUserList</span>, <span class="attr">method</span>: <span class="string">&#x27;post&#x27;</span> &#125;)</span><br><span class="line">    <span class="comment">// éšæœºæŠ½å–ä¸€ä½å¹¸è¿å„¿  æ²¾ä»–</span></span><br><span class="line">    <span class="keyword">return</span> luckyList.<span class="property">data</span>.<span class="property">lotteries</span>[<span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * luckyList.<span class="property">data</span>.<span class="property">lotteries</span>.<span class="property">length</span>)]?.<span class="property">history_id</span></span><br><span class="line">  &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="string">`è·å–æ²¾å–œæ°”åˆ—è¡¨ç”¨æˆ·historyIdå¤±è´¥`</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ²¾å–œæ°”</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">dipLucky</span> = <span class="keyword">async</span> (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="comment">// è·å–historyId</span></span><br><span class="line">    <span class="keyword">const</span> historyId = <span class="keyword">await</span> <span class="title function_">getLuckyUserHistoryId</span>()</span><br><span class="line">    <span class="comment">// æ²¾å–œæ°”æ¥å£   ä¼ é€’lottery_history_id</span></span><br><span class="line">    <span class="keyword">const</span> dipLuckyRes = <span class="keyword">await</span> <span class="title function_">axios</span>(&#123; <span class="attr">url</span>: config.<span class="property">api</span>.<span class="property">dipLucky</span>, <span class="attr">method</span>: <span class="string">&#x27;post&#x27;</span>, <span class="attr">data</span>: &#123; <span class="attr">lottery_history_id</span>: historyId &#125; &#125;)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`å å–œæ°”æˆåŠŸ! ğŸ‰ ã€å½“å‰å¹¸è¿å€¼ï¼š<span class="subst">$&#123;dipLuckyRes.data.total_value&#125;</span>/6000ã€‘`</span>)</span><br><span class="line">  &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="string">`å å–œæ°”å¤±è´¥ï¼ <span class="subst">$&#123;error&#125;</span>`</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æŠ½å¥–</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">draw</span> = <span class="keyword">async</span> (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> freeCount = <span class="keyword">await</span> <span class="title function_">getlotteryStatus</span>()</span><br><span class="line">    <span class="keyword">if</span> (freeCount) &#123;</span><br><span class="line">      <span class="comment">// æ²¡æœ‰å…è´¹æŠ½å¥–æ¬¡æ•°</span></span><br><span class="line">      <span class="keyword">throw</span> <span class="string">&#x27;ä»Šæ—¥å…è´¹æŠ½å¥–ä»¥ç”¨å®Œ&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¼€å§‹æŠ½å¥–</span></span><br><span class="line">    <span class="keyword">const</span> drawRes = <span class="keyword">await</span> <span class="title function_">axios</span>(&#123; <span class="attr">url</span>: config.<span class="property">api</span>.<span class="property">draw</span>, <span class="attr">method</span>: <span class="string">&#x27;post&#x27;</span> &#125;)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`æ­å–œä½ æŠ½åˆ°ã€<span class="subst">$&#123;drawRes.data.lottery_name&#125;</span>ã€‘ğŸ‰`</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// å…ˆæ²¾ä¸€ä¸‹å–œæ°”</span></span><br><span class="line">    <span class="keyword">await</span> <span class="title function_">dipLucky</span>()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (drawRes.<span class="property">data</span>.<span class="property">lottery_type</span> === <span class="number">1</span>) &#123;</span><br><span class="line">      <span class="comment">// æŠ½åˆ°çŸ¿çŸ³ æŸ¥è¯¢æ€»çŸ¿çŸ³</span></span><br><span class="line">      <span class="keyword">await</span> <span class="title function_">getCurrentPoint</span>()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">`æŠ½å¥–å¤±è´¥!=======&gt; ã€<span class="subst">$&#123;error&#125;</span>ã€‘`</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *æŸ¥è¯¢ç­¾åˆ°å¤©æ•°</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">Object</span>&#125; continuousDay è¿ç»­ç­¾åˆ°å¤©æ•° sumCount æ€»ç­¾åˆ°å¤©æ•°</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">getCheckInDays</span> = <span class="keyword">async</span> (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> getCheckInDays = <span class="keyword">await</span> <span class="title function_">axios</span>(&#123; <span class="attr">url</span>: config.<span class="property">api</span>.<span class="property">getCheckInDays</span>, <span class="attr">method</span>: <span class="string">&#x27;get&#x27;</span> &#125;)</span><br><span class="line">    <span class="keyword">return</span> &#123; <span class="attr">continuousDay</span>: getCheckInDays.<span class="property">data</span>.<span class="property">cont_count</span>, <span class="attr">sumCount</span>: getCheckInDays.<span class="property">data</span>.<span class="property">sum_count</span> &#125;</span><br><span class="line">  &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="string">`æŸ¥è¯¢ç­¾åˆ°å¤©æ•°å¤±è´¥!ğŸ™ã€<span class="subst">$&#123;getCheckInDays.err_msg&#125;</span>ã€‘`</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç­¾åˆ°</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">checkIn</span> = <span class="keyword">async</span> (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="comment">// æŸ¥è¯¢ä»Šå¤©æ˜¯å¦ç­¾åˆ°æ²¡</span></span><br><span class="line">    <span class="keyword">const</span> checkStatusRes = <span class="keyword">await</span> <span class="title function_">getCheckStatus</span>()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!checkStatusRes) &#123;</span><br><span class="line">      <span class="comment">// ç­¾åˆ°</span></span><br><span class="line">      <span class="keyword">const</span> checkInRes = <span class="keyword">await</span> <span class="title function_">axios</span>(&#123; <span class="attr">url</span>: config.<span class="property">api</span>.<span class="property">checkIn</span>, <span class="attr">method</span>: <span class="string">&#x27;post&#x27;</span> &#125;)</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`ç­¾åˆ°æˆåŠŸï¼Œå½“å‰æ€»çŸ¿çŸ³<span class="subst">$&#123;checkInRes.data.sum_point&#125;</span>`</span>)</span><br><span class="line"></span><br><span class="line">      <span class="comment">// æŸ¥è¯¢ç­¾åˆ°å¤©æ•°</span></span><br><span class="line">      <span class="keyword">const</span> getCheckInDaysRes = <span class="keyword">await</span> <span class="title function_">getCheckInDays</span>()</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`è¿ç»­æŠ½å¥–<span class="subst">$&#123;getCheckInDaysRes.continuousDay&#125;</span>å¤©  æ€»ç­¾åˆ°å¤©æ•°<span class="subst">$&#123;getCheckInDaysRes.sumCount&#125;</span>`</span>)</span><br><span class="line"></span><br><span class="line">      <span class="comment">// ç­¾åˆ°æˆåŠŸ å»æŠ½å¥–</span></span><br><span class="line">      <span class="keyword">await</span> <span class="title function_">draw</span>()</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;ä»Šæ—¥å·²ç»ç­¾åˆ° âœ…&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">`ç­¾åˆ°å¤±è´¥!=======&gt; <span class="subst">$&#123;error&#125;</span>`</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="è‡ªåŠ¨æ‰§è¡Œ"><a class="markdownIt-Anchor" href="#è‡ªåŠ¨æ‰§è¡Œ"></a> è‡ªåŠ¨æ‰§è¡Œ</h2><p>å…³äºè‡ªåŠ¨æ‰§è¡Œ æˆ‘æœ€å¼€å§‹æƒ³çš„æ–¹æ¡ˆæ˜¯é€šè¿‡æœåŠ¡å™¨éƒ¨ç½²  å¼€å¯ä¸€ä¸ªå®šæ—¶ä»»åŠ¡å»æ‰§è¡Œ  è¿™ç§æ–¹å¼éœ€è¦æœ‰æœåŠ¡å™¨  æ¯”è¾ƒéº»çƒ¦  ä¹Ÿæœ‰äººç”¨äº‘å‡½æ•° æˆ‘åˆæ‡’å¾—å»æ³¨å†Œ åäº†æ‰¾åˆ°ä¸€ç§æ–¹æ¡ˆå°±æ˜¯ ç™½å«–<code>Github Action</code> é€šè¿‡<code>CI</code>è®¾ç½®å®šæ—¶ä»»åŠ¡ æ¯å¤©è‡ªåŠ¨æ‰§è¡Œ  <code>Github</code>äººäººéƒ½æœ‰ è¦æ±‚ä¹Ÿè¾ƒä½  ç”±äºæˆ‘ä¸æ˜¯å¾ˆæ‡‚<code>CI</code>è¿™æ–¹é¢çš„ä¸œè¥¿  è¿™æ¬¡ä¸ºäº†è„šæœ¬ä¹Ÿåªæ˜¯å­¦äº†ä¸ªçš®æ¯›  å…·ä½“ä»£ç å¦‚ä¸‹</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">jjCheckInScript</span></span><br><span class="line"></span><br><span class="line"><span class="attr">on:</span></span><br><span class="line">  <span class="attr">schedule:</span></span><br><span class="line">    <span class="comment"># æ¯å¤©9ç‚¹æ‰§è¡Œ æ—¶é—´æ ¼å¼ minute hour day month week è®¾ç½®çš„æ—¶é—´æ˜¯UTC ä¸æ˜¯åŒ—äº¬æ—¶é—´ éœ€è¦+8</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">cron:</span> <span class="string">&quot;0 1 * * *&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># A workflow run is made up of one or more jobs that can run sequentially or in parallel</span></span><br><span class="line"><span class="attr">jobs:</span></span><br><span class="line">  <span class="attr">start:</span></span><br><span class="line">    <span class="comment"># è¿è¡Œç¯å¢ƒä¸ºæœ€æ–°ç‰ˆçš„Ubuntu</span></span><br><span class="line">    <span class="attr">runs-on:</span> <span class="string">ubuntu-latest</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">steps:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">uses:</span> <span class="string">actions/checkout@v2</span>  </span><br><span class="line"></span><br><span class="line">      [[<span class="string">å®‰è£…node</span>]]<span class="string">.js</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Setup</span> <span class="string">Node.js</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">actions/setup-node@v2</span>  </span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">node-version:</span> <span class="string">&#x27;14&#x27;</span></span><br><span class="line"></span><br><span class="line">      <span class="comment"># å®‰è£…ä¾èµ–å¹¶ä¸”æ‰§è¡Œè„šæœ¬</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">npm</span> <span class="string">install</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">npm</span> <span class="string">install</span></span><br><span class="line">      </span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Start</span> <span class="string">task</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">node</span> <span class="string">index.js</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è¿™é‡Œå…³é”®çš„ä»£ç æ˜¯<code>schedule</code>  å°†è§¦å‘ä»»åŠ¡çš„æ–¹å¼æ”¹ä¸ºå®šæ—¶æ‰§è¡Œ åˆ°äº†è®¾å®šå¥½çš„æ—¶é—´åä¼šè‡ªåŠ¨æ‰§è¡Œä»»åŠ¡  ä»»åŠ¡ä¼šä»¥æœ€æ–°ç‰ˆæœ¬çš„<code>ubuntu</code>ç³»ç»Ÿè¿›è¡Œè¿è¡Œ å®‰è£…<code>node</code> å®‰è£…é¡¹ç›®ä¸­çš„ä¾èµ–å  æ‰§è¡Œ<code>index.js</code>ä¸­çš„ä»£ç   å¦‚æœæƒ³è¦ä¿®æ”¹æ‰§è¡Œæ—¶é—´ æŒ‰ç…§<code> minute hour day month week</code> çš„æ ¼å¼ä¿®æ”¹<code>schedule</code>å­—æ®µå³å¯ï¼ˆè®¾ç½®çš„æ—¶é—´æ˜¯<code>UTC</code> åŒ—äº¬æ—¶é—´ éœ€è¦**+8**ï¼‰</p><h2 id="é‚®ä»¶å‘é€"><a class="markdownIt-Anchor" href="#é‚®ä»¶å‘é€"></a> é‚®ä»¶å‘é€ğŸ“§</h2><p>é‚®ä»¶å‘é€è¿™é‡Œé€‰ç”¨çš„æ˜¯<a href="https://nodemailer.com/about/">Nodemail</a>åº“ å®ƒçš„åŠŸèƒ½ååˆ†å¼ºå¤§ æ”¯æŒå¤šç§é‚®ç®±æœåŠ¡ æ”¯æŒ<code>HTML</code>å†…å®¹ã€çº¯æ–‡æœ¬å†…å®¹ã€é™„ä»¶ã€å›¾ç‰‡ç­‰ç­‰ å‘é€é‚®ä»¶æ–¹å¼ä¹Ÿå¾ˆç®€å• å…·ä½“ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> nodemailer = <span class="built_in">require</span>(<span class="string">&#x27;nodemailer&#x27;</span>)</span><br><span class="line">â€‹</span><br><span class="line"><span class="comment">// æ—¥å¿—å¤„ç†  å°†è„šæœ¬æ—¥å¿—é€šè¿‡ejsæ¸²æŸ“æˆhtml</span></span><br><span class="line"><span class="keyword">const</span> logs = []</span><br><span class="line"><span class="variable language_">console</span>.<span class="property">oldLog</span> = <span class="variable language_">console</span>.<span class="property">log</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="property">oldErr</span> = <span class="variable language_">console</span>.<span class="property">error</span></span><br><span class="line">â€‹</span><br><span class="line"><span class="variable language_">console</span>.<span class="property">log</span> = <span class="function">(<span class="params">str</span>) =&gt;</span> &#123;</span><br><span class="line"> Â logs.<span class="title function_">push</span>(&#123;</span><br><span class="line"> Â  Â <span class="attr">type</span>: <span class="string">&#x27;success&#x27;</span>,</span><br><span class="line"> Â  Â <span class="attr">text</span>: str</span><br><span class="line">  &#125;)</span><br><span class="line"> Â <span class="variable language_">console</span>.<span class="title function_">oldLog</span>(str)</span><br><span class="line">&#125;</span><br><span class="line">â€‹</span><br><span class="line"><span class="variable language_">console</span>.<span class="property">error</span> = <span class="function">(<span class="params">str</span>) =&gt;</span> &#123;</span><br><span class="line"> Â logs.<span class="title function_">push</span>(&#123;</span><br><span class="line"> Â  Â <span class="attr">type</span>: <span class="string">&#x27;error&#x27;</span>,</span><br><span class="line"> Â  Â <span class="attr">text</span>: str</span><br><span class="line">  &#125;)</span><br><span class="line"> Â <span class="variable language_">console</span>.<span class="title function_">oldErr</span>(str)</span><br><span class="line">&#125;</span><br><span class="line">â€‹</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å‘é€é‚®ä»¶</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">sendEmail</span> = <span class="keyword">async</span> (<span class="params"></span>) =&gt; &#123;</span><br><span class="line"> Â <span class="keyword">try</span> &#123;</span><br><span class="line"> Â  Â <span class="keyword">const</span> template = ejs.<span class="title function_">compile</span>(fs.<span class="title function_">readFileSync</span>(path.<span class="title function_">resolve</span>(__dirname, <span class="string">&#x27;email.ejs&#x27;</span>), <span class="string">&#x27;utf8&#x27;</span>));</span><br><span class="line"> Â  Â <span class="keyword">const</span> transporter = nodemailer.<span class="title function_">createTransport</span>(&#123;</span><br><span class="line"> Â  Â  Â <span class="attr">service</span>: process.<span class="property">env</span>.<span class="property">SERVICE</span>, <span class="comment">// é‚®ç®±æœåŠ¡</span></span><br><span class="line"> Â  Â  Â <span class="attr">port</span>: <span class="number">465</span>, <span class="comment">// ç«¯å£</span></span><br><span class="line"> Â  Â  Â <span class="attr">secure</span>: <span class="literal">true</span>, <span class="comment">// ä½¿ç”¨TLSï¼ŒSSLåŠ å¯†ç«¯å£465</span></span><br><span class="line"> Â  Â  Â <span class="attr">secureConnection</span>: <span class="literal">true</span>,</span><br><span class="line"> Â  Â  Â <span class="attr">auth</span>: &#123;</span><br><span class="line"> Â  Â  Â  Â <span class="attr">user</span>: process.<span class="property">env</span>.<span class="property">EMAIL</span>, <span class="comment">// å‘é€è€…é‚®ç®±</span></span><br><span class="line"> Â  Â  Â  Â <span class="attr">pass</span>: process.<span class="property">env</span>.<span class="property">PASS</span>, <span class="comment">// é‚®ç®±æˆæƒç </span></span><br><span class="line"> Â  Â   &#125;</span><br><span class="line"> Â   &#125;)</span><br><span class="line">â€‹</span><br><span class="line"> Â  Â <span class="comment">// å‘é€é‚®ä»¶</span></span><br><span class="line"> Â  Â <span class="keyword">await</span> transporter.<span class="title function_">sendMail</span>(&#123;</span><br><span class="line"> Â  Â  Â <span class="attr">from</span>: process.<span class="property">env</span>.<span class="property">EMAIL</span>,</span><br><span class="line"> Â  Â  Â <span class="attr">to</span>: process.<span class="property">env</span>.<span class="property">EMAIL</span>,</span><br><span class="line"> Â  Â  Â <span class="attr">subject</span>: <span class="string">&#x27;æ˜é‡‘ç­¾åˆ°é€šçŸ¥ğŸ””&#x27;</span>,</span><br><span class="line"> Â  Â  Â <span class="attr">html</span>: <span class="title function_">template</span>(&#123;</span><br><span class="line"> Â  Â  Â  Â <span class="attr">logs</span>: logs</span><br><span class="line"> Â  Â   &#125;)</span><br><span class="line"> Â   &#125;)</span><br><span class="line">â€‹</span><br><span class="line">  &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line"> Â  Â <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">`é‚®ä»¶å‘é€å¤±è´¥ï¼<span class="subst">$&#123;error&#125;</span>`</span>)</span><br><span class="line">  &#125;</span><br><span class="line">â€‹</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é‚®ä»¶å†…å®¹ æˆ‘è¿™é‡Œç”¨<code>ejs</code>å†™äº†ä¸€ä¸ªç®€å•çš„æ—¥å¿—æ¨¡ç‰ˆ ç”¨æ¥æ‰¿è½½è„šæœ¬çš„<code>log</code> åœ¨å‰é¢æˆ‘å¯¹<code>console.log console.error</code>è¿›è¡Œé‡å†™ å°†<code>str</code>å­˜å‚¨åˆ°<code>logs</code>æ•°ç»„ä¸­ å§<code>logs</code>æ•°æ®ä¼ å…¥æ¨¡ç‰ˆå¼•æ“ç”Ÿæˆ<code>html</code></p><p>é‚®ä»¶å‘é€å…¶å®å¾ˆç®€å• å…·ä½“é…ç½®å¯ä»¥æŸ¥çœ‹<a href="https://nodemailer.com/smtp/">å®˜æ–¹æ–‡æ¡£</a> è¿™é‡Œå°±è§£é‡Šä¸€ä¸‹ç”¨åˆ°çš„é…ç½®</p><ul><li><strong>service:</strong> é‚®ç®±æœåŠ¡ <code>Node mai l</code>å†…éƒ¨å·²ç»æ”¯æŒäº†å¾ˆå¤š<a href="https://nodemailer.com/smtp/well-known/">é‚®ç®±æœåŠ¡</a> å¦‚æœå¡«å†™è¿™ä¸ªå­—æ®µå°±ä¸éœ€è¦å†™<code>host</code></li><li><strong>host:</strong> é‚®ç®±çš„ä¸»æœºIPåœ°å€ è¿™ä¸€é¡¹ä¸€ç‰ˆåœ¨å¼€å¯<code>IMAP/SMTP</code>åä¼šå±•ç¤ºé‚®ç®±çš„IPåœ°å€</li><li><strong>prot:</strong> ç«¯å£å· é»˜è®¤çš„ä¸º<code>465</code></li><li><strong>secureï¼š</strong> é…ç½®å®‰å…¨é“¾æ¥</li><li><strong>secureConnection:</strong> ä½¿ç”¨<code>SSL</code>ï¼ˆé»˜è®¤ä¸ºfalseï¼‰</li><li><strong>auth.user:</strong> å‘é€è€…é‚®ç®±</li><li><strong>auth.pass:</strong> é‚®ç®±æˆæƒç </li><li><strong>from:</strong> å‘é€è€…é‚®ç®±</li><li><strong>to:</strong> æ¥å—è€…é‚®ç®±</li><li><strong>subject:</strong> é‚®ä»¶ä¸»é¢˜</li><li><strong>html:</strong> é‚®ä»¶å†…å®¹<code>html</code>å­—ç¬¦ä¸²</li></ul><h2 id="actions-secrets-å¯†ç å®‰å…¨"><a class="markdownIt-Anchor" href="#actions-secrets-å¯†ç å®‰å…¨"></a> Actions secrets å¯†ç å®‰å…¨</h2><p>å…³äº<code>cookie</code> é‚®ç®±æˆæƒç  åˆšå¼€å§‹æ˜¯å†™åœ¨ä¸€ä¸ªé…ç½®æ–‡ä»¶å¤¹é‡Œé¢ åæ¥å•¦å“¥æå‡ºäº†æ›´å¥½çš„æ–¹å¼ å°±æ˜¯ç”¨<code>Actions secrets</code> è¿™ç§æ–¹å¼å¯ä»¥é¿å…å…³é”®æ•°æ®æš´éœ² ï¼ˆä¸‡ä¸€é‚£ä¸ªæ— èŠçš„å®¶ä¼™æ‹¿ä½ cookieå»æ¢­å“ˆäº†å‘¢ğŸ˜ï¼‰ è¿˜æ˜¯å°å¿ƒä¸ºä¸Š</p><p>å…¶å®ä½¿ç”¨ä¹Ÿå¾ˆç®€å• æˆ‘ä¹‹å‰å¯¹è¿™å—å®Œå…¨ä¸ç†Ÿæ‚‰ çœ‹äº†ä¼š<a href="https://docs.github.com/cn/actions/security-guides/encrypted-secrets">å®˜æ–¹æ–‡æ¡£</a> ä¸‰ä¸‹äº”é™¤äºŒå°±å¼„å¥½äº† åœ¨æ·»åŠ å¥½<code>secrets</code>æ•°æ®å æˆ‘ä»¬éœ€è¦åœ¨<code>blank.yml</code>æ–‡ä»¶ä¸­å¯¹æ•°æ®è¿›è¡Œè·å– è·å–æ–¹å¼ä¹Ÿå¾ˆç®€å• ç›´æ¥é€šè¿‡<code>$&#123;&#123;secrets.youKey&#125;&#125;</code>å°±å¯ä»¥è·å–åˆ° ä»¥è¯¥é¡¹ç›®ä¸ºä¾‹</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># ç¯å¢ƒå˜é‡</span><br><span class="line"><span class="attr">env</span>:</span><br><span class="line">  <span class="attr">COOKIE</span>: $&#123;&#123; secrets.<span class="property">COOKIE</span> &#125;&#125;</span><br><span class="line">  <span class="attr">PASS</span>: $&#123;&#123; secrets.<span class="property">PASS</span> &#125;&#125;</span><br><span class="line">  <span class="attr">EMAIL</span>: $&#123;&#123; secrets.<span class="property">EMAIL</span> &#125;&#125;</span><br><span class="line">  <span class="attr">SERVICE</span>: $&#123;&#123; secrets.<span class="property">SERVICE</span> &#125;&#125;</span><br></pre></td></tr></table></figure><p>åœ¨è®¾ç½®å®Œä¹‹å æˆ‘ä»¬å°±å¯ä»¥åœ¨ç¯å¢ƒå˜é‡ä¸­ä½¿ç”¨è¿™äº›æ•°æ® å°±åƒè¿™æ ·</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">process.<span class="property">env</span>.<span class="property">COOKIE</span></span><br><span class="line">process.<span class="property">env</span>.<span class="property">EMAIL</span></span><br></pre></td></tr></table></figure><p>ä½†æ˜¯è·å–åˆ°çš„æ•°æ®åœ¨<code>Actions</code>ä¸­æ˜¯æ— æ³•è¿›è¡Œå±•ç¤ºçš„ åœ¨è¾“å‡ºæ—¥å¿—ä¸­ ä½ å®šä¹‰çš„æ‰€æœ‰å¯†ç éƒ½ä¼šè¢«æ¸…é™¤ å¹¶åœ¨è¾“å‡ºæ—¥å¿—ä¹‹å‰ç”¨æ˜Ÿå·æ›¿æ¢ ä¹Ÿæ˜¯ä¸ºäº†é˜²æ­¢æ³„æ¼</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/bda476d9d0b945b58637d5d178bd5bf2~tplv-k3u1fbpfcp-zoom-1.image" alt="image" /></p><p>å¦‚æœè§‰å¾—è¿™æ ·è¿˜ä¸å¤Ÿå®‰å…¨ åœ¨ä»£ç ä¸­å¯ä»¥éšæ„ä½¿ç”¨åˆ°æ•°æ® å¯ä»¥å°è¯•ä¸€ä¸‹å¯¹<a href="https://docs.github.com/cn/actions/security-guides/encrypted-secrets#limits-for-secrets">å¯†ç è¿›è¡ŒåŠ å¯†</a></p><h2 id="qa"><a class="markdownIt-Anchor" href="#qa"></a> Q&amp;A</h2><h3 id="è‡ªåŠ¨æ‰§è¡Œå»¶è¿Ÿ"><a class="markdownIt-Anchor" href="#è‡ªåŠ¨æ‰§è¡Œå»¶è¿Ÿ"></a> è‡ªåŠ¨æ‰§è¡Œå»¶è¿Ÿ</h3><p>åœ¨å¼€å‘æµ‹è¯•çš„æ—¶ å‘ç°jobsæ²¡æœ‰æŒ‰æ—¶æ‰§è¡Œ ä¹ç‚¹äº”åˆ†åˆ°å…¬å¸æ‰“å¼€<code>actions</code>æ—¶å‘ç°å¹¶æ²¡æœ‰æ‰§è¡Œ<code>jobs</code>  åˆšå¼€å§‹è¿˜ä»¥ä¸ºæ˜¯<code>cron</code> æ—¶é—´å¡«å†™é”™è¯¯  ä¿®æ”¹æ—¶é—´åå‘ç°<code>github actions</code>å®šæ—¶ä»»åŠ¡ä¼šæœ‰å»¶è¿Ÿ  å»¶è¿Ÿæ—¶é—´å‡ åˆ†é’Ÿåˆ°åå‡ åˆ†é’Ÿç”šè‡³ä¸€å°æ—¶éƒ½æœ‰  ä½†è¿™ä¸ªå¹¶ä¸å½±å“æˆ‘ä»¬ç­¾åˆ°åŠŸèƒ½  åªè¦æ˜¯åœ¨ä»Šå¤©ç­¾åˆ°éƒ½å¯ä»¥</p><p>ä»¥æˆ‘æµ‹è¯•ä¸ºä¾‹  å°† <code>corn</code>æ—¶é—´è®¾ç½®ä¸ºæ¯å¤©çš„<code>12:30</code>  ä½†å®é™…æ‰§è¡Œæ—¶é—´ä¸º <code>12:51</code> å·®ä¸å¤šå»¶è¿Ÿäº†<code>20åˆ†é’Ÿ</code></p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">on:</span></span><br><span class="line">  <span class="meta"># å®šæ—¶æ‰§è¡Œ</span></span><br><span class="line"><span class="symbol">  schedule:</span></span><br><span class="line">    - cron: <span class="string">&quot;30 4 * * *&quot;</span></span><br></pre></td></tr></table></figure><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/aacc559213ae4cb6bf9078929357c27f~tplv-k3u1fbpfcp-zoom-1.image" alt="jobsæ‰§è¡Œæ—¶é—´" /></p><p>æŸ¥çœ‹ç›¸å…³æ–‡æ¡£åå‘ç°  åœ¨GitHubä¸­å…³äºScheduleçš„å®šä¹‰ï¼š</p><blockquote><p>Note: The schedule event can be delayed during periods of high loads of GitHub Actions workflow runs. High load times include the start of every hour. To decrease the chance of delay, schedule your workflow to run at a different time of the hour.</p><p>æ³¨æ„: åœ¨é«˜è´Ÿè½½çš„ GitHub action å·¥ä½œæµè¿è¡ŒæœŸé—´ï¼Œè°ƒåº¦äº‹ä»¶å¯èƒ½ä¼šè¢«å»¶è¿Ÿã€‚é«˜è´Ÿè½½æ—¶é—´åŒ…æ‹¬æ¯ä¸ªå°æ—¶çš„å¼€å§‹ã€‚ä¸ºäº†å‡å°‘å»¶è¿Ÿçš„æœºä¼šï¼Œè¯·å®‰æ’æ‚¨çš„å·¥ä½œæµåœ¨ä¸€å°æ—¶çš„ä¸åŒæ—¶é—´è¿è¡Œã€‚</p></blockquote><p>ä¹Ÿå°±æ˜¯è¯´  Scheduleä¸­çš„cronæ—¶é—´å¹¶ä¸æ˜¯çœŸæ­£æ‰§è¡Œçš„æ—¶å€™  è€Œæ˜¯å·¥ä½œæµè¿›å…¥åˆ°GitHubè¿›è¡Œè®¡åˆ’æ’é˜Ÿæ—¶é—´ è¯´ç®€å•ç‚¹å°±æ˜¯å·¥ä½œæµè¿›å…¥åˆ°GitHubæ‰§è¡Œçš„é˜Ÿåˆ—æ—¶é—´  å…·ä½“ä»€ä¹ˆæ—¶å€™æ‰§è¡Œå·¥ä½œæµ åˆ™éœ€è¦çœ‹GitHubå·¥ä½œæµçš„è´Ÿè½½</p><p>è¿™ä¸ªé—®é¢˜åœ¨ç­¾åˆ°éœ€æ±‚ä¸­å¹¶ä¸æ˜¯è‡´å‘½çš„é—®é¢˜  å¦‚æœæƒ³è¦è§£å†³å¯ä»¥å‚è€ƒ<a href="https://zhuanlan.zhihu.com/p/379365305">Github Actionçš„ Schedule è¿è¡Œä¸å‡†æ—¶çš„è§£å†³åŠæ³•</a>è¿™ç¯‡æ–‡ç« </p><h3 id="ä¸ºå•¥ä¸ç”¨documentcookie"><a class="markdownIt-Anchor" href="#ä¸ºå•¥ä¸ç”¨documentcookie"></a> ä¸ºå•¥ä¸ç”¨<code>document.cookie</code>?</h3><p>æ§åˆ¶å°è¾“å…¥å‘½ä»¤è·å–åˆ°çš„cookieå¹¶ä¸å®Œæ•´</p><p>è¿™æ˜¯æ§åˆ¶å°è·å–åˆ°çš„<code>cookie</code>ï¼Œå¯¹æ¯”ä¸€ä¸‹æ¥å£çš„<code>cookie</code>ï¼Œç›¸å·®å¾ˆå¤§<br /><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/91221fa2088b453dadcbbd408872d045~tplv-k3u1fbpfcp-zoom-1.image" alt="image" /></p><h2 id="å£°æ˜"><a class="markdownIt-Anchor" href="#å£°æ˜"></a> å£°æ˜ğŸ“¢</h2><p>æœ¬é¡¹ç›®ä»…é€‚ç”¨äºå­¦ä¹ äº¤æµ  å¹¶ä¸å…·å¤‡å…¶ä»–ç”¨é€”  ä¹Ÿæ²¡æœ‰ç»è¿‡æ˜é‡‘å®˜æ–¹å›¢é˜Ÿ  è‹¥æ˜¯è¢«å°å·  ä¸æˆ‘æ— å…³ï¼ˆæ‰‹åŠ¨ç‹—å¤´ä¿å‘½ï¼‰</p><p>æœ‰å…¶ä»–æƒ³æ³•æˆ–åŠŸèƒ½ æ¬¢è¿ğŸ‘è¿›è¡Œè®¨è®º   å¦‚æœå¯¹ä½ æœ‰å¸®åŠ© ç»™ä¸ª<code>Star</code>è¡Œä¸è¡Œ</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;æ˜é‡‘è‡ªåŠ¨ç­¾åˆ°-å®šæ—¶æ‰§è¡Œ-é‚®ç®±æ¨é€-ä½ è¿˜æƒ³è¦å•¥&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#æ˜é‡‘è‡ªåŠ¨ç­¾åˆ°-å®šæ—¶æ‰§è¡Œ-é‚®ç®±æ¨é€-ä½ è¿˜æƒ³è¦å•¥&quot;&gt;&lt;/a&gt; æ˜é‡‘è‡ªåŠ¨ç­¾åˆ° â• å®šæ—¶æ‰§è¡Œ â•é‚®ç®±æ¨é€ ä½ è¿˜æƒ³è¦å•¥â“&lt;/h1&gt;
&lt;p&gt;&lt;img src</summary>
      
    
    
    <content src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4a4f074044ab4321ad0675aab5d58a00~tplv-k3u1fbpfcp-zoom-crop-mark:1512:1512:1512:851.awebp?" type="image"/>
    
    
    <category term="Github" scheme="https://wakaka378.github.io/categories/Github/"/>
    
    <category term="å·¥å…·" scheme="https://wakaka378.github.io/categories/Github/%E5%B7%A5%E5%85%B7/"/>
    
    <category term="Node" scheme="https://wakaka378.github.io/categories/Github/%E5%B7%A5%E5%85%B7/Node/"/>
    
    
    <category term="Github" scheme="https://wakaka378.github.io/tags/Github/"/>
    
    <category term="å·¥å…·" scheme="https://wakaka378.github.io/tags/%E5%B7%A5%E5%85%B7/"/>
    
    <category term="Node" scheme="https://wakaka378.github.io/tags/Node/"/>
    
  </entry>
  
  <entry>
    <title>2021å½“ç¨‹åºå‘˜ç¢°åˆ°æœ¬å‘½å¹´...</title>
    <link href="https://wakaka378.github.io/f0d2269aa2b7.html"/>
    <id>https://wakaka378.github.io/f0d2269aa2b7.html</id>
    <published>2021-12-07T13:09:02.000Z</published>
    <updated>2023-06-14T13:09:51.144Z</updated>
    
    <content type="html"><![CDATA[<h1 id="2021å½“ç¨‹åºå‘˜ç¢°åˆ°æœ¬å‘½å¹´"><a class="markdownIt-Anchor" href="#2021å½“ç¨‹åºå‘˜ç¢°åˆ°æœ¬å‘½å¹´"></a> 2021å½“ç¨‹åºå‘˜ç¢°åˆ°æœ¬å‘½å¹´â€¦</h1><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ec96d155e57f4d889baf7a8dc40a8771~tplv-k3u1fbpfcp-zoom-crop-mark:1512:1512:1512:851.awebp?" alt="" /></p><blockquote><p>ã€Œæ—¶å…‰ä¸è´Ÿï¼Œåˆ›ä½œä¸åœï¼Œæœ¬æ–‡æ­£åœ¨å‚åŠ <a href="https://juejin.cn/post/7034786723137585188/" title="https://juejin.cn/post/7034786723137585188/">2021å¹´ç»ˆæ€»ç»“å¾æ–‡å¤§èµ›</a>ã€</p></blockquote><h2 id="å·¥ä½œ"><a class="markdownIt-Anchor" href="#å·¥ä½œ"></a> å·¥ä½œ</h2><h3 id="æ‹’ç»pua"><a class="markdownIt-Anchor" href="#æ‹’ç»pua"></a> âŒæ‹’ç»pua</h3><p>ç¬¬ä¸€æ¬¡ç¦»èŒå‘ç”Ÿåœ¨ä»Šå¹´3æœˆä»½ï¼Œç¦»å¼€äº†åœ¨å¦é—¨å…¬å¸ï¼Œåœ¨å…¬å¸å·¥ä½œä¸¤å¹´ï¼Œè§è¯äº†å…¬å¸æœ‰å…¥èŒæ—¶çš„åå‡ äººå›¢é˜Ÿåˆ°ç¦»èŒæ—¶çš„ä¸¤ç™¾å¤šå·äººçš„å‘å±•å†ç¨‹ã€‚ä¸¤å¹´æ¥ï¼Œå…¬å¸æ•™ä¼šäº†æˆ‘å¾ˆå¤šã€‚ä¸€ä¸ªäººçš„å‰ç«¯ï¼ŒæŠ€æœ¯æ ˆæ€ä¹ˆèˆ’æœæ€ä¹ˆæ¥ï¼Œä¹Ÿæ²¡æœ‰ç»©æ•ˆè€ƒæ ¸ã€æå¿ƒåŠèƒ†code Reviewã€æ²¡å®Œæ²¡äº†çš„ä¼šè®®ã€‚è¦è¯´åå¤„ï¼Œé‚£å°±æ˜¯å¤ªç´¯äº†ï¼Œæ‰€æœ‰äº‹æƒ…éƒ½å¾—ä½ ä¸€ä¸ªäººå»æ‰¿æ‹…ã€‚ä¸å…‰æ˜¯æŠ€æœ¯ï¼Œå…¬å¸ä¹Ÿæ•™ä¼šæˆ‘ï¼Œ<strong>ã€Œå·¥ä½œçš„äº‹æƒ…ä¸èƒ½å¤ªæ„Ÿæ€§ã€</strong>ï¼Œå¤§å®¶éƒ½æ˜¯å‡ºæ¥æ‰“å·¥éƒ½æ˜¯ä¸ºäº†é’±ï¼Œåªè¦æ˜¯å’Œåˆ©ç›Šç›¸å…³çš„éƒ½è¦åšå®ˆè‡ªå·±çš„åº•çº¿ï¼Œä¸è¦è¢«è€æ¿çš„ä¸€äº›å¤§é¥¼æ‰€è¯±æƒ‘ã€‚æˆ‘å½“åˆå°±æ˜¯å¤ªå¤©çœŸï¼Œ20å¹´ç–«æƒ…æœŸé—´éµå¾ªå…¬å¸é™è–ªåï¼Œè¿˜æ²¡æ—¥æ²¡å¤œçš„åœ¨å®¶å¹²æ´»ï¼Œå›å…¬å¸åå¤„äºé™è–ªçš„åŒæ—¶ï¼Œè¿˜è¦è‡ªå·±æ‰¿æ‹…æˆ¿ç§Ÿï¼ˆæˆ‘ä»æ­¦æ±‰è·Ÿéšå…¬å¸æ¥å¦é—¨ï¼Œé‚£ä¼šæ˜¯åŒ…ä½çš„ï¼‰ã€‚æœ¬æ¥ä¸é«˜çš„å·¥èµ„åŠ ä¸Šé™è–ªï¼Œè‡ªå·±æ‰¿æ‹…æˆ¿ç§Ÿï¼Œé‚£ä¼šæ‰‹ä¸Šè¿˜æœ‰è½¦è´·ï¼Œå‡ ä¹æ˜¯æ¯ä¸ªæœˆåˆ°æ‰‹çš„é’±ç«‹é©¬å°±æ²¡äº†ã€‚é‚£ä¼šåšä¿¡å…¬å¸æœ‰å›°éš¾ï¼Œå¤§å®¶éƒ½èµ°äº†ï¼Œæˆ‘ä¸èƒ½åœ¨å…³é”®æ—¶åˆ»ç¦»å¼€å…¬å¸ï¼ˆå“¼ï½å¤©çœŸçš„æˆ‘ï¼‰ï¼Œè¦å’Œå…¬å¸ä¸€èµ·åº¦è¿‡éš¾å…³ï¼Œç­‰å…¬å¸æŒºè¿‡å»äº†ä¸ä¼šäºå¾…æˆ‘ä»¬è¿™äº›å‘˜å·¥ã€‚å¯ç­‰å…¬å¸æŒºè¿‡å»äº†ï¼ˆæˆ‘ä»¬é‚£ä¼šåšçš„æ˜¯çº¿ä¸Šæ•™è‚²ï¼‰ï¼Œè¿˜åè¿‡æ¥åœ¨ä½ èº«ä¸ŠçŒ›å˜¬ä¸€å£ã€‚</p><p>æœ€åå®åœ¨å¿å—ä¸äº†ï¼Œä»Šå¹´3æœˆä»½å’Œå…¬å¸æäº†ç¦»èŒã€‚ç¦»èŒå¤„ç†å®Œå®¶ä¸­äº‹æƒ…åï¼Œå¼€å§‹ç€æ‰‹å¤ä¹ ã€‚åœ¨å®¶ä¸€è¾¹å¤ä¹ ä¸€è¾¹æŠ•ç®€å†ï¼Œç„å‡†çš„åŸå¸‚æ˜¯ <strong>ã€ŒåŒ—äº¬ã€</strong>ï¼Œåœ¨çº¿ä¸Šé¢è¯•äº†å‡ å®¶ä¹‹åï¼Œæ”¶åˆ°äº†é‚£ä¼šè§‰å¾—è¿˜ä¸é”™çš„offerï¼Œæ€»ä½“è–ªèµ„æ°´å¹³åœ¨14kå·¦å³ã€‚å¯¹äºå½“æ—¶çš„æˆ‘æ¥è¯´ï¼Œå·²ç»æ˜¯ä¹‹å‰çš„ä¸¤å€å¤šäº†ã€‚æ—¶æœºæˆç†Ÿä¹‹åï¼Œåªèº«ä¸€äººåä¸Šäº†åŒ—ä¸Šçš„é£æœºï¼Œå¼€å§‹åŒ—æ¼‚ç”Ÿæ´»ã€‚</p><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4770a3d82959431da9bed7f7bc99c87b~tplv-k3u1fbpfcp-watermark.image?" alt="WeChatae43c1783d058567a341b99611a4c773.png" /></p><p>æ¥åŒ—äº¬åï¼Œå¹¶æ²¡æœ‰ç€æ€¥å…¥èŒï¼Œè€Œæ˜¯ç»§ç»­æŠ•ç®€å†é¢è¯•ã€‚æœ€åé€‰æ‹©å…¥èŒæŸèŠ±æ€ç»´æ•™è‚²å…¬å¸ï¼Œå¼€å¯äº†ç¬¬äºŒä»½å·¥ä½œã€‚</p><h3 id="æ•™è‚²è¡Œä¸šè£å‘˜"><a class="markdownIt-Anchor" href="#æ•™è‚²è¡Œä¸šè£å‘˜"></a> ğŸ˜”æ•™è‚²è¡Œä¸šè£å‘˜</h3><p>ç”±äºåœ¨ç¬¬ä¸€å®¶å…¬å¸åšæ•™è‚²ï¼Œæ¥åŒ—äº¬åæ‰¾å·¥ä½œä¹Ÿæ˜¯é’ˆå¯¹æ•™è‚²è¡Œä¸šã€‚é‚£ä¼šè§‰å¾—åšæ•™è‚²è¡Œä¸šçš„å…¬å¸åº”è¯¥éƒ½è¿˜ä¸é”™ï¼Œæ¯”è¾ƒè€ä¸œå®¶å°±æ˜¯é ç€åšæ•™è‚²æ¸¡è¿‡ç–«æƒ…å‘å±•å£®å¤§çš„ã€‚å››æœˆä»½å…¥èŒæ–°å…¬å¸åï¼Œè¢«åˆ†åˆ°é€šä¿¡ç ”å‘ä¸­å¿ƒè´Ÿè´£å…¬å¸é€šä¿¡äº§å“ç ”å‘ã€‚é‚£æ˜¯æˆ‘ç¬¬ä¸€æ¬¡åœ¨ä¸€ä¸ªæœ‰å®Œæ•´çš„åˆ¶åº¦è§„èŒƒã€å¼€å‘æµç¨‹çš„å…¬å¸é‡Œä¸Šç­ã€‚ä»¥å‰éƒ½ä¸çŸ¥é“ä»€ä¹ˆæ˜¯codeReviewã€ä»€ä¹ˆæ˜¯showcaseã€ç‰ˆæœ¬å‘å¸ƒè¿˜èƒ½è¿™æ ·å¼„ç­‰ç­‰ã€‚å°±å¥½åƒä¸€ä¸ªå±±æ²Ÿæ²Ÿé‡Œçš„å­©å­ï¼Œçœ‹åˆ°è§äº†æ»¡åœ°çš„é«˜æ¥¼å¤§å¦ä¸€èˆ¬ã€‚å›¢é˜Ÿæ°›å›´éå¸¸å–œæ¬¢ï¼Œç»„é‡Œçš„å°å“¥å“¥å°å§å§è¶…æ£’ï¼Œleaderäººä¹Ÿä¸é”™ï¼ˆè¿™é‡ŒçœŸçš„å¾ˆæ„Ÿè°¢ä»–ä»¬å¯¹æˆ‘çš„åŒ…å®¹ï¼Œå°¤å…¶æ˜¯leaderä¸ºå›¢é˜Ÿæ‰¿å—äº†å¾ˆå¤šå¤–ç•Œå‹åŠ›ï¼‰ã€‚ å…¶å®åœ¨æŸèŠ±çš„å·¥ä½œè¿˜æ˜¯å¾ˆè¾›è‹¦çš„ï¼Œæ—©10æ™š9ï¼Œä¸­é—´ä¿©å°æ—¶ä¼‘æ¯å’Œä¸‹åˆä¸€å°æ—¶åƒé¥­ã€‚å¹³æ—¶ä¸‹ç­å°±å…«ç‚¹å¤šï¼Œåˆ°å®¶åŸºæœ¬éƒ½åœ¨åç‚¹å·¦å³ï¼Œè¦æ˜¯ç¢°åˆ°å¼€å‘ç´§æ€¥æˆ–è€…éœ€è¦å‘ç‰ˆï¼Œé€šå¸¸éƒ½æ˜¯åœ¨åç‚¹ä¸‹ç­ï¼ˆå› ä¸ºåç‚¹åæ‰“è½¦æŠ¥é”€ï¼‰ã€‚å·¥ä½œå¾ˆç´¯ï¼Œä½†æ˜¯è‡ªå·±å¾ˆå–œæ¬¢ï¼Œå¯¹å·¥ä½œå……æ»¡äº†å¹²åŠ²ã€‚</p><p><strong>ã€Œæ—¶ä»£çš„ä¸€ç²’ç°ï¼Œè½åœ¨ä¸ªäººå¤´ä¸Šå°±æ˜¯ä¸€åº§å±±ã€</strong></p><p>åŒå‡æ”¿ç­–è½åœ°ï¼Œæ•™è‚²è¡Œä¸šå¤‡å—æ‰“å‡» 7æœˆä»½å…¬å¸å¼€å§‹è£å‘˜ã€‚å…¶å®é‚£ä¼šå¿ƒé‡Œå·²ç»æœ‰åº•äº†ï¼Œæˆ‘è‚¯å®šæ˜¯è¦è¢«è£æ‰çš„ã€‚è¢«å«åˆ°ä¸€ä¸ªåŠå…¬å®¤åï¼Œç›´æ¥ç­¾å¥½èµ”å¿åè®®ç¦»èŒåè®®ï¼Œé‚£ä¼šè¿˜æ²¡æœ‰è½¬æ­£èµ”å¿åªæœ‰0.5ï¼Œä¸è¿‡æœ‰æ€»æ¯”æ²¡æœ‰å¼ºã€‚ä¸Šåˆè¿˜åœ¨å†™ä»£ç ï¼Œä¸‹åˆäº¤å®Œå·¥ç‰Œè¿˜äº†è®¾å¤‡å°±ç¦»èŒäº†ã€‚ç›´åˆ°æˆ‘ä»¬åŠå®Œç¦»èŒæ‰‹ç»­ï¼Œleaderå¼€ä¼šå›æ¥æ‰çŸ¥é“æˆ‘ä»¬ç»„é‡Œä»Šå¹´å…¥èŒçš„åŒå­¦å…¨éƒ¨éƒ½è¢«è£äº†ï¼Œæˆ‘ä»ä»–çœ¼é‡Œçœ‹åˆ°äº†æ— åŠ©ä»¥åŠæ„§ç–šï¼Œå¤§å®¶èµ°ä¹‹å‰åƒäº†ä¸€é¡¿æ•£ä¼™é¥­ï¼Œå’Œleaderã€ç•™ä¸‹æ¥çš„åŒäº‹ä¸€ä¸€é“åˆ«åï¼Œå¼€å§‹ç¬¬ä¸‰ä»½å·¥ä½œå¯»æ‰¾ä¹‹è·¯ã€‚</p><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3d722c3bd4b5484f8f59689c9ff61f9e~tplv-k3u1fbpfcp-watermark.image?" alt=" å›¢å»ºçš„æ—¶å€™å’Œå°ä¼™ä¼´å‡Œæ™¨å››ç‚¹çˆ¬èµ·æ¥çœ‹æ—¥å‡ºï¼Œå¹äº†åŠå°æ—¶é£åçœ‹äº†ä¸ªå¯‚å¯ " /></p><h3 id="è·‘è·¯è¦å¿«"><a class="markdownIt-Anchor" href="#è·‘è·¯è¦å¿«"></a> ğŸƒè·‘è·¯è¦å¿«</h3><p>ç¦»èŒåæˆ‘å¹¶æ²¡æœ‰ç€æ€¥æ‰¾å·¥ä½œï¼Œè€Œæ˜¯ç»™è‡ªå·±æ”¾äº†ä¸€ä¸ªæœˆçš„å‡ã€‚é‚£ä¼šæ—¶é—´èŠ‚ç‚¹è¿˜ä¸æ˜¯å¾ˆå¥½ï¼Œè‡ªå·±ä¹Ÿæ²¡æœ‰å¤ä¹ ï¼Œå†åŠ ä¸Šå¤–é¢å…¨æ˜¯æ•™è‚²è¡Œä¸šè£å‘˜çš„ï¼Œæ•´ä½“è¡Œæƒ…å¹¶ä¸æ˜¯å¾ˆå¥½ã€‚äºæ˜¯ä¼‘æ¯å¤Ÿäº†ä¹‹åï¼Œå°±å¼€å§‹äº†ç³»ç»Ÿçš„å¤ä¹ ã€‚æ¥åŒ—äº¬å‰å¤ä¹ è¿‡ä¸€æ¬¡ï¼Œä½†éƒ½æ˜¯ç²—ç•¥çš„è¿‡ä¸€éçŸ¥è¯†ç‚¹ï¼Œå¹¶æ²¡æœ‰å®Œæ•´çš„å¤ä¹ ã€‚è¿™æ¬¡å¤ä¹ æˆ‘åˆ—å¥½éœ€è¦å¤ä¹ çš„ä¸€äº›çŸ¥è¯†ç‚¹ã€é¢è¯•å¸¸é—®çš„é¢è¯•é¢˜ã€å¼€å§‹çœ‹ä¸€äº›æºç ï¼Œå¤ä¹ çš„åŒæ—¶å¹¶è®°å½•ä¸‹ç¬”è®°ï¼Œç•™ä¸‹äº†è¿™ç¯‡<a href="https://juejin.cn/post/7000669234208440356">2021å‰ç«¯é¢è¯•å¤ä¹ </a>ï¼Œè¿™ä¹Ÿæ˜¯ä»Šå¹´å‘å¸ƒçš„ç¬¬ä¸€ç¯‡æ–‡ç« ã€‚ä¸€ä¸ªæœˆå¤ä¹ åï¼Œ9æœˆä»½å¼€å§‹é™†é™†ç»­ç»­æŠ•ç®€å†çº¦é¢è¯•ã€‚å‡ ä¹ä¿æŒä¸€å¤©ä¸¤å®¶çš„è¯„ç‡ï¼Œå¤§æ¦‚æŒç»­äº†ä¸¤å‘¨ï¼Œé¢äº†åå®¶å·¦å³ã€‚å°å…¬å¸å‡ ä¹ä¸€é¢ä¸€ä¸ªå‡†ï¼Œç¨å¾®å¤§ä¸€ç‚¹çš„å…¬å¸ä¸€é¢äºŒé¢éƒ½ä¼šé€šè¿‡ï¼Œä½†æ˜¯ç»å¸¸ä¼šå¡åœ¨ä¸‰é¢æˆ–è€…æ˜¯ç®—æ³•é¢˜ã€‚æˆ‘æ˜¯å®Œå…¨æ²¡æœ‰ç®—æ³•åŸºç¡€çš„ï¼Œé¢è¯•ä¸€é—®ç®—æ³•é¢˜æˆ‘å°±æ…Œï¼Œè®°å¾—æœ‰ä¸€å®¶é—®æ–æ³¢é‚£å¥‘æ•°åˆ—ç¬¬næ±‚å’Œçš„é—®é¢˜ï¼Œæƒ³åŠå¤©éƒ½æ²¡æœ‰å›ç­”ä¸Šæ¥ã€‚åæ¥é¢äº†ä¸€äº›ä¸­å‚åï¼Œè¢«é¢è¯•å®˜å…¨ç¨‹ç¢¾å‹ã€‚å¤‡å—æ‰“å‡»ä¹‹åé€‰æ‹©é€ƒé¿ï¼Œå¼€å§‹æµ‘æµ‘å™©å™©çš„è¿‡æ—¥å­ï¼Œæ¯å¤©æ²‰è¿·æ¸¸æˆç”µå½±ã€‚</p><p>ç›´åˆ°æ‰‹ä¸Šç§¯è“„èŠ±å…‰ä¹‹åï¼Œå¼€å§‹ç€æ€¥æ‰¾å·¥ä½œäº†æœ‰å±æœºæ„Ÿäº†ï¼Œé‚£ä¼šå·²ç»æ¥åˆ°åæœˆã€‚é‚£ä¼šçš„ç°çŠ¶æ˜¯å°å…¬å¸ä¸æƒ³å»ï¼Œå¤§ä¸€ç‚¹çš„å…¬å¸è¦ä¹ˆä½ç½®å¤ªè¿œè¦ä¹ˆä¸æƒ³å»ã€‚è¿›è¿‡ä¸€é¡¿ç­›é€‰åï¼Œé€‰æ‹©å…¥èŒä¸€å®¶Cè½®èèµ„2äº¿çš„åŒ»ç–—å…¬å¸ã€‚è¿™å®¶å…¬å¸ä¸»è¦ç»™åŒ»é™¢å†™åå°ç®¡ç†ç³»ç»Ÿï¼Œæ²¡æœ‰å‰ç«¯ï¼Œåå°å¤§éƒ¨åˆ†éƒ½æ˜¯å…¨æ ˆã€‚åæœˆä¸­æ—¬å…¥èŒåï¼Œä¸Šåˆç­¾ç½²äº†ä¸€å¤§å †å„ç§åè®®ï¼Œä¸‹åˆå¼€å§‹æ¥è§¦å…¬å¸ä¸šåŠ¡ä»£ç ã€‚é—²çš„æ— èŠçœ‹äº†ä¸€ä¸‹å…¬å¸å¤§ç¾¤èŠå¤©æ¶ˆæ¯ï¼Œçªç„¶å‘ç°è¿™å®¶å…¬å¸ç°åœ¨æœ‰ç»æµå±æœºï¼Œä¸¤ä¸ªæœˆå‰çš„å·¥èµ„è¿˜æ²¡å‘ã€‚æˆ‘æ„è¯†åˆ°ä¸å¯¹åŠ²ï¼Œç›´æ¥æ‰¾åˆ°hrè¯´è‡ªå·±ä¸åˆé€‚ï¼Œhrå¾ˆæ˜¯ä¸è§£ï¼Œå…¥èŒæµç¨‹èµ°çš„å¥½å¥½çš„ï¼Œæ€ä¹ˆå°±ä¸åˆé€‚å‘¢ã€‚äºæ˜¯è®©æˆ‘é¢†å¯¼å’Œæˆ‘è°ˆè°ˆï¼Œé¢†å¯¼ä»–ä¹Ÿæ˜¯ä¸ªçˆ½å¿«äººï¼Œå°±ç›´æ¥è¯´å…¬å¸ç›®å‰èµ„é‡‘æµè½¬ä¸å¼€ï¼Œç¡®å®å‘ç”Ÿäº†æ‹–æ¬ å·¥èµ„ï¼Œä½†è¿‘æœŸä¼šæœ‰å¥½è½¬ï¼Œå·²ç»æ‰¾åˆ°æ–°çš„æŠ•èµ„äººï¼ˆé¬¼çŸ¥é“å“¦ï¼‰ã€‚æˆ‘äºŒè¯æ²¡è¯´ï¼Œæµç¨‹éƒ½ä¸ç”¨èµ°äº†ï¼Œç›´æ¥è·‘è·¯ã€‚æ‰€ä»¥å¤§å®¶ä»¥ååœ¨æ‰¾å·¥ä½œæ—¶ï¼Œå‘ç°å…¬å¸ä¸å¯¹åŠ²èµ¶ç´§è·‘ã€‚</p><h3 id="ç°çŠ¶"><a class="markdownIt-Anchor" href="#ç°çŠ¶"></a> ğŸŸç°çŠ¶</h3><p>ä»åŒ»ç–—å…¬å¸ç¦»èŒåï¼ŒåˆæŠ•äº†ä¸€æ®µæ—¶é—´ç®€å†ï¼Œåæœˆåº•çš„æ—¶å€™å…¥èŒäº†ç°åœ¨å…¬å¸ã€‚æ²¡æœ‰ä¹‹å‰çš„èµ„é‡‘é—®é¢˜ï¼Œå‡ºæ‰‹ä¹Ÿå¾ˆå¤§æ–¹ï¼Œä¹Ÿæ²¡æœ‰å¤ªå¤šçš„å¥—è·¯ã€‚å…¬å¸ä¸»è¦åšå¯è§†åŒ–æ–¹é¢ï¼Œæ™ºæ…§å›­åŒºã€æ™ºæ…§åŸå¸‚ã€3Då¯è§†åŒ–ç­‰ï¼Œè¿™äº›éƒ½å’Œæˆ‘æ²¡å…³ã€‚æˆ‘æ‰€åœ¨çš„æ˜¯2Då¯è§†åŒ–ï¼Œç”¨GoJsè¯æµç¨‹å›¾çš„ã€‚å…¶å®å…¬å¸è¿˜å¥½ï¼Œè®©æˆ‘å¾ˆä¸çˆ½çš„ä¸€ç‚¹å°±æ˜¯éœ€è¦é©»åœºå¼€å‘ã€‚è¿‘æœŸå°±è¢«æ´¾åˆ°æŸä¿¡é“¶è¡Œç°åœºå¼€å‘ï¼ˆä¸å°±æ˜¯å¤–åŒ…å˜›ï¼‰ã€‚åœ¨å®¢æˆ·ç°åœºå¼€å‘å°±æ²¡æœ‰å…¬å¸æœ¬éƒ¨é‚£ä¹ˆèˆ’æœï¼Œæ²¡æœ‰å¤–ç½‘ï¼ˆæœ€ä¸çˆ½çš„ä¸€ç‚¹ï¼‰ï¼Œåªèƒ½ç”¨é“¶è¡Œçš„åƒåœ¾ç”µè„‘ç­‰ã€‚ä½†æ€»ä½“å¥½ï¼Œæ²¡å•¥å¼€å‘ä»»åŠ¡ï¼Œæœ‰å¾ˆå¤šå­¦ï¼ˆæ‘¸ï¼‰ä¹ ï¼ˆé±¼ï¼‰æ—¶é—´ï¼Œä¹Ÿä¸éœ€è¦æ€ä¹ˆåŠ ç­ï¼Œäº”ç‚¹åŠå·¦å³æˆ‘å°±è·‘äº†ã€‚</p><p>å¯¹äºç°çŠ¶æˆ‘å¹¶ä¸æ»¡æ„ï¼Œä¸å–œæ¬¢å…¬å¸å›¢é˜Ÿæ°›å›´ã€æŠ€æœ¯æ°›å›´ä¹Ÿä¸å¥½ï¼Œæ²¡æœ‰ä»€ä¹ˆè¿›æ­¥ç©ºé—´ï¼Œæ¯å¤©éƒ½æ˜¯ä¸ºäº†å·¥ä½œè€Œå·¥ä½œã€‚ä½†ä¸å¾—ä¸å‘ç”Ÿæ´»ä½å¤´å±ˆæœï¼Œä¸ºäº†ğŸ’°è¿˜æ˜¯è¦æ¥ç€å¹²ã€‚ä¸è¿‡å¯ä»¥é€šè¿‡è¿™ä»½å·¥ä½œå¤šä½™çš„æ—¶é—´ï¼Œé™ä¸‹å¿ƒæ¥åˆ·é¢˜ã€å†™æŠ€æœ¯æ–‡æ¡£ã€å­¦ä¹ æ–°çš„æŠ€æœ¯ã€åšå¼€æºé¡¹ç›®ç­‰ç­‰äº‹æƒ…ã€‚æ—¢èƒ½èµšé’±ï¼Œåˆæœ‰æ—¶é—´åšè‡ªå·±çš„äº‹æƒ…ï¼Œä½•ä¹ä¸ä¸ºã€‚</p><h2 id="ä¸ªäººæŠ€æœ¯"><a class="markdownIt-Anchor" href="#ä¸ªäººæŠ€æœ¯"></a> ä¸ªäººæŠ€æœ¯</h2><p>æŠ€æœ¯æ–¹é¢ï¼Œé™¤äº†åœ¨æŸèŠ±æ—¶å€™ç”¨è¿‡ä¸€æ®µæ—¶é—´reactï¼Œå…¶ä»–çš„æŠ€æœ¯æ ˆè¿˜æ˜¯å’Œä¹‹å‰å·¥ä½œä¸€æ ·ï¼Œä½†æ˜¯è¿™ä¸€å¹´çš„æ›´å¤šæ˜¯æ”¶è·äº†å‡ºæŠ€æœ¯æ ˆä»¥å¤–çš„ä¸œè¥¿ã€‚ä»¥å‰åœ¨å°å…¬å¸ä¸€ä¸ªäººå¼€å‘ç®¡ç†é¡¹ç›®çš„æ—¶å€™ï¼Œè§‰å¾—è‡ªå·±å·²ç»å¾ˆå‰å®³äº†ï¼Œä¸ç®¡æ˜¯æŠ€æœ¯è¿˜æ˜¯é¡¹ç›®ç®¡ç†æ–¹é¢ã€‚ç›´åˆ°æ¥åˆ°åŒ—äº¬åï¼Œå‘ç°è‡ªå·±æ‰æ˜¯å°ä¸‘ã€‚è¿™é‡Œå¾ˆæ„Ÿè°¢èƒ½å¤Ÿæœ‰åœ¨æŸèŠ±çš„å·¥ä½œç»å†ï¼Œé‚£æ®µç»å†è®©æˆ‘æ‰“å¼€äº†è§†é‡ï¼Œè®©æˆ‘è§‰å¾—è‡ªå·±è¿˜å¾ˆæ¸ºå°ï¼Œè‡ªå·±è¿˜æ˜¯å¾ˆå¼±ï¼Œéœ€è¦ä¿æŒå­¦ä¹ ä¸æ–­è¿›æ­¥ã€‚<br />/minad</p><h2 id="ç”Ÿæ´»æ„Ÿæƒ…"><a class="markdownIt-Anchor" href="#ç”Ÿæ´»æ„Ÿæƒ…"></a> ç”Ÿæ´»æ„Ÿæƒ…</h2><p>ç”Ÿæ´»ä¸Šä¹Ÿæ˜¯å¤„å¤„ç¢°å£ï¼Œè¿‡å¹´çš„æ—¶å€™çˆ¶äº²ä½é™¢åŠ¨æ‰‹æœ¯ï¼Œæˆ‘åªå¥½æå‰å›å®¶ï¼ˆå›å®¶ç¬¬ä¸€å¤©å°±æŠ¥åºŸä¸€æ¡è½¦èƒå’Œè½®æ¯‚ğŸ¥²ï¼‰ã€‚3æœˆä»½ç¦»èŒçš„æ—¶å€™ï¼Œè¿˜æ²¡æœ‰åˆ°åŸå®šçš„ç¦»èŒæ—¥æœŸæˆ‘ä¾¿è¿å¤œé£å›å®¶ï¼Œçˆ¶äº²æ„å¤–å—ä¼¤ï¼Œä»å¿åŒ»é™¢è½¬åˆ°æ­¦æ±‰äººæ°‘åŒ»é™¢ï¼Œç›´åˆ°å…«ä¹æœˆä»½æ‰æ…¢æ…¢æ¢å¤ã€‚å¥³æœ‹å‹ä¹Ÿåœ¨å¤å¤©çš„æ—¶å€™å¤§ç—…ä¸€åœºï¼Œæœ¬ä»¥ä¸ºå¹´åº•ä¼šå¹³é™ä¸€äº›ï¼Œè°æƒ³æœ€è¿‘å§å§ä¹Ÿå› ç—…ä½é™¢ï¼Œå‰å¤©åˆšåšå®Œæ‰‹æœ¯ã€‚å®¶åº­å…³ç³»ä¹Ÿå¾ˆç´§å¼ ï¼Œçˆ¶æ¯ä¸åœçš„åµæ¶ç”šè‡³åˆ°äº†åˆ†å±…çš„åœ°æ­¥ã€‚</p><p>ä½†è¿˜å¥½ï¼Œè¿™ä¸€åˆ‡ä¸€åˆ‡éƒ½æ²¡æœ‰å‹å®æˆ‘ï¼Œå› ä¸ºæˆ‘é‡åˆ°äº†æˆ‘ç”Ÿå‘½ä¸­çš„å¥¹ï¼Œæœ€åˆæ¥åŒ—äº¬çš„ç›®çš„ä¹Ÿæ˜¯ä¸ºäº†èƒ½å¤Ÿå’Œå¥¹åœ¨ä¸€èµ·ã€‚æ¥åŒ—äº¬åä¹Ÿæ˜¯å¥¹ä¸€ç›´åœ¨ç…§é¡¾æˆ‘ï¼Œæ‰¾å·¥ä½œå¸®æˆ‘å‡ºè°‹åˆ’ç­–ã€é™ªæˆ‘æ‰¾æˆ¿å­ã€åœ¨æˆ‘æœ‰å›°éš¾çš„æ—¶å€™å‡ºç°åœ¨æˆ‘èº«è¾¹ã€‚è€Œæˆ‘ä¹Ÿåœ¨ä¸ºæ»¡è¶³å¥¹åšä¸€æ¡å’¸é±¼çš„ç†æƒ³åœ¨ä¸æ–­çš„åŠªåŠ›ã€‚</p><p><strong>æˆ‘ä¿©çš„å¤‡æ³¨ï¼Œæ‡‚çš„åŒå­¦å¯ä»¥è¯„è®ºåŒºç•™è¨€ğŸ˜</strong><br /><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c171820a38684a4caf9117157cedf71e~tplv-k3u1fbpfcp-watermark.image?" alt="1051638887323_.pic.jpg" /></p><p>æˆ‘å§ä»Šå¹´è¿™ä¸€åˆ‡çš„ä¸é¡ºï¼Œéƒ½å½’ç½ªäºæˆ‘ä»Šå¹´æœ¬å‘½å¹´ï¼ˆè™½ç„¶æˆ‘ä¸ä¿¡è¿™ä¸ªï¼‰ï¼Œæˆ‘ç›¸ä¿¡ä¸€åˆ‡éƒ½ä¼šè¿‡å»çš„ï¼Œç°åœ¨æ‰€æœ‰çš„é—®é¢˜éƒ½ä¼šæœ‰ç»“æœï¼Œ<strong>æˆ‘å¯¹æˆ‘æœªæ¥çš„ç”Ÿæ´»å……æ»¡äº†å¸Œæœ›</strong>ã€‚</p><p>æ€»ç»“ä¸€ä¸‹</p><h2 id="flag"><a class="markdownIt-Anchor" href="#flag"></a> flag</h2><p>ä»Šå¹´åœ¨æŠ€æœ¯æ–¹é¢æ”¶è·ç”šå°‘ï¼Œä¹Ÿæ²¡æœ‰åšçŸ¥è¯†è¾“å‡ºï¼Œè¿‘æœŸå·²ç»åšå¥½äº†è§„åˆ’ï¼Œè¿æ¥æ˜å¹´çš„é‡‘ä¸‰é“¶å››</p><ul><li>[ ] <strong>å¤šè¾“å‡ºæŠ€æœ¯æ–‡ç« </strong></li><li>[ ] <strong>LeetCodeä¸èƒ½åœ</strong></li><li>[ ] <strong>Vue3å…¨å®¶æ¡¶å­¦ä¹ </strong></li><li>[ ] <strong>æºç çš„å­¦ä¹ è¿˜æ˜¯éœ€è¦ç»§ç»­</strong></li><li>[ ] <strong>nodeå­¦ä¹ ï¼ˆè¿‘æœŸåœ¨è§„åˆ’å·²ç»åœ¨è§„åˆ’ç”¨node koa expressåšä¸€å¥—ä¸œè¥¿ï¼‰</strong></li><li>[ ] <strong><a href="https://juejin.cn/post/7007077511779581982">todoListé¡¹ç›®è¦å®Œæˆ</a></strong></li><li>[ ] <strong>ä¿æŒå¥åº· è¦æœ‰ä¸€ä¸ªå¥½èº«ä½“</strong></li><li>[ ] <strong>è¦å¤šä¸‹å¨ï¼Œæ¯•ç«Ÿå¤–å–ä¸å¥åº·</strong></li><li>[ ] <strong>æ¢ä¸€å®¶å–œæ¬¢çš„å…¬å¸</strong></li><li>[ ] <strong>å¤šçœ‹ä¹¦ï¼Œä¸ç®¡æ˜¯æŠ€æœ¯ä¹¦è¿˜æ˜¯å…¶ä»–çš„</strong></li><li>[ ] <strong>å¸¦å®¶äººå‡ºå»æ—…æ¸¸ä¸€æ¬¡æ•£æ•£å¿ƒ</strong></li><li>[ ] <strong>ç­”åº”å¥¹æ˜å¹´å¸¦å¥¹å»çœ‹å—äº¬çš„æ¢§æ¡</strong></li><li>[ ] <strong>è¦æœ‰å­˜æ¬¾ æœ‰é’±æ‰æœ‰åº•æ°”</strong></li><li>[ ] <strong>å¤šå’Œå®¶äººè”ç³»</strong></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;2021å½“ç¨‹åºå‘˜ç¢°åˆ°æœ¬å‘½å¹´&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#2021å½“ç¨‹åºå‘˜ç¢°åˆ°æœ¬å‘½å¹´&quot;&gt;&lt;/a&gt; 2021å½“ç¨‹åºå‘˜ç¢°åˆ°æœ¬å‘½å¹´â€¦&lt;/h1&gt;
&lt;p&gt;&lt;img src=&quot;https://p6-juejin.byteimg.co</summary>
      
    
    
    <content src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ec96d155e57f4d889baf7a8dc40a8771~tplv-k3u1fbpfcp-zoom-crop-mark:1512:1512:1512:851.awebp?" type="image"/>
    
    
    <category term="æ€»ç»“" scheme="https://wakaka378.github.io/categories/%E6%80%BB%E7%BB%93/"/>
    
    
    <category term="æ€»ç»“" scheme="https://wakaka378.github.io/tags/%E6%80%BB%E7%BB%93/"/>
    
  </entry>
  
  <entry>
    <title>2021å‰ç«¯é¢è¯•å¤ä¹ </title>
    <link href="https://wakaka378.github.io/fd8759a87419.html"/>
    <id>https://wakaka378.github.io/fd8759a87419.html</id>
    <published>2021-08-26T13:10:52.000Z</published>
    <updated>2023-06-14T13:13:09.231Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6d56cc46a99b4f7d9f114171e9738058~tplv-k3u1fbpfcp-zoom-crop-mark:1512:1512:1512:851.awebp" alt="" /></p><p>ä¸€ä¸ªåœ¨æ•™è‚²è¡Œä¸šè‹¦å¹²ä¸¤å¹´çš„å‰ç«¯èœé¸Ÿï¼Œç¦»èŒåå°±åœ¨å‡†å¤‡å¤ä¹ é¢è¯•ï¼Œè®°å½•ä¸€ä¸‹è¿™æ¬¡å‰ç«¯å¤ä¹ è¿‡ç¨‹ã€‚å‰ç«¯çŸ¥è¯†æ˜¯åœ¨æ˜¯å¤ªå¤šï¼ŒæŒç»­æ›´æ–°ä¸­â€¦ å¸Œæœ›å¯¹çœŸæ­£æ‰¾å·¥ä½œçš„ä½ æœ‰æ‰€å¸®åŠ©ï¼Œæ–‡æœ«æˆ‘æ•´ç†äº†ä¸€ä¸‹é¢è¯•æ–‡ç« ï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥çœ‹çœ‹ï¼Œå°¤å…¶æ˜¯<strong>2021é«˜é¢‘å‰ç«¯é¢è¯•é¢˜æ±‡æ€»</strong>ç³»åˆ—ï¼Œå¸®åŠ©å¾ˆå¤§ã€‚æ–‡ç« æœ‰æ‰€ä¸è¶³çš„åœ°æ–¹è¿˜æŒ‡æ˜ã€‚</p><h2 id="html5-css3"><a class="markdownIt-Anchor" href="#html5-css3"></a> HTML5ã€CSS3</h2><h3 id="html5"><a class="markdownIt-Anchor" href="#html5"></a> HTML5</h3><h4 id="html5æ–°å¢ç‰¹æ€§"><a class="markdownIt-Anchor" href="#html5æ–°å¢ç‰¹æ€§"></a> HTML5æ–°å¢ç‰¹æ€§</h4><ul><li><p>è¯­ä¹‰åŒ–æ ‡ç­¾ï¼š<code>header</code>ã€<code>nav</code>ã€<code>footer</code>ã€<code>section...</code></p></li><li><p>åª’ä½“æ ‡ç­¾ï¼š<code>audio</code>éŸ³é¢‘ã€<code>videoè§†é¢‘</code></p></li><li><p>è¡¨å•ç±»å‹å±æ€§ï¼š<code>email</code>ã€<code>number</code>ã€<code>æ—¶é—´æ§ä»¶</code>ã€<code>coloré¢œè‰²æ‹¾å–å™¨</code>ã€<code>placeholder</code>ã€<code>autofocusè‡ªåŠ¨è·å–ç„¦ç‚¹...</code></p></li><li><p>cavasç»˜å›¾</p></li><li><p>webå­˜å‚¨ï¼š<code>localStorage</code>ã€<code>sessionStorage</code></p></li></ul><h4 id="è¡Œå†…å…ƒç´ -å—çº§å…ƒç´ æœ‰å“ªäº›"><a class="markdownIt-Anchor" href="#è¡Œå†…å…ƒç´ -å—çº§å…ƒç´ æœ‰å“ªäº›"></a> è¡Œå†…å…ƒç´ ã€å—çº§å…ƒç´ æœ‰å“ªäº›</h4><p>è¡Œå†…å…ƒç´ ï¼š<code>a</code>ã€<code>span</code>ã€<code>img</code>ã€<code>input...</code></p><p>å—çº§å…ƒç´ ï¼š<code>div</code>ã€<code>ul</code>ã€<code>li</code>ã€<code>ol</code>ã€<code>dt</code>ã€<code>dh</code>ã€<code>li</code>ã€<code>p</code>ã€<code>h1-6</code></p><h4 id="iframeçš„ä¼˜ç¼ºç‚¹"><a class="markdownIt-Anchor" href="#iframeçš„ä¼˜ç¼ºç‚¹"></a> iframeçš„ä¼˜ç¼ºç‚¹</h4><p><strong>ä¼˜ç‚¹</strong>ï¼š</p><ul><li>åŸå°ä¸åŠ¨çš„å§åµŒå…¥ç½‘é¡µå±•ç¤ºå‡ºæ¥</li><li>å¢åŠ ä»£ç çš„å¯é‡ç”¨</li><li>ç”¨æ¥åŠ è½½é€Ÿåº¦è¾ƒæ…¢çš„å†…å®¹</li></ul><p><strong>ç¼ºç‚¹</strong>ï¼š</p><ul><li>iframeé˜»å¡onloadäº‹ä»¶åŠ è½½</li><li>ç½‘é¡µå†…å®¹æ— æ³•è¢«æœç´¢å¼•æ“è¯†åˆ«ï¼Œå¯¹SEOä¸å‹å¥½</li><li>ä¼šäº§ç”Ÿå¾ˆå¤šé¡µé¢ï¼Œä¸åˆ©äºç®¡ç†</li></ul><h4 id="canvaså’Œsvgçš„åŒºåˆ«"><a class="markdownIt-Anchor" href="#canvaså’Œsvgçš„åŒºåˆ«"></a> canvaså’ŒSVGçš„åŒºåˆ«</h4><p><strong>canvas</strong>ï¼šé€šè¿‡javaScriptæ¥ç»˜åˆ¶2Då›¾å½¢ï¼Œæ˜¯é€åƒç´ è¿›è¡Œæ¸²æŸ“</p><ul><li>ä¾èµ–åˆ†è¾¨ç‡</li><li>ä¸æ”¯æŒäº‹ä»¶å¤„ç†</li><li>èƒ½å¤Ÿä»¥.pngæˆ–.jpgçš„æ ¼å¼è¿›è¡Œä¿å­˜</li><li>é€‚åˆåšæ¸¸æˆ</li></ul><p><strong>SVG</strong>ï¼šåŸºäºXMLæè¿°çš„2Då›¾å½¢è¯­è¨€ï¼Œæ˜¯çŸ¢é‡å›¾</p><ul><li>ä¸ä¾èµ–åˆ†è¾¨ç‡</li><li>æ”¯æŒäº‹ä»¶å¤„ç†</li><li>é€‚åˆåšå¤§å‹åŒºåŸŸæ¸²æŸ“</li></ul><h4 id="å›æµé‡ç»˜"><a class="markdownIt-Anchor" href="#å›æµé‡ç»˜"></a> å›æµé‡ç»˜</h4><p><strong>å›æµ</strong>å½“DOMå˜åŒ–å½±å“äº†å…ƒç´ ï¼Œæ¯”å¦‚å…ƒç´ çš„å°ºå¯¸ã€å¸ƒå±€ã€æ˜¾ç¤ºéšè—ç­‰æ”¹å˜äº†ï¼Œéœ€è¦é‡å†™æ„å»ºã€‚æ¯ä¸ªé¡µé¢è‡³å°‘éœ€è¦ä¸€æ¬¡å›æµï¼Œå°±æ˜¯åœ¨é¡µé¢ç¬¬ä¸€æ¬¡åŠ è½½çš„æ—¶å€™ï¼Œè¿™ä¸ªæ—¶å€™ä¸€å®šä¼šå‘ç”Ÿå›æµã€‚</p><p><strong>é‡ç»˜</strong>å½“ä¸€ä¸ªå…ƒç´ çš„å¤–è§‚å‘ç”Ÿå˜åŒ–ï¼Œä½†æ˜¯æ²¡æœ‰æ”¹å˜å¸ƒå±€ï¼Œé‡æ–°æ¸²æŸ“å…ƒç´ çš„å¤–è§‚ã€‚æ¯”å¦‚<code>background-color</code>ã€<code>color</code></p><p><strong>å›æµå¿…å°†å¼•èµ·é‡ç»˜ï¼Œè€Œé‡ç»˜ä¸ä¸€å®šä¼šå¼•èµ·å›æµ</strong></p><p><strong>å¦‚ä½•é¿å…å›æµé‡ç»˜ï¼š</strong></p><ul><li>é¿å…ä½¿ç”¨<code>table</code>å¸ƒå±€</li><li>å°½å¯èƒ½åœ¨<code>DOM</code>æ ‘çš„æœ€æœ«ç«¯æ”¹å˜<code>class</code></li><li>é¿å…è®¾ç½®å¤šå±‚å†…è”æ ·å¼</li><li>å¼€å¯GPUåŠ é€Ÿ</li><li>å°†åŠ¨ç”»æ•ˆæœåº”ç”¨åˆ°<code>position</code>å±æ€§ä¸º<code>absolute</code>æˆ–è€…<code>fixed</code>çš„å…ƒç´ ä¸Š</li></ul><h4 id="srcå’Œhrefçš„åŒºåˆ«"><a class="markdownIt-Anchor" href="#srcå’Œhrefçš„åŒºåˆ«"></a> srcå’Œhrefçš„åŒºåˆ«</h4><p><strong>src</strong>srcæŒ‡å‘å¤–éƒ¨èµ„æºçš„ä½ç½®ï¼Œå°†æŒ‡å‘çš„å†…å®¹åµŒå…¥åˆ°æ–‡æ¡£ä¸­å½“å‰æ ‡ç­¾æ‰€åœ¨çš„ä½ç½®ï¼Œå¦‚jsè„šæœ¬ã€<code>img</code>å›¾ç‰‡ã€<code>iframe</code>ç­‰</p><p><strong>href</strong>ç”¨äºåœ¨å½“å‰æ–‡æ¡£å’Œå¼•ç”¨èµ„æºä¹‹é—´ç¡®ç«‹è”ç³»ï¼Œä¸€èˆ¬æ˜¯ç”¨åœ¨<code>link</code>ã€<code>a</code>ç­‰å…ƒç´ </p><h3 id="css3"><a class="markdownIt-Anchor" href="#css3"></a> CSS3</h3><h4 id="css3æ–°å¢ç‰¹æ€§"><a class="markdownIt-Anchor" href="#css3æ–°å¢ç‰¹æ€§"></a> CSS3æ–°å¢ç‰¹æ€§</h4><ul><li>æ–°å¢CSSé€‰æ‹©å™¨ã€ä¼ªç±»</li><li>ç‰¹æ•ˆï¼š<code>text-shadow</code>ã€<code>box-shadow</code></li><li>æ¸å˜ï¼š<code>gradient</code></li><li>æ—‹è½¬è¿‡åº¦ï¼š<code>transform</code>ã€<code>transtion</code></li><li>åŠ¨ç”»ï¼š<code>animation</code></li></ul><h4 id="ç›’æ¨¡å‹"><a class="markdownIt-Anchor" href="#ç›’æ¨¡å‹"></a> ç›’æ¨¡å‹</h4><p>ç›’æ¨¡å‹éƒ½æ˜¯æœ‰å››éƒ¨åˆ†ç»„æˆï¼š<code>content</code>ã€<code>padding</code>ã€<code>border</code>ã€<code>margin</code></p><p>æ ‡å‡†ç›’æ¨¡å‹å’ŒIEç›’æ¨¡å‹çš„åŒºåˆ«åœ¨äºè®¾ç½®<code>width</code>å’Œ<code>height</code>æ—¶ï¼Œå¯¹åº”çš„èŒƒå›´ä¸åŒ</p><ul><li><p>æ ‡å‡†ç›’æ¨¡å‹çš„<code>width</code>ã€<code>height</code>åªåŒ…å«äº†<code>content</code></p></li><li><p>IEç›’æ¨¡å‹çš„<code>width</code>ã€<code>height</code>åŒ…å«äº†<code>border</code>ã€<code>margin</code>ã€<code>padding</code></p></li></ul><p>é€šè¿‡ä¿®æ”¹å…ƒç´ çš„<code>box-sizing</code>å±æ€§æ¥æ”¹å˜å…ƒç´ çš„ç›’æ¨¡å‹</p><ul><li><code>box-sizeing: content-box</code>è¡¨ç¤ºæ ‡å‡†ç›’æ¨¡å‹ï¼ˆé»˜è®¤å€¼ï¼‰</li><li><code>box-sizeing: border-box</code>è¡¨ç¤ºIEç›’æ¨¡å‹ï¼ˆæ€ªå¼‚ç›’æ¨¡å‹)</li></ul><h4 id="trastionå’Œaniamtionçš„åŒºåˆ«"><a class="markdownIt-Anchor" href="#trastionå’Œaniamtionçš„åŒºåˆ«"></a> trastionå’Œaniamtionçš„åŒºåˆ«</h4><p><code>transtion</code>ï¼šå±äºè¿‡åº¦å±æ€§ï¼Œå¼ºè°ƒè¿‡åº¦ï¼Œéœ€è¦ä¸€ä¸ªäº‹ä»¶è¿›è¡Œè§¦å‘ï¼ˆå¦‚é¼ æ ‡è¿›å…¥ã€ç¦»å¼€ï¼‰ç±»ä¼¼<code>flash</code>çš„è¡¥é—´åŠ¨ç”»ï¼Œè®¾ç½®ä¸€ä¸ªå¼€å§‹å¸§å’Œç»“æŸå¸§</p><p><code>aniamtion</code>ï¼šå±äºåŠ¨ç”»å±æ€§ï¼Œå®ƒçš„å®ç°ä¸éœ€è¦è§¦å‘äº‹ä»¶ï¼Œè®¾å®šå¥½åå¯è‡ªåŠ¨æ‰§è¡Œï¼Œä¸”å¯ä»¥å¾ªç¯æ’­æ”¾ã€‚ä¹Ÿæ˜¯ç±»ä¼¼è¡¥é—´åŠ¨ç”»ï¼Œä½†æ˜¯å¯ä»¥è®¾ç½®å¤šä¸ªå…³é”®å¸§</p><h4 id="å…ƒç´ æ°´å¹³å‚ç›´å±…ä¸­"><a class="markdownIt-Anchor" href="#å…ƒç´ æ°´å¹³å‚ç›´å±…ä¸­"></a> å…ƒç´ æ°´å¹³å‚ç›´å±…ä¸­</h4><ul><li><p>ç»å¯¹å®šä½ï¼šå…ˆå°†å…ƒç´ çš„å·¦ä¸Šè§’é€šè¿‡<code>top:50%</code>å’Œ<code>left:50%</code>å®šä½åˆ°é¡µé¢çš„ä¸­å¿ƒï¼Œç„¶åå†é€šè¿‡<code>translate</code>æ¥è°ƒæ•´å…ƒç´ çš„ä¸­å¿ƒç‚¹åˆ°é¡µé¢çš„ä¸­å¿ƒã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.parent</span> &#123;    </span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">&#125; </span><br><span class="line"><span class="selector-class">.child</span> &#123;    </span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translate</span>(-<span class="number">50%</span>,-<span class="number">50%</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>ç»å¯¹å®šä½ï¼šè®¾ç½®å››ä¸ªæ–¹å‘çš„å€¼éƒ½ä¸º0ï¼Œå¹¶å°†<code>margin</code>è®¾ç½®ä¸º<code>auto</code>ï¼Œç”±äºå®½é«˜å›ºå®šï¼Œå› æ­¤å¯¹åº”æ–¹å‘å®ç°å¹³åˆ†ï¼Œå¯ä»¥å®ç°æ°´å¹³å’Œå‚ç›´æ–¹å‘ä¸Šçš„å±…ä¸­ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.parent</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="selector-class">.child</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">margin</span>: auto;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>ä½¿ç”¨<code>flex</code>å¼¹æ€§ç›’å­å¸ƒå±€ï¼Œé€šè¿‡<code>align-items:center</code>å’Œ<code>justify-content:center</code>è®¾ç½®å®¹å™¨çš„å‚ç›´å’Œæ°´å¹³æ–¹å‘ä¸Šä¸ºå±…ä¸­å¯¹é½ï¼Œç„¶åå®ƒçš„å­å…ƒç´ ä¹Ÿå¯ä»¥å®ç°å‚ç›´å’Œæ°´å¹³çš„å±…ä¸­ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.parent</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">justify-content</span>:center;</span><br><span class="line">    <span class="attribute">align-items</span>:center;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h4 id="p-em-remçš„åŒºåˆ«"><a class="markdownIt-Anchor" href="#p-em-remçš„åŒºåˆ«"></a> pã€emã€remçš„åŒºåˆ«</h4><ul><li><code>px</code> å›ºå®šåƒç´ å•ä½ï¼Œä¸èƒ½éšå…¶å®ƒå…ƒç´ çš„å˜åŒ–è€Œå˜åŒ–</li><li><code>em</code>æ˜¯ç›¸å¯¹äºçˆ¶å…ƒç´ çš„å•ä½ï¼Œä¼šéšç€çˆ¶å…ƒç´ å˜åŒ–è€Œå˜åŒ–</li><li><code>rem</code>æ˜¯ç›¸å¯¹äºæ ¹å…ƒç´ <code>html</code>ï¼Œå®ƒä¼šéšç€htmlå…ƒç´ å˜åŒ–è€Œå˜åŒ–</li></ul><p><code>rem</code>å¸¸ç”¨åœ¨ç§»åŠ¨ç«¯é¡¹ç›®ï¼Œè®¾ç½®æ ¹å…ƒç´ çš„<code>fong-size</code>ï¼Œå…¶å®ƒå…ƒç´ ä¼šéšç€æ ¹å…ƒç´ çš„å˜åŒ–è€Œå˜åŒ–ï¼Œä»è€Œè¾¾åˆ°ä¸åŒæ‰‹æœºå±å¹•çš„è‡ªé€‚åº”å¤§å°ã€‚é€šå¸¸ä¼šé…åˆ<code>postcss-pxtorem</code>æ’ä»¶è¿›è¡Œä½¿ç”¨</p><h4 id="å¦‚ä½•è§£å†³1pxé—®é¢˜"><a class="markdownIt-Anchor" href="#å¦‚ä½•è§£å†³1pxé—®é¢˜"></a> å¦‚ä½•è§£å†³1pxé—®é¢˜</h4><ul><li>ç›´æ¥å†™<code>0.5px</code></li><li>åˆ©ç”¨ä¼ªå…ƒç´ ï¼Œå…ˆæ”¾å¤§å†ç¼©å°</li><li>ä½¿ç”¨viewportç¼©æ”¾æ¥è§£å†³</li></ul><h4 id="ä»€ä¹ˆæ˜¯bfcå¸ƒå±€å¦‚ä½•åˆ›å»ºbfcå¸ƒå±€"><a class="markdownIt-Anchor" href="#ä»€ä¹ˆæ˜¯bfcå¸ƒå±€å¦‚ä½•åˆ›å»ºbfcå¸ƒå±€"></a> ä»€ä¹ˆæ˜¯BFCå¸ƒå±€ï¼Œå¦‚ä½•åˆ›å»ºBFCå¸ƒå±€ï¼Ÿ</h4><p>BFCå¸ƒå±€ä¸º<strong>å—æ ¼å¼åŒ–ä¸Šä¸‹æ–‡</strong>ï¼ˆBlock Formatting Contextï¼ŒBFCï¼‰ï¼Œ æ˜¯CSSå¸ƒå±€çš„ä¸€ä¸ªæ¦‚å¿µï¼Œé‡Œé¢çš„å…ƒç´ ä¸ä¼šå½±å“åˆ°å¤–é¢çš„å…ƒç´ ã€‚</p><p><strong>åˆ›å»ºBFC</strong>ï¼š</p><ul><li>å…ƒç´ è®¾ç½®æµ®åŠ¨ï¼š<code>float</code>æœ‰å€¼å¹¶ä¸ä¸ºç©º</li><li>å…ƒç´ è®¾ç½®ç»å¯¹å®šä½ï¼š<code> positionï¼ˆabsoluteã€fixedï¼‰</code></li><li><code>overfilow</code>å€¼ä¸ºï¼š<code>hidden</code>ã€<code>auto</code>ã€<code>scroll</code></li><li><code>display</code>å€¼ä¸ºï¼š<code>inline-block</code>ã€<code>table-cell</code>ã€<code>table-caption</code>ã€<code>flex</code>ç­‰</li></ul><p><strong>BFCä½œç”¨</strong>ï¼š</p><ul><li>è§£å†³<code>margin</code>é‡å é—®é¢˜ï¼šç”±äºBFCæ˜¯ä¸€ä¸ªç‹¬ç«‹çš„åŒºåŸŸï¼Œå†…éƒ¨å…ƒç´ å’Œå¤–éƒ¨å…ƒç´ äº’ä¸å½±å“ï¼Œå°†ä¸¤ä¸ªå…ƒç´ å˜ä¸ºBFCï¼Œå°±è§£å†³äº†marginé‡å é—®é¢˜</li><li>åˆ›å»ºè‡ªé€‚åº”ä¸¤æ å¸ƒå±€ï¼šå¯ä»¥ç”¨æ¥åˆ›å»ºè‡ªé€‚åº”ä¸¤æ å¸ƒå±€ï¼Œå·¦è¾¹å®½é«˜å›ºå®šï¼Œå³è¾¹å®½åº¦è‡ªé€‚åº”ã€‚</li><li>è§£å†³é«˜åº¦å¡Œé™·é—®é¢˜ï¼šåœ¨å­å…ƒç´ è®¾ç½®æµ®åŠ¨åï¼Œçˆ¶å…ƒç´ ä¼šå‘ç”Ÿé«˜åº¦çš„å¡Œé™·ï¼Œä¹Ÿå°±æ˜¯çˆ¶å…ƒç´ çš„é«˜åº¦ä¸º0è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œåªéœ€è¦å°†çˆ¶å…ƒç´ å˜æˆä¸€ä¸ªBFCã€‚</li></ul><h4 id="linkå’Œimportçš„åŒºåˆ«"><a class="markdownIt-Anchor" href="#linkå’Œimportçš„åŒºåˆ«"></a> linkå’Œ@importçš„åŒºåˆ«</h4><ul><li><code>link</code>æ˜¯HTMLæä¾›çš„æ ‡ç­¾ï¼Œä¸ä»…å¯ä»¥åŠ è½½<code>CSS</code>æ–‡ä»¶ï¼Œè¿˜å¯ä»¥å®šä¹‰<code>RSSã€rel</code>è¿æ¥å±æ€§ç­‰</li><li><code>@import</code>æ˜¯CSSæä¾›ç­‰è¯­æ³•è§„åˆ™ï¼Œåªæœ‰å¯¼å…¥æ ·å¼è¡¨å¸¦ä½œç”¨ã€‚</li><li><code>link</code>æ ‡ç­¾å¼•å…¥çš„CSSè¢«åŒæ—¶åŠ è½½ï¼Œè€Œ<code>@import</code>å¼•å…¥çš„CSSå°†åœ¨é¡µé¢<strong>åŠ è½½å®Œæ¯•</strong>åè¢«åŠ è½½</li><li><code>@import</code>æ˜¯CSS2.1æ‰æœ‰çš„è¯­æ³•ï¼Œå­˜åœ¨å…¼å®¹æ€§ï¼Œè€Œ<code>link</code>ä½œä¸ºHTMLæ ‡ç­¾ä¸å­˜åœ¨å…¼å®¹æ€§é—®é¢˜</li></ul><h4 id="cssé€‰æ‹©å™¨ä¼˜å…ˆçº§"><a class="markdownIt-Anchor" href="#cssé€‰æ‹©å™¨ä¼˜å…ˆçº§"></a> CSSé€‰æ‹©å™¨ä¼˜å…ˆçº§</h4><ul><li><code>@important</code></li><li>å†…è”æ ·å¼</li><li>IDé€‰æ‹©å™¨</li><li>ç±»é€‰æ‹©å™¨/å±æ€§é€‰æ‹©å™¨/ä¼ªç±»é€‰æ‹©å™¨</li><li>å…ƒç´ é€‰æ‹©å™¨/ä¼ªå…ƒç´ é€‰æ‹©å™¨</li><li>å…³ç³»é€‰æ‹©å™¨/é€šé…ç¬¦é€‰æ‹©å™¨</li></ul><h2 id="jsåŸºç¡€"><a class="markdownIt-Anchor" href="#jsåŸºç¡€"></a> JSåŸºç¡€</h2><h4 id="åŸºç¡€æ•°æ®ç±»å‹"><a class="markdownIt-Anchor" href="#åŸºç¡€æ•°æ®ç±»å‹"></a> åŸºç¡€æ•°æ®ç±»å‹</h4><p><code>string</code>ã€<code>number</code>ã€<code>boolean</code>ã€<code>object</code>ã€<code>function</code>ã€<code>undefined</code>ã€<code>null</code>ã€<code>symbol</code></p><p><code>null</code>å’Œ<code>undefined</code>çš„åŒºåˆ«ï¼š<code>null</code>è¡¨ç¤ºå¯¹æ˜¯ä¸€ä¸ªç©ºçš„å¯¹è±¡(object)ã€<code>undefined</code>æ˜¯ç”³æ˜äº†ä½†æ²¡èµ‹å€¼ï¼Œåœ¨ä½¿ç”¨<code>typeo</code>fæ£€æµ‹ç±»å‹æ—¶ï¼Œ<code>nul</code>lä¸º<code>object</code>ï¼Œ<code>undefined</code>ä¸º<code>undefined</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="literal">null</span> == <span class="literal">undefined</span> <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="literal">null</span> === <span class="literal">undefined</span> <span class="comment">//false</span></span><br></pre></td></tr></table></figure><p>å€¼ç±»å‹ï¼ˆåŸºæœ¬æ•°æ®ç±»å‹ï¼‰ï¼š<code>string</code>ã€<code>number</code>ã€<code>boolean</code>ã€<code>undefined</code>ã€<code>null</code>ã€<code>symbol</code></p><p>å¼•ç”¨ç±»å‹ï¼š<code>object</code>ã€<code>function</code>ã€<code>array</code></p><p>å€¼ç±»å‹å’Œå¼•ç”¨ç±»å‹åŒºåˆ«ï¼š</p><ul><li>å€¼ç±»å‹ä¿å­˜åœ¨<strong>æ ˆ</strong>ä¸­ï¼Œ<strong>å ç”¨ç©ºé—´å›ºå®š</strong>ï¼Œå½“ä¸€ä¸ªæ–¹æ³•æ‰§è¡Œæ—¶ï¼Œæ¯ä¸ªæ–¹æ³•éƒ½ä¼šåˆ›å»ºè‡ªå·±çš„å†…å­˜æ ˆï¼Œæ–¹æ³•ä¸­å®šä¹‰çš„å˜é‡ä¼šå­˜æ”¾åœ¨è¿™ä¸ªå†…å­˜æ ˆä¸­ã€‚å½“æ–¹æ³•æ‰§è¡Œç»“æŸæ—¶ï¼Œè¿™ä¸ªå†…å­˜æ ˆä¹Ÿä¼šè¢«é”€æ¯ã€‚æ‰€ä»¥ï¼Œæ ˆä¸­å­˜å‚¨çš„æ˜¯åŸºç¡€å˜é‡ã€‚è€Œå¼•ç”¨å˜é‡å­˜å‚¨åœ¨æ ˆä¸­æ˜¯æŒ‡å‘å †ä¸­çš„æ•°ç»„æˆ–å¯¹è±¡çš„å¼•ç”¨åœ°å€ã€‚è¿™ä¹Ÿå°±æ˜¯ä¸ºä½•ä¿®æ”¹å¼•ç”¨ç±»å‹æ€»ä¼šå½±å“åˆ°å…¶å®ƒæŒ‡å‘è¿™ä¸ªåœ°å€çš„å¼•ç”¨å˜é‡ã€‚</li><li>å€¼ç±»å‹å¯ä»¥ä½¿ç”¨<code>typeof</code>è¿›è¡Œæ•°æ®ç±»å‹æ£€æµ‹</li><li>å¼•ç”¨ç±»å‹ä¿å­˜åœ¨<strong>å †</strong>ä¸­ï¼Œ<strong>å ç”¨ç©ºé—´ä¸å›ºå®š</strong>ã€‚åˆ›å»ºå¯¹è±¡ä¼šä¿å­˜åˆ°å †å†…å­˜ä¸­ï¼Œè¿™ä¸ªå†…å­˜ä¸å›éšç€æ–¹æ³•ç»“æŸè€Œé”€æ¯ï¼Œå› ä¸ºè¿™ä¸ªå¯¹è±¡è¿˜å¯èƒ½è¢«å¦å¤–ä¸€ä¸ªå˜é‡æ‰€å¼•ç”¨ï¼Œåªæœ‰å½“ä¸€ä¸ªå¯¹è±¡æ²¡æœ‰è¢«ä»»ä½•å˜é‡å¼•ç”¨æ—¶ï¼Œç³»ç»Ÿçš„åƒåœ¾å›æ”¶æœºåˆ¶ä¼šå°†å®ƒå›æ”¶ã€‚</li><li>å¼•ç”¨ç±»å‹ä½¿ç”¨<code>instanceof</code>æ£€æµ‹æ•°æ®ç±»å‹</li><li>ä½¿ç”¨newï¼ˆï¼‰æ–¹æ³•æ„é€ å‡ºæ¥çš„å¯¹è±¡æ˜¯å¼•ç”¨ç±»å‹</li></ul><h4 id="é—­åŒ…"><a class="markdownIt-Anchor" href="#é—­åŒ…"></a> é—­åŒ…</h4><p>é—­åŒ…å°±æ˜¯èƒ½å¤Ÿè¯»å–åˆ°å…¶å®ƒå‡½æ•°å†…éƒ¨å˜é‡çš„å‡½æ•°ï¼Œåˆ›å»ºä¸€ä¸ªæœ€ç®€å•çš„é—­åŒ…ï¼Œå°±æ˜¯åœ¨ä¸€ä¸ªå‡½æ•°å†…éƒ¨åˆ›å»ºå¦å¤–ä¸€ä¸ªå‡½æ•°ï¼Œåˆ›å»ºçš„å‡½æ•°å¯ä»¥è®¿é—®åˆ°å½“å‰å‡½æ•°çš„å±€éƒ¨å˜é‡ã€‚åœ¨[[3-study/å‰ç«¯/æ‰‹å†™åŸºç¡€å‡½æ•°#èŠ‚æµé˜²æŠ–|èŠ‚æµé˜²æŠ–]] ä¸­å¹¿æ³›å¼•ç”¨</p><p><strong>é—­åŒ…ä¼˜ç‚¹ï¼š</strong></p><ul><li>åˆ›å»ºå…¨å±€ç§æœ‰å˜é‡ï¼Œé¿å…å˜é‡å…¨å±€æ±¡æŸ“</li><li>å¯ä»¥å®ç°å°è£…ã€ç¼“å­˜ç­‰</li></ul><p><strong>é—­åŒ…ç¼ºç‚¹ï¼š</strong></p><ul><li>åˆ›å»ºçš„å˜é‡ä¸èƒ½è¢«å›æ”¶ï¼Œå®¹æ˜“æ¶ˆè€—å†…å­˜ï¼Œä½¿ç”¨ä¸å½“ä¼šå¯¼è‡´å†…å­˜æº¢å‡º</li></ul><h4 id="å˜é‡æå‡-ä½œç”¨åŸŸ-ä½œç”¨åŸŸé“¾"><a class="markdownIt-Anchor" href="#å˜é‡æå‡-ä½œç”¨åŸŸ-ä½œç”¨åŸŸé“¾"></a> å˜é‡æå‡ã€ä½œç”¨åŸŸã€ä½œç”¨åŸŸé“¾</h4><h5 id="å˜é‡æå‡"><a class="markdownIt-Anchor" href="#å˜é‡æå‡"></a> å˜é‡æå‡</h5><p>jsä»£ç åœ¨è§£æçš„æ—¶å€™ï¼Œä¼šå°†æ‰€æœ‰çš„å˜é‡å‡½æ•°ï¼Œæå‡åˆ°ä»£ç çš„æœ€ä¸Šé¢ã€‚å˜é‡æå‡ï¼Œæå‡çš„åªæ˜¯å˜é‡ç”³æ˜ï¼Œå¹¶ä¸ä¼šå§å˜é‡èµ‹å€¼æå‡ä¸Šæ¥</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(i) <span class="comment">// 4</span></span><br><span class="line"><span class="keyword">var</span> i = <span class="number">4</span></span><br></pre></td></tr></table></figure><h5 id="ä½œç”¨åŸŸ"><a class="markdownIt-Anchor" href="#ä½œç”¨åŸŸ"></a> ä½œç”¨åŸŸ</h5><p>ä½œç”¨åŸŸæ˜¯ä¸€ä¸ªå˜é‡æˆ–å‡½æ•°çš„å¯è®¿é—®èŒƒå›´ï¼Œä½œç”¨åŸŸæ§åˆ¶ç€å˜é‡æˆ–å‡½æ•°çš„å¯è§æ€§å’Œç”Ÿå‘½å‘¨æœŸ</p><ol><li><p>å…¨å±€ä½œç”¨åŸŸï¼šå¯ä»¥å…¨å±€è®¿é—®</p><ul><li>æœ€å¤–å±‚å‡½æ•°å’Œæœ€å¤–å±‚å®šä¹‰çš„å˜é‡æ‹¥æœ‰å…¨å±€ä½œç”¨åŸŸ</li><li>windowä¸Šçš„å¯¹è±¡å±æ€§æ–¹æ³•æ‹¥æœ‰å…¨å±€ä½œç”¨åŸŸ</li><li>ä¸ºå®šä¹‰ç›´æ¥å¤åˆ¶çš„å˜é‡è‡ªåŠ¨ç”³æ˜æ‹¥æœ‰å…¨å±€ä½œç”¨åŸŸ</li><li>è¿‡å¤šçš„å…¨å±€ä½œç”¨åŸŸå˜é‡ä¼šå¯¼è‡´å˜é‡å…¨å±€æ±¡æŸ“ï¼Œå‘½åå†²çª</li></ul></li><li><p>å‡½æ•°ä½œç”¨åŸŸï¼šåªèƒ½åœ¨å‡½æ•°ä¸­è®¿é—®ä½¿ç”¨å“¦</p><ul><li>åœ¨å‡½æ•°ä¸­å®šä¹‰çš„å˜é‡ï¼Œéƒ½åªèƒ½åœ¨å†…éƒ¨ä½¿ç”¨ï¼Œå¤–éƒ¨æ— æ³•è®¿é—®</li><li>å†…å±‚ä½œç”¨åŸŸå¯ä»¥è®¿é—®å¤–å±‚ï¼Œå¤–å±‚ä¸èƒ½è®¿é—®å†…å­˜ä½œç”¨åŸŸ</li></ul></li><li><p>ES6ä¸­çš„å—çº§ä½œç”¨åŸŸï¼šåªåœ¨ä»£ç å—ä¸­è®¿é—®ä½¿ç”¨</p><ul><li><p>ä½¿ç”¨ES6ä¸­æ–°å¢çš„<code>let</code>ã€<code>const</code>ä»€ä¹ˆçš„å˜é‡ï¼Œå…·å¤‡å—çº§ä½œç”¨åŸŸï¼Œå—çº§ä½œç”¨åŸŸå¯ä»¥åœ¨å‡½æ•°ä¸­åˆ›å»ºï¼ˆç”±{}åŒ…è£¹çš„ä»£ç éƒ½æ˜¯å—çº§ä½œç”¨åŸŸï¼‰</p></li><li><p><code>let</code>ã€<code>const</code>ç”³æ˜çš„å˜é‡ä¸ä¼šå˜é‡æå‡ï¼Œ<code>const</code>ä¹Ÿä¸èƒ½é‡å¤ç”³æ˜</p></li><li><p>å—çº§ä½œç”¨åŸŸä¸»è¦ç”¨æ¥è§£å†³ç”±å˜é‡æå‡å¯¼è‡´çš„å˜é‡è¦†ç›–é—®é¢˜</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> i = <span class="number">3</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fnc</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(i);</span><br><span class="line">  <span class="keyword">var</span> i = <span class="number">6</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">fnc</span>() <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure></li></ul></li></ol><h5 id="ä½œç”¨åŸŸé“¾"><a class="markdownIt-Anchor" href="#ä½œç”¨åŸŸé“¾"></a> ä½œç”¨åŸŸé“¾</h5><p>å˜é‡åœ¨æŒ‡å®šçš„ä½œç”¨åŸŸä¸­æ²¡æœ‰æ‰¾åˆ°ï¼Œä¼šä¾æ¬¡å‘ä¸Šä¸€å±‚ä½œç”¨åŸŸè¿›è¡ŒæŸ¥æ‰¾ï¼Œç›´åˆ°å…¨å±€ä½œç”¨åŸŸã€‚è¿™ä¸ªæŸ¥æ‰¾çš„è¿‡ç¨‹è¢«ç§°ä¸ºä½œç”¨åŸŸé“¾ã€‚</p><h4 id="call-apply-bindåŒºåˆ«"><a class="markdownIt-Anchor" href="#call-apply-bindåŒºåˆ«"></a> callã€applyã€bindåŒºåˆ«</h4><ul><li>éƒ½å¯ä»¥ç”¨ä½œæ”¹å˜<code>this</code>æŒ‡å‘</li><li><code>call</code>å’Œ<code>apply</code>çš„åŒºåˆ«åœ¨äºä¼ å‚ï¼Œ<code>call</code>ã€<code>bind</code>éƒ½æ˜¯ä¼ å…¥å¯¹è±¡ã€‚<code>apply</code>ä¼ å…¥ä¸€ä¸ªæ•°ç»„ã€‚</li><li><code>call</code>ã€<code>apply</code>æ”¹å˜thisæŒ‡å‘åä¼šç«‹å³æ‰§è¡Œå‡½æ•°ï¼Œ<code>bind</code>åœ¨æ”¹å˜thisåè¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œä¸ä¼šç«‹å³æ‰§è¡Œå‡½æ•°ï¼Œéœ€è¦æ‰‹åŠ¨è°ƒç”¨ã€‚</li></ul><h4 id="newæ“ä½œç¬¦å¹²äº†ä»€ä¹ˆæ“ä½œ"><a class="markdownIt-Anchor" href="#newæ“ä½œç¬¦å¹²äº†ä»€ä¹ˆæ“ä½œ"></a> newæ“ä½œç¬¦å¹²äº†ä»€ä¹ˆæ“ä½œ</h4><ol><li><p>åˆ›å»ºä¸€ä¸ªç©ºå¯¹è±¡</p></li><li><p>è®¾ç½®åŸå‹ï¼Œå°†å¯¹è±¡çš„åŸå‹è®¾ç½®åˆ°å‡½æ•°çš„<code>prototype</code>å¯¹è±¡ä¸Š</p></li><li><p>æ”¹å˜thisæŒ‡å‘ï¼Œå°†thisæŒ‡å‘è¯¥å¯¹è±¡ï¼Œå¹¶æ‰§è¡Œæ„é€ å‡½æ•°ã€‚</p></li><li><p>åˆ¤æ–­å‡½æ•°çš„è¿”å›ç±»å‹ï¼Œå¦‚æœæ˜¯å€¼ç±»å‹ï¼Œè¿”å›åˆ›å»ºçš„å¯¹è±¡ã€‚å¦‚æœæ˜¯å¼•ç”¨ç±»å‹ï¼Œè¿”å›è¿™ä¸ªå¼•ç”¨ç±»å‹çš„å¯¹è±¡ã€‚</p></li></ol><h4 id="1-blogè®¾è®¡æ¨¡å¼jsè®¾è®¡æ¨¡å¼ä¸€é¢å‘å¯¹è±¡å°è£…åŸå‹å’ŒåŸå‹é“¾-åŸå‹å’ŒåŸå‹é“¾"><a class="markdownIt-Anchor" href="#1-blogè®¾è®¡æ¨¡å¼jsè®¾è®¡æ¨¡å¼ä¸€é¢å‘å¯¹è±¡å°è£…åŸå‹å’ŒåŸå‹é“¾-åŸå‹å’ŒåŸå‹é“¾"></a> [[â€¦/â€¦/1-blog/è®¾è®¡æ¨¡å¼/jsè®¾è®¡æ¨¡å¼(ä¸€)é¢å‘å¯¹è±¡â€”å°è£…#åŸå‹å’ŒåŸå‹é“¾ |åŸå‹å’ŒåŸå‹é“¾ ]]</h4><ul><li><p>åŸå‹: æ¯ä¸ªå¯¹è±¡åœ¨å†…éƒ¨åˆå§‹åŒ–çš„æ—¶å€™ï¼Œéƒ½ä¼šåˆå§‹åŒ–ä¸€ä¸ª<code>prototype</code>åŸå‹å±æ€§ ï¼Œè€Œå¯¹è±¡çš„ <code>_proto_</code>å±æ€§ï¼ŒæŒ‡å‘å®ƒçš„åŸå‹å¯¹è±¡ã€‚</p></li><li><p>åŸå‹é“¾: å½“æˆ‘ä»¬è®¿é—®è‹±å›½å¯¹è±¡å±æ€§æ—¶ï¼Œå¦‚æœè¿™ä¸ªå±æ€§ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆå°±ä¼šå»å®ƒçš„åŸå‹å¯¹è±¡ä¸Šè¿›è¡ŒæŸ¥æ‰¾ï¼Œè€Œè¿™ä¸ªåŸå‹å¯¹è±¡åˆä¼šæœ‰è‡ªå·±çš„åŸå‹ï¼Œä¼šè¿™æ ·ä¸€ç›´æŸ¥æ‰¾ï¼ŒçŸ¥é“æ‰¾åˆ°é¡¶çº§å¯¹è±¡objectä¸ºæ­¢ã€‚è¿™ä¸ªæŸ¥æ‰¾çš„è¿‡ç¨‹è¢«ç§°ä¸ºåŸå‹å¯¹è±¡ã€‚</p></li></ul><h4 id="ç»§æ‰¿"><a class="markdownIt-Anchor" href="#ç»§æ‰¿"></a> ç»§æ‰¿</h4><h5 id="åŸå‹é“¾ç»§æ‰¿"><a class="markdownIt-Anchor" href="#åŸå‹é“¾ç»§æ‰¿"></a> åŸå‹é“¾ç»§æ‰¿</h5><p>åˆ©ç”¨å¯¹è±¡çš„åŸå‹é“¾ï¼Œå°†å­ç±»<code>Son.prototype</code>æŒ‡å‘çˆ¶ç±»çš„æ„é€ å‡½æ•°åˆ›å»ºå‡ºæ¥çš„å®ä¾‹å¯¹è±¡<code>new Person()</code></p><p>ğŸŒ°</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Person</span>(<span class="params"></span>) &#123;</span><br><span class="line">  ...</span><br><span class="line">&#125;;</span><br><span class="line">  </span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Son</span>(<span class="params"></span>) &#123;</span><br><span class="line">  ....</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…³é”®ä»£ç </span></span><br><span class="line"><span class="title class_">Son</span>.<span class="property"><span class="keyword">prototype</span></span> = <span class="keyword">new</span> <span class="title class_">Person</span>();</span><br></pre></td></tr></table></figure><p><strong>ä¼˜ç‚¹ï¼š</strong></p><ul><li>å­ç±»å¯ä»¥ç»§æ‰¿çˆ¶ç±»æ„é€ å‡½æ•°ã€åŸå‹ä¸Šçš„å±æ€§æ–¹æ³•</li></ul><p><strong>ç¼ºç‚¹ï¼š</strong></p><ul><li>çˆ¶ç±»å¼•ç”¨ç±»å‹çš„å®ä¾‹å¯¹è±¡è¢«å…±äº«ï¼Œå®¹æ˜“é€ æˆä¿®æ”¹çš„æ··ä¹±ã€‚</li><li>åˆ›å»ºå­ç±»çš„æ—¶å€™ä¸èƒ½å‘çˆ¶ç±»ä¼ å‚</li></ul><h5 id="æ„é€ å‡½æ•°ç»§æ‰¿"><a class="markdownIt-Anchor" href="#æ„é€ å‡½æ•°ç»§æ‰¿"></a> æ„é€ å‡½æ•°ç»§æ‰¿</h5><p>åˆ©ç”¨<code>.call()</code>æˆ–è€…<code>.apply()</code>æ–¹æ³•ï¼Œåœ¨å­ç±»ä¸­å€Ÿç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°ï¼Œåˆå§‹åŒ–çˆ¶ç±»æ„é€ å‡½æ•°ã€‚</p><p>ğŸŒ°</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Person</span>(<span class="params">name</span>) &#123;</span><br><span class="line">  ...</span><br><span class="line">&#125;;</span><br><span class="line">  </span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Son</span>(<span class="params">name</span>) &#123;</span><br><span class="line"><span class="comment">// å…³é”®ä»£ç   </span></span><br><span class="line">  <span class="title class_">Person</span>.<span class="title function_">call</span>(<span class="variable language_">this</span>, name)</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>ä¼˜ç‚¹ï¼š</strong></p><ul><li>å­ç±»åœ¨ç»§æ‰¿çˆ¶ç±»æ—¶ï¼Œå¯ä»¥å‘çˆ¶ç±»æ„é€ å‡½æ•°ä¸­ä¼ å‚ã€‚</li><li>ä¸ä¼šé€ æˆå­ç±»åŠ¿åŠ›ä¹‹é—´å¼•ç”¨å±æ€§å…±äº«ã€‚</li></ul><p>ç¼ºç‚¹ï¼š</p><ul><li>åªèƒ½ç»§æ‰¿çˆ¶ç±»æ„é€ å‡½æ•°ä¸­çš„å±æ€§æ–¹æ³•ï¼Œæ— æ³•è®¿é—®åŸå‹ä¸Šçš„æ–¹æ³•ã€‚</li><li>æ¯ä¸ªå­ç±»éƒ½ä¼šåˆ›å»ºä¸€ä¸ªçˆ¶ç±»å‰¯æœ¬</li></ul><h5 id="ç»„åˆç»§æ‰¿"><a class="markdownIt-Anchor" href="#ç»„åˆç»§æ‰¿"></a> ç»„åˆç»§æ‰¿</h5><p>ç»„åˆç»§æ‰¿ï¼Œå°†åŸå‹é“¾ç»§æ‰¿å’Œæ„é€ å‡½æ•°ç»§æ‰¿èåˆåœ¨ä¸€èµ·ã€‚</p><p>ğŸŒ°</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Person</span>(<span class="params">name</span>) &#123;</span><br><span class="line">  ...</span><br><span class="line">&#125;;</span><br><span class="line">  </span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Son</span>(<span class="params">name</span>) &#123;</span><br><span class="line">  <span class="comment">// å€Ÿç”¨æ„é€ å‡½æ•°ç»§æ‰¿å…³é”®ä»£ç </span></span><br><span class="line"><span class="title class_">Person</span>.<span class="title function_">call</span>(<span class="variable language_">this</span>, name);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åŸå‹é“¾å¼ç»§æ‰¿å…³é”®ä»£ç </span></span><br><span class="line"><span class="title class_">Son</span>.<span class="property"><span class="keyword">prototype</span></span> = <span class="keyword">new</span> <span class="title class_">Person</span>();</span><br><span class="line"><span class="comment">// å°†å­ç±»çš„æ„é€ å‡½æ•°æŒ‡å‘è‡ªå·±</span></span><br><span class="line"><span class="title class_">Son</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">constructon</span> = <span class="title class_">Son</span>;</span><br></pre></td></tr></table></figure><p><strong>ä¼˜ç‚¹ï¼š</strong></p><ul><li>ç»“åˆå‰é¢ä¸¤ç§ç»§æ‰¿æ–¹å¼çš„ä¼˜ç‚¹ï¼Œå­ç±»çš„å®ä¾‹å¯ä»¥è®¿é—®åˆ°çˆ¶ç±»åŸå‹ä¸Šçš„å±æ€§æ–¹æ³•</li><li>å­ç±»çš„å®ä¾‹ä¹‹é—´ä¸ä¼šè¢«å…±äº«</li></ul><p><strong>ç¼ºç‚¹ï¼š</strong></p><ul><li>è°ƒç”¨äº†ä¸¤æ¬¡çˆ¶ç±»æ„é€ å‡½æ•°</li></ul><h5 id="åŸå‹å¼ç»§æ‰¿"><a class="markdownIt-Anchor" href="#åŸå‹å¼ç»§æ‰¿"></a> åŸå‹å¼ç»§æ‰¿</h5><p>ç”¨å‡½æ•°åŒ…è£…ä¸€ä¸ªå¯¹è±¡ï¼Œè¿”å›è¿™ä¸ªå‡½æ•°çš„è°ƒç”¨ï¼ˆä¹Ÿå°±æ˜¯ES5çš„Object.createçš„æ¨¡æ‹Ÿå®ç°ï¼‰ï¼Œå°†ä¼ å…¥çš„å¯¹è±¡ä½œä¸ºåˆ›å»ºå¯¹è±¡çš„åŸå‹</p><p>ğŸŒ°</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">create</span>(<span class="params">obj</span>) &#123;</span><br><span class="line">  <span class="comment">// åˆ›å»ºä¸€ä¸ªç©ºçš„çš„æ„é€ å‡½æ•°</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">F</span>(<span class="params"></span>) &#123;&#125;;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// å°†ç©ºçš„æ„é€ å‡½æ•°åŸå‹æŒ‡å‘ä¼ é€’è¿›æ¥çš„å¯¹è±¡</span></span><br><span class="line">  F.<span class="property"><span class="keyword">prototype</span></span> = obj;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// è¿”å›ä¸€ä¸ªå®ä¾‹å¯¹è±¡</span></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title function_">F</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;zs&#x27;</span>,</span><br><span class="line">  ...</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> newObj1 = <span class="title function_">create</span>(obj);</span><br><span class="line"><span class="keyword">const</span> newObj2 = <span class="title function_">create</span>(obj);</span><br></pre></td></tr></table></figure><p>ä¼˜ç¼ºç‚¹å’ŒåŸå‹é“¾å¼ç»§æ‰¿ä¸€æ ·ï¼Œå¼•ç”¨ç±»å‹è¿˜æ˜¯ä¼šè¢«å…±äº«ã€‚</p><h5 id="å¯„ç”Ÿå¼ç»§æ‰¿"><a class="markdownIt-Anchor" href="#å¯„ç”Ÿå¼ç»§æ‰¿"></a> å¯„ç”Ÿå¼ç»§æ‰¿</h5><p>åœ¨åŸå‹å¼ç»§æ‰¿åŸºç¡€ä¸Šï¼Œåœ¨å‡½æ•°å†…éƒ¨æ¥åšå¢å¼ºå‡½æ•°ï¼Œè¿”å›å¯¹è±¡ã€‚</p><p>ğŸŒ°</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">createObj</span>(<span class="params">obj</span>)&#123;</span><br><span class="line">  <span class="comment">// è·å–ç»§æ‰¿çš„å­ç±»å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯ä¸Šé¢çš„createæ–¹æ³•å®ç°</span></span><br><span class="line">  <span class="keyword">const</span> newObj = <span class="title class_">Object</span>.<span class="title function_">create</span>(obj);</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// å‡½æ•°å¢å¼º</span></span><br><span class="line">  newObj.<span class="property">say</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    ...</span><br><span class="line">  &#125;</span><br><span class="line">    </span><br><span class="line">  <span class="comment">// è¿”å›å¯¹è±¡</span></span><br><span class="line">  <span class="keyword">return</span> newObj;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç±»ä¼¼åŸå‹å¼ç»§æ‰¿ï¼Œä½†åœ¨åŸæœ‰çš„åŸºç¡€ä¸Šå¯ä»¥è‡ªå®šä¹‰å±æ€§æ–¹æ³•ï¼Œä¾æ—§æ²¡æœ‰è§£å†³å¼•ç”¨å€¼è¢«å…±äº«é—®é¢˜ã€‚ï¼ˆè·Ÿå€Ÿç”¨æ„é€ å‡½æ•°æ¨¡å¼ä¸€æ ·ï¼Œæ¯æ¬¡åˆ›å»ºå¯¹è±¡éƒ½ä¼šåˆ›å»ºä¸€éæ–¹æ³•ã€‚ï¼‰</p><h5 id="å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿"><a class="markdownIt-Anchor" href="#å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿"></a> å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿</h5><p>ç»“åˆå¯„ç”Ÿç»§æ‰¿å’Œç»„åˆå¼ç»§æ‰¿ä¼˜ç¼ºç‚¹ï¼Œç»„åˆå¼ç»§æ‰¿ç¼ºç‚¹ä¸ºè°ƒç”¨äº†ä¸¤æ¬¡çˆ¶ç±»æ„é€ å‡½æ•°ï¼Œä¼˜ç‚¹ä¸ºè§£å†³äº†å¼•ç”¨å€¼è¢«å…±äº«é—®é¢˜ã€‚è€Œå¯„ç”Ÿå¼ç»§æ‰¿ç¼ºç‚¹ä¸ºæ²¡æœ‰è§£å†³å¼•ç”¨å€¼è¢«å…±äº«é—®é¢˜ï¼Œåªè¦å°†ä¸¤è€…ç»“åˆå°±å¾—åˆ°å®Œç¾çš„ç»§æ‰¿æ–¹å¼ã€‚</p><p>ğŸŒ°</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">createObj</span>(<span class="params">son, parent</span>) &#123;</span><br><span class="line">  <span class="comment">// å¯„ç”Ÿå¼ç»§æ‰¿ï¼Œåˆ©ç”¨çˆ¶ç±»æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡åˆ›å»ºå‡ºä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œè§£å†³ç»„åˆå¼ç»§æ‰¿åˆ›å»ºä¸¤ä¸ªçˆ¶ç±»é—®é¢˜</span></span><br><span class="line">  <span class="keyword">const</span> newObj = <span class="title class_">Objcet</span>.<span class="title function_">create</span>(parent.<span class="property"><span class="keyword">prototype</span></span>)ï¼›</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// å°†æ–°å¯¹è±¡çš„constructoræ„é€ å‡½æ•°æ‰§è¡Œå­ç±»</span></span><br><span class="line">newObj.<span class="property">constructor</span> = son;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// å°†å­ç±»æ„é€ å‡½æ•°çš„åŸå‹æŒ‡å‘å¿ƒçš„  åŸå‹å¼ç»§æ‰¿</span></span><br><span class="line">  son.<span class="property">protoytype</span> = newObj; </span><br><span class="line">  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Person</span>(<span class="params">name</span>) &#123;</span><br><span class="line">  ...</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Son</span>(<span class="params">name</span>) &#123;</span><br><span class="line">  <span class="comment">// æ„é€ å‡½æ•°ç»§æ‰¿</span></span><br><span class="line">  <span class="title class_">Person</span>.<span class="title function_">call</span>(<span class="variable language_">this</span>, name);</span><br><span class="line">  ...</span><br><span class="line">&#125;;</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line"><span class="comment">// å®ç°ç»§æ‰¿</span></span><br><span class="line"><span class="title function_">createObj</span>(<span class="title class_">Son</span>, <span class="title class_">Person</span>)</span><br><span class="line"><span class="comment">// æ›´ç®€æ´çš„æ–¹å¼  åœ¨ç»„åˆå¼ç»§æ‰¿çš„åŸºç¡€ä¸Š  ç›´æ¥å°†sonçš„åŸå‹é€šè¿‡APIæŒ‡å‘personçš„åŸå‹</span></span><br><span class="line"><span class="title class_">Son</span>.<span class="property"><span class="keyword">prototype</span></span> = <span class="title class_">Object</span>.<span class="title function_">create</span>(<span class="title class_">Person</span>.<span class="property"><span class="keyword">prototype</span></span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> obj1 = <span class="keyword">new</span> <span class="title class_">Son</span>(<span class="string">&#x27;zx&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> obj2 = <span class="keyword">new</span> <span class="title class_">Son</span>(<span class="string">&#x27;lw&#x27;</span>);</span><br></pre></td></tr></table></figure><h4 id="æ·±æ‹·è´-æµ…æ‹·è´"><a class="markdownIt-Anchor" href="#æ·±æ‹·è´-æµ…æ‹·è´"></a> æ·±æ‹·è´ã€æµ…æ‹·è´</h4><h5 id="æµ…æ‹·è´"><a class="markdownIt-Anchor" href="#æµ…æ‹·è´"></a> æµ…æ‹·è´</h5><p>æµ…æ‹·è´åªæ˜¯å¤åˆ¶å¯¹è±¡çš„å€¼ç±»å‹ï¼Œé€šè¿‡<code>Object.assign</code>æˆ–è€…æ‰©å±•è¿ç®—ç¬¦å³å¯å®ç°</p><h5 id="æ·±æ‹·è´"><a class="markdownIt-Anchor" href="#æ·±æ‹·è´"></a> æ·±æ‹·è´</h5><p>é€šè¿‡é€’å½’å®ç°</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">deepClone</span>(<span class="params">obj</span>) &#123;</span><br><span class="line">  <span class="comment">// åˆ¤æ–­æ˜¯å¦ä¸ºå¯¹è±¡</span></span><br><span class="line">  <span class="keyword">if</span> (!obj || <span class="keyword">typeof</span> obj !==<span class="string">&#x27;object&#x27;</span>) <span class="keyword">return</span> obj;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// æ ¹æ®objç±»å‹åˆ›å»ºæ•°ç»„è¿˜æ˜¯å¯¹è±¡</span></span><br><span class="line">  <span class="keyword">let</span> newObj = obj <span class="keyword">instanceof</span> <span class="title class_">Object</span> ? &#123;&#125; : [];</span><br><span class="line">  </span><br><span class="line"><span class="comment">// å¾ªç¯éå†objï¼Œå¤„ç†å­å…ƒç´ ä¸ºå¯¹è±¡ï¼Œé€’å½’æ‹·è´</span></span><br><span class="line">  <span class="keyword">for</span> (key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">    <span class="keyword">if</span> (obj.<span class="title function_">hasOwnProperty</span>(key)) &#123;</span><br><span class="line">      newOb[key] = <span class="title function_">deepClone</span>(obj[key])</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">return</span> newObj;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h4 id="äº‹ä»¶å¾ªç¯æœºåˆ¶eventloopæµè§ˆå™¨"><a class="markdownIt-Anchor" href="#äº‹ä»¶å¾ªç¯æœºåˆ¶eventloopæµè§ˆå™¨"></a> äº‹ä»¶å¾ªç¯æœºåˆ¶EventLoopï¼ˆæµè§ˆå™¨ï¼‰</h4><h5 id="æ ˆ-é˜Ÿåˆ—ç†è§£"><a class="markdownIt-Anchor" href="#æ ˆ-é˜Ÿåˆ—ç†è§£"></a> æ ˆã€é˜Ÿåˆ—ç†è§£</h5><ul><li><code>æ ˆï¼ˆStackï¼‰</code>ä¸­çš„ä»»åŠ¡<strong>åè¿›å…ˆå‡º</strong>ï¼Œjsä¸­çš„æ‰§è¡Œæ ˆæ˜¯ä¸€ä¸ªå­˜å‚¨å‡½æ•°çš„æ ˆç»“æ„ï¼Œæ ˆä¸­çš„ä»»åŠ¡æ‰§è¡Œéµå¾ªå…ˆè¿›åå‡ºçš„åŸåˆ™ä¾æ¬¡æ‰§è¡Œã€‚</li><li><code>é˜Ÿåˆ—ï¼ˆQueueï¼‰</code>ä¸­çš„ä»»åŠ¡<strong>å…ˆè¿›å…ˆå‡º</strong>ï¼Œjsè¿è¡Œæ—¶åˆ›å»ºä¸€ä¸ªä»»åŠ¡[[â€¦/â€¦/1-blog/æ•°æ®ç»“æ„/JavaScriptæ•°æ®ç»“æ„ä¹‹â€”â€”é˜Ÿåˆ—|é˜Ÿåˆ—]]ï¼Œç”¨æ¥å¤„ç†åˆ—è¡¨ï¼ˆäº‹ä»¶ï¼‰å’Œå¾…æ‰§è¡Œçš„å›è°ƒå‡½æ•°</li></ul><h5 id="å®è§‚ä»»åŠ¡-å¾®è§‚ä»»åŠ¡"><a class="markdownIt-Anchor" href="#å®è§‚ä»»åŠ¡-å¾®è§‚ä»»åŠ¡"></a> å®è§‚ä»»åŠ¡ã€å¾®è§‚ä»»åŠ¡</h5><p>jsä¸­çš„ä»»åŠ¡åˆ†ä¸ºä¸¤ç§ï¼š<strong>å®è§‚ä»»åŠ¡</strong><code>(MacroTask|Task)</code>ã€<strong>å¾®è§‚ä»»åŠ¡</strong><code>(MicorTask)</code>ã€‚</p><ul><li>å®ä»»åŠ¡ï¼š<code>scriptå…¨éƒ¨ä»£ç </code>ã€<code>setTimeout</code>ã€<code>setInterval</code>ã€<code>I/O</code>ã€<code>UI Rendering</code></li><li>å¾®ä»»åŠ¡ï¼š<code>Promise.then</code>ã€<code>Process.nexTick(Nodeç‹¬æœ‰)</code>ã€<code>MutationObserver</code></li></ul><h5 id="åŒæ­¥ä»»åŠ¡-å¼‚æ­¥ä»»åŠ¡"><a class="markdownIt-Anchor" href="#åŒæ­¥ä»»åŠ¡-å¼‚æ­¥ä»»åŠ¡"></a> åŒæ­¥ä»»åŠ¡ã€å¼‚æ­¥ä»»åŠ¡</h5><p>jsæœ‰ä¸€ä¸ª<strong>ä¸»çº¿ç¨‹</strong>å’Œä¸€ä¸ª<strong>æ‰§è¡Œæ ˆï¼ˆè°ƒç”¨æ ˆï¼‰</strong>ï¼Œæ‰€æœ‰çš„ä»»åŠ¡éƒ½ä¼šæ”¾åˆ°æ‰§è¡Œæ ˆä¸­ç­‰å¾…è¢«ä¸»çº¿ç¨‹æ‰§è¡Œã€‚</p><p>jsä»£ç åœ¨æ‰§è¡Œæ—¶ï¼Œæ‰€æœ‰å‡½æ•°éƒ½ä¼šå‹å…¥<strong>æ‰§è¡Œæ ˆ</strong>ä¸­ã€‚åŒæ­¥ä»»åŠ¡ä¼šæŒ‰ç…§<strong>åè¿›å…ˆå‡º</strong>åŸåˆ™ä¾æ¬¡æ‰§è¡Œï¼Œç›´åˆ°æ‰§è¡Œæ ˆæ¸…ç©ºã€‚å¼‚æ­¥ä»»åŠ¡ä¼šåœ¨å¼‚æ­¥ä»»åŠ¡æœ‰äº†ç»“æœåï¼Œå°†æ³¨å†Œçš„å›æ‰å‡½æ•°æ”¾å…¥å¼‚æ­¥ä»»åŠ¡é˜Ÿåˆ—ä¸­ï¼Œ<strong>ç­‰å¾…ä¸»çº¿ç¨‹ç©ºé—²åï¼ˆæ‰§è¡Œæ ˆä¸­çš„åŒæ­¥ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼‰</strong>ã€‚</p><p>å¼‚æ­¥é˜Ÿåˆ—ä¸­çš„ä»»åŠ¡åˆåˆ†ä¸º<strong>å®è§‚ä»»åŠ¡</strong>å’Œ<strong>å¾®è§‚ä»»åŠ¡</strong>ï¼Œå½“å½“å‰æ‰§è¡Œæ ˆæ¸…ç©ºåï¼Œå¤„ç†å¼‚æ­¥é˜Ÿåˆ—ä¸­çš„ä»»åŠ¡æ—¶ï¼Œé¦–å…ˆä¼šåˆ¤æ–­æ˜¯å¦æœ‰å¾®è§‚ä»»åŠ¡å¯æ‰§è¡Œï¼Œå¦‚æœæœ‰å°±å°†å¾®è§‚ä»»åŠ¡å‹å…¥æ‰§è¡Œæ ˆä¸­æ‰§è¡Œã€‚å½“å¾®è§‚é˜Ÿåˆ—ä¸­çš„ä»»åŠ¡åœ¨æ‰§è¡Œæ ˆè¢«æ‰§è¡Œå®Œæ¯•ï¼Œå†æ¥å¼‚æ­¥é˜Ÿåˆ—ä¸­å°†å®è§‚ä»»åŠ¡æ”¾å…¥æ‰§è¡Œæ ˆã€‚</p><p>ç®€å•çš„æ¥è¯´ï¼š</p><ol><li>æ‰§è¡ŒåŒæ­¥ä»£ç ï¼Œè¿™å±äºå®è§‚ä»»åŠ¡</li><li>æ‰€æœ‰ä»£ç æ‰§è¡Œå®Œæ¯•ï¼Œæ‰§è¡Œæ ˆæ¸…ç©ºï¼Œæ‰§è¡Œå¼‚æ­¥é˜Ÿåˆ—ä¸­ä»»åŠ¡</li><li>å¼‚æ­¥é˜Ÿåˆ—ä¸­ï¼Œå…ˆæ‰§è¡Œå¾®è§‚ä»»åŠ¡</li><li>å¾®è§‚ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼Œå†æ‰§è¡Œå®è§‚ä»»åŠ¡</li></ol><h4 id="3-studyå‰ç«¯æ‰‹å†™åŸºç¡€å‡½æ•°èŠ‚æµé˜²æŠ–èŠ‚æµé˜²æŠ–"><a class="markdownIt-Anchor" href="#3-studyå‰ç«¯æ‰‹å†™åŸºç¡€å‡½æ•°èŠ‚æµé˜²æŠ–èŠ‚æµé˜²æŠ–"></a> [[3-study/å‰ç«¯/æ‰‹å†™åŸºç¡€å‡½æ•°#èŠ‚æµé˜²æŠ–|èŠ‚æµé˜²æŠ–]]</h4><p>èŠ‚æµï¼ˆthrottleï¼‰ï¼šåœ¨nç§’å†…åªå…è®¸æ‰§è¡Œä¸€æ¬¡ï¼Œ</p><p>[[â€¦/â€¦/1-blog/é˜²æŠ–debounceç†è§£|é˜²æŠ–]]ï¼ˆdebounceï¼‰ï¼šåœ¨nç§’å†…å¤šæ¬¡è§¦å‘ä½†ä¸æ‰§è¡Œï¼Œè€Œæ˜¯åœ¨nç§’åæ‰§è¡Œï¼Œå¦‚æœnç§’å†…è§¦å‘åˆ™é‡æ–°è®¡ç®—ã€‚</p><h4 id="äº‹ä»¶å†’æ³¡-äº‹ä»¶å§”æ‰˜"><a class="markdownIt-Anchor" href="#äº‹ä»¶å†’æ³¡-äº‹ä»¶å§”æ‰˜"></a> äº‹ä»¶å†’æ³¡ã€äº‹ä»¶å§”æ‰˜</h4><p>äº‹ä»¶å‘ç”Ÿçš„ä¸‰ä¸ªé˜¶æ®µï¼š<strong>æ•è·é˜¶æ®µ</strong>ã€<strong>ç›®æ ‡é˜¶æ®µ</strong>ã€<strong>å†’æ³¡é˜¶æ®µ</strong></p><ul><li>äº‹ä»¶å†’æ³¡ï¼šåœ¨ä¸€ä¸ªå¯¹è±¡ä¸Šè§¦å‘æŸç±»äº‹ä»¶ï¼Œå¦‚æœæ­¤å¯¹è±¡ç»‘å®šäº†äº‹ä»¶ï¼Œå°±ä¼šè§¦å‘äº‹ä»¶ï¼Œå¦‚æœæ²¡æœ‰ï¼Œå°±ä¼šå‘è¿™ä¸ªå¯¹è±¡çš„çˆ¶çº§å¯¹è±¡ä¼ æ’­ï¼Œæœ€ç»ˆçˆ¶çº§å¯¹è±¡è§¦å‘äº‹ä»¶ã€‚<ul><li>å¦‚ä½•é˜»æ­¢ï¼š<ul><li>æ™®é€šæµè§ˆå™¨ï¼š<code>event.stopPropagation()</code></li><li>IEæµè§ˆå™¨ï¼š<code>event.cancelBubble = true</code>;</li></ul></li></ul></li><li>äº‹ä»¶å§”æ‰˜ï¼šåˆ©ç”¨æµè§ˆå™¨äº‹ä»¶å†’æ³¡æœºåˆ¶ã€‚äº‹ä»¶åœ¨å†’æ³¡çš„è¿‡ç¨‹ä¸­ä¼šä¼ åˆ°çˆ¶èŠ‚ç‚¹ï¼Œå¹¶ä¸”çˆ¶èŠ‚ç‚¹å¯ä»¥é€šè¿‡äº‹ä»¶å¯¹è±¡è·å–åˆ°ç›®æ ‡èŠ‚ç‚¹ï¼Œå¯ä»¥å§å­èŠ‚ç‚¹çš„ç›‘å¬å‡½æ•°å®šä¹‰åœ¨çˆ¶èŠ‚ç‚¹ä¸Šï¼Œç”±çˆ¶èŠ‚ç‚¹çš„ç›‘å¬å‡½æ•°ç»Ÿä¸€å¤„ç†å¤šä¸ªå­å…ƒç´ çš„äº‹ä»¶<ul><li>äº‹ä»¶å§”æ‰˜å¯ä»¥ä¸å¿…è¦ä¸ºæ¯ä¸€ä¸ªå­èŠ‚ç‚¹éƒ½ç»‘å®šç›‘å¬äº‹ä»¶ï¼Œå‡å°‘å†…å­˜ä¸Šçš„æ¶ˆè€—ã€‚</li><li>ä½¿ç”¨äº‹ä»¶å§”æ‰˜è¿˜å¯ä»¥å®ç°äº‹ä»¶çš„åŠ¨æ€ç»‘å®šï¼Œæ¯”å¦‚æ–°å¢ä¸€ä¸ªå­èŠ‚ç‚¹ï¼Œå¹¶ä¸éœ€è¦ä¸ºæ­¤å•ç‹¬å¢åŠ ä¸€ä¸ªç›‘å¬äº‹ä»¶ï¼Œå¯ä»¥ç”±çˆ¶å…ƒç´ ä¸­çš„ç›‘å¬å‡½æ•°æ¥å¤„ç†ã€‚</li></ul></li></ul><h4 id="å¯¹domå…ƒç´ è¿›è¡Œå¢åˆ æ”¹æŸ¥"><a class="markdownIt-Anchor" href="#å¯¹domå…ƒç´ è¿›è¡Œå¢åˆ æ”¹æŸ¥"></a> å¯¹DOMå…ƒç´ è¿›è¡Œå¢åˆ æ”¹æŸ¥</h4><h5 id="å¢"><a class="markdownIt-Anchor" href="#å¢"></a> å¢</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="title function_">createElement</span>()</span><br></pre></td></tr></table></figure><h5 id="åˆ "><a class="markdownIt-Anchor" href="#åˆ "></a> åˆ </h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">element.<span class="title function_">removeAttribute</span>()</span><br><span class="line">element.<span class="title function_">removeChild</span>()</span><br></pre></td></tr></table></figure><h5 id="æ”¹"><a class="markdownIt-Anchor" href="#æ”¹"></a> æ”¹</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">element.<span class="title function_">innerHTML</span>()</span><br><span class="line">element.<span class="title function_">setAttribute</span>()</span><br></pre></td></tr></table></figure><h5 id="æŸ¥"><a class="markdownIt-Anchor" href="#æŸ¥"></a> æŸ¥</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">getElementById()</span><br><span class="line">getElementsByClassName()</span><br><span class="line">getElementsByTagName()</span><br><span class="line">querySelector()</span><br><span class="line">querySelectorAll()</span><br></pre></td></tr></table></figure><h4 id="ajax-axios-fetchåŒºåˆ«"><a class="markdownIt-Anchor" href="#ajax-axios-fetchåŒºåˆ«"></a> ajaxã€axiosã€fetchåŒºåˆ«</h4><p><strong>ajax</strong></p><ul><li>åŸºäºåŸç”Ÿçš„XHRå¼€å‘</li><li>æœ¬èº«é’ˆå¯¹MVCç¼–ç¨‹ï¼Œä¸ç¬¦åˆç°åœ¨å‰ç«¯MVVMæ½®æµ</li></ul><p><strong>axios</strong></p><ul><li><p>ä»æµè§ˆå™¨ä¸­åˆ›å»º<code>XMLHttpRequest</code></p></li><li><p>æ”¯æŒ<code>promise</code></p></li><li><p>æ”¯æŒè¯·æ±‚æ‹¦å‡»å’Œå“åº”æ‹¦æˆª</p></li><li><p>ä»node.jsåˆ›å»ºhttpè¯·æ±‚</p></li><li><p>å®¢æœç«¯æ”¯æŒé˜²æ­¢<code>CSRF/XSRF</code></p></li></ul><p><strong>fetch</strong></p><ul><li>æµè§ˆå™¨åŸç”Ÿå®ç°çš„è¯·æ±‚æ–¹å¼ï¼Œajaxçš„æ›¿ä»£å“</li><li>åªå¯¹ç½‘ç»œè¯·æ±‚æŠ¥é”™ï¼Œå¯¹400ã€500éƒ½å½“åšæˆåŠŸçš„è¯·æ±‚ï¼Œéœ€è¦å°è£…</li><li>fetché»˜è®¤ä¸ä¼šå¸¦cookieï¼Œéœ€è¦æ·»åŠ é…ç½®é¡¹</li><li>fetchä¸æ”¯æŒabortï¼Œä¸æ”¯æŒè¶…æ—¶æ§åˆ¶ï¼Œä½¿ç”¨setTimeoutåŠPromise.rejectçš„å®ç°çš„è¶…æ—¶æ§åˆ¶å¹¶ä¸èƒ½é˜»æ­¢è¯·æ±‚è¿‡ç¨‹ç»§ç»­åœ¨åå°è¿è¡Œï¼Œé€ æˆäº†é‡çš„æµªè´¹</li><li>fetchæ²¡æœ‰åŠæ³•åŸç”Ÿç›‘æµ‹è¯·æ±‚çš„è¿›åº¦ï¼Œè€ŒXHRå¯ä»¥</li></ul><h2 id="es6"><a class="markdownIt-Anchor" href="#es6"></a> ES6</h2><h3 id="var-let-conståŒºåˆ«"><a class="markdownIt-Anchor" href="#var-let-conståŒºåˆ«"></a> varã€letã€conståŒºåˆ«</h3><ul><li><code>var</code>å£°æ˜å˜é‡å¯ä»¥é‡å¤å£°æ˜ï¼Œè€Œ<code>let</code>ä¸å¯ä»¥</li><li><code>var</code>æ˜¯ä¸å—é™äºå—çº§ä½œç”¨åŸŸï¼Œè€Œ<code>let</code>å—é™</li><li><code>var</code>å­˜åœ¨å˜é‡æå‡ï¼Œ<code>let</code>å’Œ<code>const</code>ä¸å­˜åœ¨å˜é‡æå‡</li><li><code>cons</code>tå£°æ˜çš„å˜é‡ä¸å¯å˜</li><li><code>const</code>å£°æ˜ä¹‹åå¿…é¡»èµ‹å€¼ï¼Œå¦åˆ™ä¼šæŠ¥é”™</li></ul><h3 id="3-studyå‰ç«¯æ‰‹å†™åŸºç¡€å‡½æ•°promisepromise"><a class="markdownIt-Anchor" href="#3-studyå‰ç«¯æ‰‹å†™åŸºç¡€å‡½æ•°promisepromise"></a> [[3-study/å‰ç«¯/æ‰‹å†™åŸºç¡€å‡½æ•°#promise|Promise]]</h3><p><code>Promise</code>æ˜¯å¼‚æ­¥ç¼–ç¨‹çš„ä¸€ç§è§£å†³æ–¹æ¡ˆï¼Œå°†å¼‚æ­¥æ“ä½œä»¥åŒæ­¥æ“ä½œçš„æµç¨‹è¡¨è¾¾å‡ºæ¥ï¼Œé¿å…äº†å±‚å±‚åµŒå¥—çš„å›è°ƒå‡½æ•°ã€‚</p><p>å®ƒæœ‰ä¸‰ç§çŠ¶æ€</p><ul><li><code>pending</code>åˆå§‹çŠ¶æ€</li><li><code>fulfilled</code>æ“ä½œæˆåŠŸ</li><li><code>rejected</code>æ“ä½œå¤±è´¥ã€‚</li></ul><p><code>Promise</code>çŠ¶æ€æ”¹å˜åªæœ‰ä¸¤ç§å¯èƒ½</p><ul><li>ä»<code>pending</code>------&gt;<code>fulfilled</code></li><li>ä»<code>pending</code>------&gt;<code>rejected</code></li></ul><p><code>Promise</code>æ„é€ å‡½æ•°æ¥æ”¶ä¸€ä¸ªå‚æ•°å’Œä¸€ä¸ªå¸¦æœ‰<code>resolve</code>å’Œ<code>reject</code>å‚æ•°çš„å›è°ƒå‡½æ•°ã€‚</p><ul><li><code>resolve</code>çš„ä½œç”¨æ˜¯å°†<code>Promise</code>çŠ¶æ€ä»<code>pending</code>å˜ä¸º<code>fulfilled</code>ï¼Œåœ¨å¼‚æ­¥æ“ä½œæˆåŠŸæ—¶è°ƒç”¨ï¼Œå¹¶å°†å¼‚æ­¥ç»“æœè¿”å›ï¼Œä½œä¸ºå‚æ•°ä¼ é€’å‡ºå»</li><li><code>reject</code>çš„ä½œç”¨æ˜¯å°†<code>Promise</code>çŠ¶æ€ä»<code>pending</code>å˜ä¸º<code>rejected</code>ï¼Œåœ¨å¼‚æ­¥æ“ä½œå¤±è´¥åï¼Œå°†å¼‚æ­¥æ“ä½œé”™è¯¯çš„ç»“æœï¼Œä½œä¸ºå‚æ•°ä¼ é€’å‡ºå»</li></ul><p><code>Promise</code>å®ä¾‹æ–¹æ³•</p><ul><li><code>promise.then()</code>  å¯¹åº”<code>resolve</code>æˆåŠŸçš„å¤„ç†</li><li><code>promise.catch()</code>å¯¹åº”<code>reject</code>å¤±è´¥çš„å¤„ç†</li><li><code>promise.call()</code>å°†å¤šä¸ª<code>Promise</code>å®ä¾‹ï¼ŒåŒ…è£…æˆä¸€ä¸ªæ–°çš„<code>Promise</code>å®ä¾‹ï¼Œè¿”å›çš„å®ä¾‹å°±æ˜¯æ™®é€šçš„<code>Promise</code>ã€‚æœ‰ä¸€ä¸ªå¤±è´¥ï¼Œä»£è¡¨è¯¥<code>Primise</code>å¤±è´¥ã€‚å½“æ‰€æœ‰çš„å­<code>Promise</code>å®Œæˆï¼Œè¿”å›å€¼æ—¶å…¨éƒ¨å€¼çš„æ•°ç»„</li><li><code>promise.race()</code>ç±»ä¼¼<code>promise.all()</code>ï¼ŒåŒºåˆ«åœ¨äºæœ‰ä»»æ„ä¸€ä¸ªå®Œæˆå°±ç®—å®Œæˆï¼ˆä¾‹å¦‚ï¼šå°†å¼‚æ­¥å’Œå®šæ—¶å™¨æ”¾åœ¨ä¸€èµ·ï¼Œè®¾ç½®è¯·æ±‚è¶…æ—¶ï¼‰</li></ul><h3 id="ç®­å¤´å‡½æ•°å’Œæ™®é€šå‡½æ•°çš„åŒºåˆ«"><a class="markdownIt-Anchor" href="#ç®­å¤´å‡½æ•°å’Œæ™®é€šå‡½æ•°çš„åŒºåˆ«"></a> ç®­å¤´å‡½æ•°å’Œæ™®é€šå‡½æ•°çš„åŒºåˆ«</h3><ul><li>ç®­å¤´å‡½æ•°æ—¶<strong>åŒ¿åå‡½æ•°</strong>ï¼Œä¸èƒ½ä½œä¸ºæ„é€ å‡½æ•°ï¼Œä¸èƒ½ä½¿ç”¨<code>new</code></li><li>ç®­å¤´å‡½æ•°ä¸ç»‘å®š<code>arguments</code></li><li>ç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„<code>this</code>ï¼Œå°†æ‰€åœ¨çš„ä¸Šä¸‹æ–‡çš„<code>this</code>ä½œä¸ºè‡ªå·±çš„<code>this</code>å€¼</li><li>æ²¡æœ‰<code>prototype</code></li><li><code>call()</code>ã€<code>applay()</code>ã€<code>bind()</code>æ–¹æ³•ä¸èƒ½æ”¹å˜ç®­å¤´å‡½æ•°ä¸­çš„<code>this</code>æŒ‡å‘</li></ul><h3 id="foreachå’Œmapçš„åŒºåˆ«"><a class="markdownIt-Anchor" href="#foreachå’Œmapçš„åŒºåˆ«"></a> forEachå’Œmapçš„åŒºåˆ«</h3><ul><li><code>forEach</code>è¿”å›å€¼æ˜¯<code>undefined</code>ï¼Œä¸å¯ä»¥é“¾å¼è°ƒç”¨</li><li><code>map()</code>è¿”å›ä¸€ä¸ªæ–°çš„æ•°ç»„ï¼Œä¸æ”¹å˜åŸæ•°ç»„ã€‚<code>forEach</code>æ”¹å˜åŸæ•°ç»„ã€‚</li></ul><h3 id="set-mapçš„åŒºåˆ«"><a class="markdownIt-Anchor" href="#set-mapçš„åŒºåˆ«"></a> Setã€Mapçš„åŒºåˆ«</h3><h4 id="set"><a class="markdownIt-Anchor" href="#set"></a> Set</h4><ul><li>åˆ›å»ºï¼š<code>  new Set([1, 1, 2, 3, 3, 4, 2])</code></li><li><code>add(value)</code>ï¼šæ·»åŠ æŸä¸ªå€¼ï¼Œè¿”å›Setç»“æ„æœ¬èº«ã€‚</li><li><code>delete(value)</code>ï¼šåˆ é™¤æŸä¸ªå€¼ï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºåˆ é™¤æ˜¯å¦æˆåŠŸã€‚</li><li><code>has(value)</code>ï¼šè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºè¯¥å€¼æ˜¯å¦ä¸ºSetçš„æˆå‘˜ã€‚</li><li><code>clear()</code>ï¼šæ¸…é™¤æ‰€æœ‰æˆå‘˜ï¼Œæ²¡æœ‰è¿”å›å€¼ã€‚</li></ul><h4 id="map"><a class="markdownIt-Anchor" href="#map"></a> Map</h4><ul><li><code>set(key, val):</code> å‘<code>Map</code>ä¸­æ·»åŠ æ–°å…ƒç´ </li><li><code>get(key):</code> é€šè¿‡é”®å€¼æŸ¥æ‰¾ç‰¹å®šçš„æ•°å€¼å¹¶è¿”å›</li><li><code>has(key): </code>åˆ¤æ–­<code>Map</code>å¯¹è±¡ä¸­æ˜¯å¦æœ‰<code>Key</code>æ‰€å¯¹åº”çš„å€¼ï¼Œæœ‰è¿”å›<code>true</code>,å¦åˆ™è¿”å›<code>false</code></li><li><code>delete(key): </code>é€šè¿‡é”®å€¼ä»<code>Map</code>ä¸­ç§»é™¤å¯¹åº”çš„æ•°æ®</li><li><code>clear():</code> å°†è¿™ä¸ª<code>Map</code>ä¸­çš„æ‰€æœ‰å…ƒç´ åˆ é™¤</li></ul><h4 id="åŒºåˆ«"><a class="markdownIt-Anchor" href="#åŒºåˆ«"></a> åŒºåˆ«</h4><ul><li><code>Map</code>æ˜¯ä¸€ç§é”®å€¼å¯¹çš„é›†åˆï¼Œå’Œå¯¹è±¡ä¸åŒçš„æ˜¯ï¼Œé”®å¯ä»¥æ˜¯ä»»æ„å€¼</li><li><code>Map</code>å¯ä»¥éå†ï¼Œå¯ä»¥å’Œå„ç§æ•°æ®æ ¼å¼è½¬æ¢</li><li><code>Set</code>æ˜¯ç±»ä¼¼æ•°ç»„çš„ä¸€ç§çš„æ•°æ®ç»“æ„ï¼Œä½†åœ¨Setä¸­æ²¡æœ‰é‡å¤çš„å€¼</li></ul><h3 id="è°ˆè°ˆä½ å¯¹es6å¯¹ç†è§£"><a class="markdownIt-Anchor" href="#è°ˆè°ˆä½ å¯¹es6å¯¹ç†è§£"></a> è°ˆè°ˆä½ å¯¹ES6å¯¹ç†è§£</h3><ul><li>è§£æ„èµ‹å€¼</li><li>æ‰©å±•è¿ç®—ç¬¦</li><li>æ¨¡ç‰ˆå­—ç¬¦ä¸²</li><li>ç®­å¤´å‡½æ•°</li><li><code>async/await</code></li><li><code>Class</code></li><li>å¼•å…¥<code>Moldule</code>è¯­æ³•</li><li><code>class</code>ç±»</li></ul><h2 id="vue"><a class="markdownIt-Anchor" href="#vue"></a> Vue</h2><h3 id="åŸºç¡€çŸ¥è¯†"><a class="markdownIt-Anchor" href="#åŸºç¡€çŸ¥è¯†"></a> åŸºç¡€çŸ¥è¯†</h3><h4 id="mvvm"><a class="markdownIt-Anchor" href="#mvvm"></a> MVVM</h4><p><code>MVVM</code>æ˜¯ä¸€ç§è½¯ä»¶æ¶æ„æ¨¡å¼ï¼Œåœ¨vueä¸­ M ä»£è¡¨<code>model</code>å±‚ï¼ˆæ•°æ®æ¨¡å‹ï¼‰ï¼Œè´Ÿè´£æ•°æ®æ¨¡å‹ã€‚Vä»£è¡¨<code>View</code>å±‚ï¼ˆè§†å›¾å±‚ï¼‰ï¼ŒVMä»£è¡¨<code>ViewModel</code>ï¼ˆè§†å›¾æ¨¡å‹ï¼‰ï¼Œå®ƒæ˜¯<code>Model</code>å’Œ<code>View</code>ä¹‹é—´çš„æ¡¥æ¢ï¼Œæ•°æ®ä¼šç»‘å®šåˆ°<code>viewModel</code>å±‚ï¼Œå¹¶è‡ªåŠ¨å°†æ•°æ®æ¸²æŸ“åˆ°é¡µé¢å±‚ï¼Œè§†å›¾å˜åŒ–æ—¶ä¼šé€šçŸ¥<code>viewModel</code>æ›´æ–°æ•°æ®</p><h4 id="vueç”Ÿå‘½å‘¨æœŸ"><a class="markdownIt-Anchor" href="#vueç”Ÿå‘½å‘¨æœŸ"></a> Vueç”Ÿå‘½å‘¨æœŸ</h4><p><strong>åˆ›å»ºå‰åï¼š</strong></p><ul><li><code>beforeCreatedï¼ˆåˆ›å»ºå‰ï¼‰ï¼š</code> æ•°æ®è§‚æµ‹å’Œåˆå§‹åŒ–äº‹ä»¶è¿˜æœªå¼€å§‹ï¼Œä¸èƒ½è®¿é—®<code>data</code>ã€<code>computed</code>ã€<code>watch</code>ã€<code>methods</code>ä¸Šçš„æ•°æ®æ–¹æ³•ã€‚</li><li><code>created(åˆ›å»ºå)ï¼š</code>å®ä¾‹åˆ›å»ºå®Œæˆï¼Œå¯ä»¥è®¿é—®<code>data</code>ã€<code>computed</code>ã€<code>watch</code>ã€<code>methods</code>ä¸Šçš„æ•°æ®æ–¹æ³•ï¼Œä½†æ­¤æ—¶æ¸²æŸ“èŠ‚ç‚¹è¿˜æœªæŒ‚åœ¨åˆ°DOMä¸Šï¼Œæ‰€ä»¥ä¸èƒ½è®¿é—®ã€‚</li></ul><p><strong>æŒ‚è½½å‰åï¼š</strong></p><ul><li><code>beforeMountedï¼ˆæŒ‚è½½å‰ï¼‰:</code> Vueå®ä¾‹è¿˜æœªæŒ‚åœ¨åˆ°é¡µé¢htmlä¸Šï¼Œæ­¤æ—¶å¯ä»¥å‘èµ·æœåŠ¡å™¨è¯·æ±‚</li><li><code>mountedï¼ˆæŒ‚è½½åï¼‰:</code>Vueå®ä¾‹å·²ç»æŒ‚åœ¨å®Œæ¯•ï¼Œå¯ä»¥æ“ä½œDOM</li></ul><p><strong>æ›´æ–°å‰åï¼š</strong></p><ul><li><code>beforeUpdateï¼ˆæ›´æ–°å‰ï¼‰:</code> æ•°æ®æ›´æ–°ä¹‹å‰è°ƒç”¨ï¼Œè¿˜æœªæ¸²æŸ“é¡µé¢</li><li><code>updatedï¼ˆæ›´æ–°åï¼‰:</code>DOMé‡æ–°æ¸²æŸ“ï¼Œæ­¤æ—¶æ•°æ®å’Œç•Œé¢éƒ½æ˜¯æ–°çš„ã€‚</li></ul><p><strong>é”€æ¯å‰åï¼š</strong></p><ul><li><code>beforeDestoryedï¼ˆé”€æ¯å‰ï¼‰:</code>å®ä¾‹é”€æ¯å‰è°ƒç”¨ï¼Œè¿™æ—¶å€™èƒ½å¤Ÿè·å–åˆ°<code>this</code></li><li><code>destoryedï¼ˆé”€æ¯åï¼‰:</code>å®ä¾‹é”€æ¯åè°ƒç”¨ï¼Œå®ä¾‹å®Œå…¨è¢«é”€æ¯ã€‚</li></ul><h4 id="watchå’Œcomputedçš„åŒºåˆ«"><a class="markdownIt-Anchor" href="#watchå’Œcomputedçš„åŒºåˆ«"></a> watchå’Œcomputedçš„åŒºåˆ«</h4><p>watchï¼šç›‘å¬å±æ€§ï¼Œç”¨æ¥ç›‘å¬æ•°æ®çš„å˜åŒ–ï¼Œæ²¡æœ‰ç¼“å­˜ï¼Œå½“ç›‘å¬åˆ°çš„æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶éƒ½ä¼šæ‰§è¡Œæ¯æ‰å‡½æ•°</p><p>computedï¼šè®¡ç®—å±æ€§ï¼Œè¢«ç›‘å¬çš„å€¼æœ‰ç¼“å­˜ï¼Œåªæœ‰å®ƒä¾èµ–çš„å±æ€§å€¼å‘ç”Ÿå˜åŒ–åï¼Œä¸‹ä¸€æ¬¡è·å–computedçš„å€¼æ—¶æ‰ä¼šé‡æ–°è®¡ç®—computedçš„å€¼ã€‚ï¼ˆåªæœ‰ä¾èµ–å‘ç”Ÿå˜åŒ–åæ‰ä¼šé‡æ–°è®¡ç®—ï¼‰</p><h4 id="v-forä¸­keyçš„ä½œç”¨"><a class="markdownIt-Anchor" href="#v-forä¸­keyçš„ä½œç”¨"></a> v-forä¸­keyçš„ä½œç”¨</h4><p>keyæ˜¯ä¸ºäº†æ›´é«˜æ•ˆçš„å¯¹æ¯”è™šæ‹ŸDOMä¸­çš„æ¯ä¸ªèŠ‚ç‚¹æ˜¯å¦ç›¸åŒï¼Œé¿å…é¡µé¢æ›´æ–°æ—¶é‡å¤æ›´æ–°èŠ‚ç‚¹</p><h4 id="v-ifå’Œv-showçš„åŒºåˆ«"><a class="markdownIt-Anchor" href="#v-ifå’Œv-showçš„åŒºåˆ«"></a> v-ifå’Œv-showçš„åŒºåˆ«</h4><p><code>v-if</code>å…ƒç´ ä¸å¯è§ åˆ é™¤domå…ƒç´ </p><p><code>v-show</code>å…ƒç´ å¯è§  é€šè¿‡è®¾ç½®å…ƒç´ çš„<code>displayï¼šnone</code>æ ·å¼å±æ€§</p><h4 id="ç»„ä»¶ä¸­çš„dataä¸ºä»€ä¹ˆæ˜¯ä¸€ä¸ªå‡½æ•°"><a class="markdownIt-Anchor" href="#ç»„ä»¶ä¸­çš„dataä¸ºä»€ä¹ˆæ˜¯ä¸€ä¸ªå‡½æ•°"></a> ç»„ä»¶ä¸­çš„dataä¸ºä»€ä¹ˆæ˜¯ä¸€ä¸ªå‡½æ•°</h4><p>å› ä¸ºå¯¹è±¡æ˜¯ä¸€ä¸ªå¼•ç”¨ç±»å‹ï¼Œå¦‚æœdataæ—¶ä¸€ä¸ªå¯¹è±¡çš„æƒ…å†µä¸‹ä¼šé€ æˆå¤šä¸ªç»„ä»¶å…±ç”¨ä¸€ä¸ªdataï¼Œdataä¸ºä¸€ä¸ªå‡½æ•°ï¼Œæ¯ä¸ªç»„ä»¶éƒ½ä¼šæœ‰è‡ªå·±çš„ç§æœ‰æ•°æ®ç©ºé—´ï¼Œä¸ä¼šå¹²æ‰°å…¶ä»–ç»„ä»¶çš„è¿è¡Œã€‚</p><h4 id="vueç»„ä»¶é€šä¿¡"><a class="markdownIt-Anchor" href="#vueç»„ä»¶é€šä¿¡"></a> Vueç»„ä»¶é€šä¿¡</h4><h5 id="çˆ¶å­ç»„ä»¶"><a class="markdownIt-Anchor" href="#çˆ¶å­ç»„ä»¶"></a> çˆ¶å­ç»„ä»¶</h5><p>çˆ¶ä¼ å­</p><ul><li>props</li><li>$children</li><li>$refs</li></ul><p>å­ä¼ çˆ¶</p><ul><li>$emit</li><li>$parent</li></ul><h5 id="å…„å¼Ÿç»„ä»¶"><a class="markdownIt-Anchor" href="#å…„å¼Ÿç»„ä»¶"></a> å…„å¼Ÿç»„ä»¶</h5><ul><li>provied</li><li>inject</li><li>eventBus</li><li>Vuex</li></ul><h4 id="vuexçš„åŸºæœ¬ä½¿ç”¨"><a class="markdownIt-Anchor" href="#vuexçš„åŸºæœ¬ä½¿ç”¨"></a> Vuexçš„åŸºæœ¬ä½¿ç”¨</h4><p>Vuexç”¨äºvueä¸­çš„æ•°æ®çŠ¶æ€ç®¡ç†ï¼Œæœ‰äº”ç§å±æ€§ï¼š</p><ol><li><code>state</code>ï¼š<code>Vuex</code>çš„åŸºæœ¬æ•°æ®ï¼Œç”¨äºå­˜å‚¨å˜é‡</li><li><code>getter</code>ï¼šä»<code>state</code>æ´¾ç”Ÿå‡ºæ¥çš„æ•°æ®ï¼Œå½“ç›¸é‡<code>state</code>çš„è®¡ç®—å±æ€§ï¼Œåœ¨è¿™é‡Œå¯ä»¥å¯¹<code>state</code>æ•°æ®è¿›è¡Œè¿‡æ»¤ã€ç­›é€‰ç­‰æ“ä½œ</li><li><code>mutation</code>ï¼šæäº¤æ›´æ–°<code>state</code>æ•°æ®çš„æ–¹æ³•</li><li><code>action</code>ï¼šå’Œ<code>mutation</code>åŠŸèƒ½ç›¸ä¼¼ï¼Œéƒ½æ˜¯ç”¨æ¥æäº¤æ›´æ–°ï¼Œä½†<code>action</code>æäº¤çš„æ˜¯<code>mutation</code>ï¼Œè€Œä¸æ˜¯ç›´æ¥å˜æ›´æ•°æ®ï¼Œå¹¶ä¸”<code>action</code>å¯ä»¥åŒ…å«å¼‚æ­¥æ“ä½œ</li><li><code>module</code>ï¼šæ¨¡å—åŒ–Vuexï¼Œæ¯ä¸ªæ¨¡å—éƒ½æœ‰è‡ªå·±çš„<code>state</code>ã€<code>mutation</code>ã€<code>actoion</code>ã€<code>getter</code></li></ol><h5 id="mutationå’Œactionçš„åŒºåˆ«"><a class="markdownIt-Anchor" href="#mutationå’Œactionçš„åŒºåˆ«"></a> mutationå’Œactionçš„åŒºåˆ«</h5><ul><li><code>mutation</code>æ›´ä¸“æ³¨äºä¿®æ”¹<code>state</code>ï¼Œå¿…é¡»æ˜¯åŒæ­¥æ‰§è¡Œã€‚</li><li><code>action</code>æäº¤çš„æ˜¯<code>mutation</code>ï¼Œè€Œä¸æ˜¯ç›´æ¥æ›´æ–°æ•°æ®ï¼Œå¯ä»¥æ˜¯å¼‚æ­¥çš„ã€‚</li><li><code>action</code>å¯ä»¥æ•´åˆå¤šä¸ª<code>mutation</code></li></ul><h4 id="vuexå’Œlocalstoryçš„åŒºåˆ«"><a class="markdownIt-Anchor" href="#vuexå’Œlocalstoryçš„åŒºåˆ«"></a> Vuexå’Œlocalstoryçš„åŒºåˆ«</h4><ul><li><code>Vuex</code>å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œé¡µé¢å…³é—­åˆ·æ–°å°±ä¼šæ¶ˆå¤±ã€‚è€Œ<code>localstorage</code>å­˜å‚¨åœ¨æœ¬åœ°ï¼Œè¯»å–å†…å­˜æ¯”è¯»å–ç¡¬ç›˜é€Ÿåº¦è¦å¿«</li><li><code>Vuex</code>åº”ç”¨äºç»„ä»¶ä¹‹é—´çš„ä¼ å€¼ï¼Œ<code>localstorage</code>ä¸»è¦ç”¨äºä¸åŒé¡µé¢ä¹‹é—´çš„ä¼ é€’</li><li><code>Vuex</code>æ˜¯å“åº”å¼çš„ï¼Œ<code>localstorage</code>éœ€è¦åˆ·æ–°</li></ul><h4 id="è·¯ç”±å®ˆå«"><a class="markdownIt-Anchor" href="#è·¯ç”±å®ˆå«"></a> è·¯ç”±å®ˆå«</h4><ul><li>å…¨å±€å‰ç½®é’©å­ï¼š<code>beforeEach</code>ã€<code>beforeResolve</code>ã€<code>afterEach</code></li><li>è·¯ç”±ç‹¬äº«å®ˆå«ï¼š<code>beforeEnter</code></li><li>ç»„ä»¶å†…é’©å­ï¼š<code>beforeRouterEnter</code>ã€<code>beforeRouterUpdate</code>ã€<code>beforeRouterLeave</code></li></ul><h4 id="hashå’Œhistoryçš„åŒºåˆ«"><a class="markdownIt-Anchor" href="#hashå’Œhistoryçš„åŒºåˆ«"></a> hashå’Œhistoryçš„åŒºåˆ«</h4><h5 id="hash"><a class="markdownIt-Anchor" href="#hash"></a> hash</h5><p>hashæ¨¡å¼æ˜¯vueå¼€å‘ä¸­çš„é»˜è®¤æ¨¡å¼ï¼Œåœ°å€æ URLæºå¸¦<code>#</code>ï¼Œ<code>#</code>åä¸ºè·¯ç”±ã€‚</p><p>åŸç†æ˜¯é€šè¿‡<code>onhashchange()</code>äº‹ä»¶ç›‘å¬è·¯ç”±<code>hash</code>çš„å˜åŒ–ï¼Œè¿™ä¸ªå¥½å¤„å°±æ˜¯å½“<code>hash</code>å€¼å‘ç”Ÿå˜åŒ–ï¼Œä¸éœ€è¦å‘åç«¯å‘èµ·è¯·æ±‚ï¼Œ<code>window</code>å°±å¯ä»¥ç›‘å¬äº‹ä»¶çš„æ”¹å˜ï¼Œå¹¶æŒ‰ç…§è§„åˆ™åŠ è½½é¡¹å¯¹åº”çš„ä»£ç ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œ<code>hash</code>å€¼çš„å˜åŒ–å¯¹åº”çš„<code>URL</code>éƒ½ä¼šè¢«æµè§ˆå™¨è®°å½•ä¸‹æ¥ï¼Œè¿™æ ·å°±èƒ½å®ç°æµè§ˆå™¨å†å²é¡µé¢çš„å‰è¿›åé€€ã€‚</p><h5 id="history"><a class="markdownIt-Anchor" href="#history"></a> history</h5><p>vueè¿˜æä¾›<code>history</code>æ¨¡å¼ï¼Œåœ¨<code>history</code>æ¨¡å¼ä¸‹URLä¸­æ²¡æœ‰<code>#</code>ï¼Œç›¸æ¯”hashæ¨¡å¼æ›´åŠ å¥½çœ‹ã€‚ä½†æ˜¯éœ€è¦åå°é…ç½®æ”¯æŒã€‚</p><p><code>history</code>çš„åŸç†æ˜¯åˆ©ç”¨<code>HTML5ä¸­hostory</code>æä¾›çš„<code>pushState</code>ã€<code>replaceState</code>è¿™ä¸¤ä¸ªAPIï¼Œè¿™ä¸¤ä¸ªAPIè®°å½•äº†æµè§ˆå™¨å†å²æ ˆï¼Œå¹¶ä¸”å½“åœ¨ä¿®æ”¹<code>URL</code>æ—¶ä¸ä¼šè§¦å‘é¡µé¢åˆ·æ–°å’Œåå°è¯·æ±‚ã€‚</p><h4 id="åŠ¨æ€è·¯ç”±"><a class="markdownIt-Anchor" href="#åŠ¨æ€è·¯ç”±"></a> åŠ¨æ€è·¯ç”±</h4><h5 id="å®šä¹‰æ–¹å¼"><a class="markdownIt-Anchor" href="#å®šä¹‰æ–¹å¼"></a> å®šä¹‰æ–¹å¼</h5><ul><li>paramsä¼ å‚<ul><li>è·¯ç”±é…ç½®ï¼š <code>/index/:id</code></li><li>è·¯ç”±è·³è½¬ï¼š<code>this.$router.push(&#123;name: 'index', params: &#123;id: &quot;zs&quot;&#125;&#125;);</code></li><li>è·¯ç”±å‚æ•°è·å–ï¼š<code>this.params.id</code></li><li>æœ€åå½¢æˆçš„è·¯ç”±ï¼š<code>/index/zs</code></li></ul></li><li>queryä¼ å‚<ul><li>è·¯ç”±é…ç½®ï¼š<code>/index</code>æ­£å¸¸çš„è·¯ç”±é…ç½®</li><li>è·¯ç”±è·³è½¬ï¼š<code>this.$rouetr.push(&#123;path: 'index', query:&#123;id: &quot;zs&quot;&#125;&#125;);</code></li><li>è·¯ç”±å‚æ•°è·å–ï¼š<code>this.query.id</code></li><li>æœ€åå½¢æˆçš„è·¯ç”±ï¼š<code>/index?id=zs</code></li></ul></li></ul><h5 id="router-å’Œroute"><a class="markdownIt-Anchor" href="#router-å’Œroute"></a> <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mi>o</mi><mi>u</mi><mi>t</mi><mi>e</mi><mi>r</mi><mtext>å’Œ</mtext></mrow><annotation encoding="application/x-tex">router å’Œ</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">o</span><span class="mord mathnormal">u</span><span class="mord mathnormal">t</span><span class="mord mathnormal">e</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord cjk_fallback">å’Œ</span></span></span></span>route</h5><ul><li><code>$router</code>æ˜¯æŒ‡æ•´ä¸ªè·¯ç”±å¯¹è±¡ï¼Œå¯ä»¥ä½¿ç”¨<code>this.$router.push(&#123;name: ;index'&#125;)</code>è¿›è¡Œé¡µé¢è·³è½¬</li><li><code>$route</code>æ—¶æŒ‡å½“å‰é¡µé¢çš„è·¯ç”±å¯¹è±¡ï¼Œå¯ä»¥ä½¿ç”¨<code>this.$route.parmas.id</code>æ¥è·å–å½“å‰è·¯ç”±å¯¹è±¡ä¼ é€’è¿›æ¥çš„å‚æ•°</li></ul><h4 id="vueæ€§èƒ½ä¼˜åŒ–"><a class="markdownIt-Anchor" href="#vueæ€§èƒ½ä¼˜åŒ–"></a> Vueæ€§èƒ½ä¼˜åŒ–</h4><h3 id="åŸç†çŸ¥è¯†"><a class="markdownIt-Anchor" href="#åŸç†çŸ¥è¯†"></a> åŸç†çŸ¥è¯†</h3><h4 id="åŒå‘ç»‘å®šåŸç†"><a class="markdownIt-Anchor" href="#åŒå‘ç»‘å®šåŸç†"></a> åŒå‘ç»‘å®šåŸç†</h4><p>dataåœ¨åˆå§‹åŒ–çš„æ—¶å€™ï¼Œä¼šå®ä¾‹åŒ–ä¸€ä¸ª<code>Observe</code>ç±»ï¼Œåœ¨å®ƒä¼šå°†dataæ•°æ®è¿›è¡Œé€’å½’éå†ï¼Œå¹¶ä¸”é€šè¿‡<code>definereactive</code>æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•é€šè¿‡<code>Object.defineProperty</code>æ–¹æ³•ï¼Œç»™æ¯ä¸ªå€¼æ·»åŠ ä¸Šä¸€ä¸ª<code>getter</code>å’Œä¸€ä¸ª<code>setter</code>ã€‚åœ¨æ•°æ®è¯»å–çš„æ—¶å€™ä¼šè§¦å‘getterè¿›è¡Œä¾èµ–ï¼ˆWatcherï¼‰æ”¶é›†ï¼Œå½“æ•°æ®æ”¹å˜æ—¶ï¼Œä¼šè§¦å‘<code>setter</code>ï¼Œå¯¹åˆšåˆšæ”¶é›†çš„ä¾èµ–è¿›è¡Œè§¦å‘ï¼Œå¹¶ä¸”æ›´æ–°<code>watcher</code>é€šçŸ¥è§†å›¾è¿›è¡Œæ¸²æŸ“ã€‚</p><h4 id="ä¾èµ–æ”¶é›†"><a class="markdownIt-Anchor" href="#ä¾èµ–æ”¶é›†"></a> ä¾èµ–æ”¶é›†</h4><p>ä¾èµ–æ”¶é›†å‘ç”Ÿåœ¨<code>defineReactive()</code>æ–¹æ³•ä¸­ï¼Œåœ¨æ–¹æ³•å†…<code>new Dep()</code>å®ä¾‹åŒ–ä¸€ä¸ª<code>Dep()</code>å®ä¾‹ï¼Œç„¶ååœ¨<code>getter</code>ä¸­é€šè¿‡<code>dep.depend()</code>æ–¹æ³•å¯¹æ•°æ®ä¾èµ–è¿›è¡Œæ”¶é›†ï¼Œç„¶ååœ¨<code>settter</code>ä¸­é€šè¿‡<code>dep.notify()</code>é€šçŸ¥æ›´æ–°ã€‚æ•´ä¸ª<code>Dep</code>å…¶å®å°±æ˜¯ä¸€ä¸ªè§‚å¯Ÿè€…ï¼Œå§æ”¶é›†çš„ä¾èµ–å­˜å‚¨èµ·æ¥ï¼Œåœ¨éœ€è¦çš„æ—¶å€™è¿›è¡Œè°ƒç”¨ã€‚åœ¨æ”¶é›†æ•°æ®ä¾èµ–çš„æ—¶å€™ï¼Œä¼šä¸ºæ•°æ®åˆ›å»ºä¸€ä¸ª<code>Watcher</code>ï¼Œå½“æ•°æ®å‘ç”Ÿæ”¹å˜é€šçŸ¥æ¯ä¸ª<code>Watcher</code>ï¼Œç”±<code>Wathcer</code>è¿›è¡Œæ›´æ–°æ¸²æŸ“ã€‚</p><h4 id="objectdefinepropertyæ•°æ®åŠ«æŒç¼ºé™·"><a class="markdownIt-Anchor" href="#objectdefinepropertyæ•°æ®åŠ«æŒç¼ºé™·"></a> Object.defineProperty()æ•°æ®åŠ«æŒç¼ºé™·</h4><p>è¯¥æ–¹æ³•åªèƒ½ç›‘å¬åˆ°æ•°æ®çš„ä¿®æ”¹ï¼Œç›‘å¬ä¸åˆ°æ•°æ®çš„æ–°å¢å’Œåˆ é™¤ã€‚vue2ä¸­ä¼šå¯¹æ•°ç»„çš„æ–°å¢åˆ é™¤æ–¹æ³•<code>pushã€popã€shiftã€unshiftã€spliceã€sortã€reserve</code>é€šè¿‡é‡å†™çš„å½¢å¼ï¼Œåœ¨æ‹¦æˆªé‡Œé¢è¿›è¡Œæ‰‹åŠ¨æ”¶é›†è§¦å‘ä¾èµ–æ›´æ–°ã€‚</p><p>åœ¨vue2ä¸­ï¼Œéœ€è¦æ•°æ®é‡Œæ·»åŠ æˆ–åˆ é™¤æ—¶ï¼Œä½¿ç”¨<code>vue.$set/vue.$delete</code>è¿›è¡Œæ“ä½œã€‚</p><p>åœ¨Vue3ä¸­ï¼Œæ”¹ç”¨<code>proxy</code>å¯¹å¯¹è±¡è¿›è¡Œä»£ç†ï¼Œè¿”å›ä¸€ä¸ªä»£ç†å¯¹è±¡ï¼Œåªéœ€è¦æ“ä½œæ–°å¯¹è±¡å°±å¯ä»¥ã€‚</p><h4 id="åŒå‘ç»‘å®šåŸç†-2"><a class="markdownIt-Anchor" href="#åŒå‘ç»‘å®šåŸç†-2"></a> åŒå‘ç»‘å®šåŸç†</h4><p>VueåŒå‘ç»‘å®šæ˜¯ä¸€ä¸ªæŒ‡ä»¤<code>v-model</code>ï¼Œå¯ä»¥å°†æ•°æ®åŠ¨æ€ç»‘å®šåˆ°è§†å›¾ä¸Šï¼ŒåŒæ—¶è§†å›¾ä¸­å˜åŒ–ä¹Ÿå¯ä»¥æ”¹å˜æ”¹å€¼ã€‚ä»–çš„æœ¬è´¨æ˜¯ <code>v-bind</code> å’Œ <code>v-on</code> çš„è¯­æ³•ç³–ã€‚åœ¨ â¼€ä¸ªç»„ä»¶ä¸Šä½¿â½¤ <code>v-model </code>ï¼Œé»˜è®¤ä¼šä¸ºç»„ä»¶ç»‘å®šåä¸º <code>value </code>çš„ prop å’Œåä¸º <code>input </code>çš„äº‹ä»¶ã€‚</p><h4 id="nexttickçš„å®ç°"><a class="markdownIt-Anchor" href="#nexttickçš„å®ç°"></a> nextTickçš„å®ç°</h4><p>vueä¸­çš„<code>nextTick</code>æ˜¯æµè§ˆå™¨<code>eventLoop</code>æ˜¯åº”ç”¨ã€‚<code>nextTick</code>æ˜¯å°†å›è°ƒå‡½æ•°æ”¾åˆ°ä¸€ä¸ªå¼‚æ­¥é˜Ÿåˆ—ä¸­ï¼Œä¿è¯åœ¨å¼‚æ­¥æ›´æ–°DOMçš„<code>watcher</code>åé¢ï¼Œä»è€Œè·å–åˆ°æ›´æ–°åçš„DOMã€‚</p><p>Vueåœ¨æ›´æ–°DOMæ—¶æ˜¯å¼‚æ­¥æ‰§è¡Œçš„ã€‚åªè¦ä¾¦å¬åˆ°æ•°æ®å˜åŒ–ï¼Œ<code>Vue</code>å°†å¼€å¯1ä¸ªé˜Ÿåˆ—ï¼Œå¹¶ç¼“å†²åœ¨åŒä¸€äº‹ä»¶å¾ªç¯ä¸­å‘ç”Ÿçš„æ‰€æœ‰æ•°æ®å˜æ›´ã€‚å¦‚æœåŒä¸€ä¸ª<code>watcher</code>è¢«å¤šæ¬¡è§¦å‘ï¼Œåªä¼šè¢«æ¨å…¥åˆ°é˜Ÿåˆ—ä¸­ä¸€æ¬¡ã€‚è¿™ç§åœ¨ç¼“å†²æ—¶å»é™¤é‡å¤æ•°æ®å¯¹äºé¿å…ä¸å¿…è¦çš„è®¡ç®—å’Œ<code>DOM</code>æ“ä½œæ˜¯éå¸¸é‡è¦çš„ã€‚<code>nextTick</code>æ–¹æ³•ä¼šåœ¨é˜Ÿåˆ—ä¸­åŠ å…¥ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œç¡®ä¿è¯¥å‡½æ•°åœ¨å‰é¢çš„domæ“ä½œå®Œæˆåæ‰è°ƒç”¨ï¼›</p><h4 id="æ€ä¹ˆç†è§£-vue-ä¸­çš„è™šæ‹Ÿ-dom"><a class="markdownIt-Anchor" href="#æ€ä¹ˆç†è§£-vue-ä¸­çš„è™šæ‹Ÿ-dom"></a> æ€ä¹ˆç†è§£ vue ä¸­çš„è™šæ‹Ÿ DOM</h4><p>è™šæ‹ŸDOMï¼Œå°±æ˜¯ç”¨ä¸€ä¸ª<code>JS</code>å¯¹è±¡æ¥æè¿°ä¸€ä¸ª<code>DOM</code>èŠ‚ç‚¹ã€‚<code>Vue</code>æ˜¯æ•°æ®é©±åŠ¨è§†å›¾çš„ï¼Œæ•°æ®å‘ç”Ÿå˜åŒ–è§†å›¾å°±è¦éšä¹‹æ›´æ–°ï¼Œåœ¨æ›´æ–°è§†å›¾çš„æ—¶å€™éš¾å…è¦æ“ä½œ<code>DOM</code>,è€Œæ“ä½œçœŸå®<code>DOM</code>åˆæ˜¯éå¸¸è€—è´¹æ€§èƒ½çš„ï¼Œè¿™æ˜¯å› ä¸ºæµè§ˆå™¨çš„æ ‡å‡†å°±æŠŠ <code>DOM</code> è®¾è®¡çš„éå¸¸å¤æ‚ï¼Œæ‰€ä»¥ä¸€ä¸ªçœŸæ­£çš„ <code>DOM</code> å…ƒç´ æ˜¯éå¸¸åºå¤§çš„ã€‚<code>VNode</code>ç±»ä¸­åŒ…å«äº†æè¿°ä¸€ä¸ªçœŸå®<code>DOM</code>èŠ‚ç‚¹æ‰€éœ€è¦çš„ä¸€ç³»åˆ—å±æ€§ï¼Œ<code>tag</code>è¡¨ç¤ºèŠ‚ç‚¹çš„æ ‡ç­¾åï¼Œ<code>text</code>è¡¨ç¤ºèŠ‚ç‚¹ä¸­åŒ…å«çš„æ–‡æœ¬ï¼Œ<code>children</code>è¡¨ç¤ºè¯¥èŠ‚ç‚¹åŒ…å«çš„å­èŠ‚ç‚¹ç­‰ã€‚</p><h4 id="æ¨¡ç‰ˆç¼–è¯‘åŸç†"><a class="markdownIt-Anchor" href="#æ¨¡ç‰ˆç¼–è¯‘åŸç†"></a> æ¨¡ç‰ˆç¼–è¯‘åŸç†</h4><p>æ¨¡ç‰ˆç¼–è¯‘ä¸»è¦è¿‡ç¨‹ï¼š<code>template ---&gt; ast ---&gt; render</code>ï¼Œåˆ†åˆ«å¯¹è±¡ä¸‰ä¸ªæ–¹æ³•</p><ul><li><code>parse</code> å‡½æ•°è§£æ <code>template</code></li><li><code>optimize</code> å‡½æ•°ä¼˜åŒ–é™æ€å†…å®¹</li><li><code>generate</code> å‡½æ•°åˆ›å»º <code>render</code> å‡½æ•°å­—ç¬¦ä¸²</li></ul><p>è°ƒç”¨<code>parse</code>æ–¹æ³•ï¼Œå°†<code>template</code>è½¬åŒ–ä¸º<code>AST</code>ï¼ˆæŠ½è±¡è¯­æ³•æ ‘ï¼‰ï¼Œ<code>AST</code>å®šä¹‰äº†ä¸‰ç§ç±»å‹ï¼Œä¸€ç§<code>html</code>æ ‡ç­¾ï¼Œä¸€ç§æ–‡æœ¬ï¼Œä¸€ç§æ’å€¼è¡¨è¾¾å¼ï¼Œå¹¶ä¸”é€šè¿‡ <code>children</code> è¿™ä¸ªå­—æ®µå±‚å±‚åµŒå¥—å½¢æˆäº†æ ‘çŠ¶çš„ç»“æ„ã€‚</p><p><code>optimize</code>æ–¹æ³•å¯¹<code>AST</code>æ ‘è¿›è¡Œé™æ€å†…å®¹ä¼˜åŒ–ï¼Œåˆ†æå‡ºå“ªäº›æ˜¯é™æ€èŠ‚ç‚¹ï¼Œç»™å…¶æ‰“ä¸€ä¸ªæ ‡è®°ï¼Œä¸ºåç»­æ›´æ–°æ¸²æŸ“å¯ä»¥ç›´æ¥è·³è¿‡é™æ€èŠ‚ç‚¹åšä¼˜åŒ–ã€‚</p><p><code>generate</code>å°†<code>AST</code>æŠ½è±¡è¯­æ³•æ ‘ç¼–è¯‘æˆ <code>render</code>å­—ç¬¦ä¸²ï¼Œæœ€åé€šè¿‡<code>new Function(render)</code>ç”Ÿæˆå¯æ‰§è¡Œçš„<code>render</code>å‡½æ•°</p><h4 id="diffç®—æ³•é€»è¾‘"><a class="markdownIt-Anchor" href="#diffç®—æ³•é€»è¾‘"></a> diffç®—æ³•é€»è¾‘</h4><p><code>diff</code>ç®—æ³•å‘ç”Ÿåœ¨è§†å›¾æ›´æ–°é˜¶æ®µï¼Œä¹Ÿå°±æ˜¯å½“æ•°æ®å‘ç”Ÿå˜åŒ–çš„æ—¶å€™ï¼Œ<code>diff</code>ä¼šå¯¹æ–°å°±è™šæ‹ŸDOMè¿›è¡Œå¯¹æ¯”ï¼Œåªæ¸²æŸ“æœ‰å˜åŒ–çš„éƒ¨åˆ†ã€‚</p><p>å½“æ•°æ®å‘ç”Ÿå˜åŒ–çš„æ—¶å€™ï¼Œä¾èµ–å¯¹åº”çš„<code>watcher</code>ä¼šé€šçŸ¥æ›´æ–°ï¼Œç”Ÿæˆä¸€ä¸ªæ–°çš„<code>vnode</code>ï¼Œæ–°çš„<code>vnode</code>ä¼šå»å’Œæ—§çš„<code>vnode</code>è¿›è¡Œå¯¹æ¯”æ›´æ–°ã€‚</p><p>æ•´ä¸ªæ›´æ–°çš„è¿‡ç¨‹å°±æ˜¯è°ƒç”¨pathå‡½æ•°ï¼Œä¸»è¦åšäº†ä¸‰ä»¶äº‹ï¼š</p><ul><li>åˆ›å»ºèŠ‚ç‚¹ï¼šæ–°çš„<code>vnode</code>ä¸­æœ‰è€Œæ—§çš„<code>vnode</code>ä¸­çš„èŠ‚ç‚¹ï¼Œåœ¨æ—§<code>vnode</code>ä¸­è¿›è¡Œåˆ›å»º</li><li>åˆ é™¤èŠ‚ç‚¹ï¼šæ–°çš„<code>vnode</code>ä¸­æ²¡æœ‰äºŒæ—§çš„<code>vnode</code>ä¸­æœ‰ï¼Œåœ¨æ—§çš„<code>vnode</code>ä¸­åˆ é™¤</li><li>æ›´æ–°èŠ‚ç‚¹ï¼šæ–°çš„<code>vnode</code>å’Œæ—§çš„<code>vnode</code>ä¸­éƒ½æœ‰ï¼Œä»¥æ–°çš„<code>vnode</code>ä½ä¸»ï¼Œæ›´æ–°æ—§çš„<code>vnode</code></li></ul><h4 id="new-vueçš„æµç¨‹"><a class="markdownIt-Anchor" href="#new-vueçš„æµç¨‹"></a> new Vueçš„æµç¨‹</h4><p>åˆå¹¶é…ç½®ï¼Œè°ƒç”¨ä¸€äº›åˆå§‹åŒ–å‡½æ•°ï¼Œè§¦å‘ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°ï¼Œè°ƒç”¨<code>$mount</code>å¼€å¯ä¸‹ä¸€ä¸ªé˜¶æ®µã€‚</p><h4 id="keep-liveåŸç†"><a class="markdownIt-Anchor" href="#keep-liveåŸç†"></a> keep-liveåŸç†</h4><p><code>keep-alive</code>æ˜¯Vue.jsçš„ä¸€ä¸ªå†…ç½®ç»„ä»¶ã€‚å®ƒèƒ½å¤Ÿå°†ä¸æ´»åŠ¨çš„ç»„ä»¶å®ä¾‹ä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œè€Œä¸æ˜¯ç›´æ¥å°†å…¶é”€æ¯ï¼Œå®ƒæ˜¯ä¸€ä¸ªæŠ½è±¡ç»„ä»¶ï¼Œä¸ä¼šè¢«æ¸²æŸ“åˆ°çœŸå®DOMä¸­ï¼Œä¹Ÿä¸ä¼šå‡ºç°åœ¨çˆ¶ç»„ä»¶é“¾ä¸­ã€‚</p><p>é€šè¿‡<code>includeã€exclude</code>æ¥åŒ¹é…å’Œæ’é™¤ç¼“å­˜ï¼Œ<code>max</code>å®šä¹‰ç¼“å­˜çš„ä¸Šé™ã€‚</p><p><code>keep-alive</code>å†…éƒ¨å…¶å®æ˜¯ä¸€ä¸ªå‡½æ•°å¼ç»„ä»¶ï¼Œæ²¡æœ‰<code>template</code>æ ‡ç­¾ã€‚åœ¨<code>render</code>ä¸­é€šè¿‡è·å–ç»„ä»¶çš„<code>name</code>å’Œ<code>includeã€exclude</code>è¿›è¡ŒåŒ¹é…ã€‚åŒ¹é…ä¸æˆåŠŸï¼Œåˆ™ä¸éœ€è¦è¿›è¡Œç¼“å­˜ï¼Œç›´æ¥è¿”å›è¯¥ç»„ä»¶çš„Vnodeã€‚</p><p>åŒ¹é…æˆåŠŸå°±è¿›è¡Œç¼“å­˜ï¼Œè·å–ç»„ä»¶çš„<code>key</code>åœ¨<code>this.cache</code>ä¸­è¿›è¡ŒæŸ¥æ‰¾ï¼Œå¦‚æœå­˜åœ¨å°±ç›´æ¥å°†ç¼“å­˜çš„ç»„ä»¶å®ä¾‹è¦†ç›–åˆ°å½“å‰çš„Vnodeä¸Šï¼Œç„¶åå°†å½“å‰ç»„ä»¶çš„<code>key</code>ä»<code>keys</code>ä¸­è¿›è¡Œåˆ é™¤ï¼Œç„¶ååœ¨<code>push(key)</code>æ·»åŠ åˆ°å°¾éƒ¨ï¼Œè¿™æ ·åšæ˜¯ä¸ºäº†æ”¹å˜<code>key</code>å½“å‰çš„ä½ç½®ï¼Œä¹Ÿå°±å®ç°äº†<code>max</code>åŠŸèƒ½ã€‚</p><p>ä¸å­˜åœ¨çš„è¯ï¼Œå°±éœ€è¦å¯¹ç»„ä»¶è¿›è¡Œç¼“å­˜ã€‚å°†å½“å‰ç»„ä»¶<code>push(key)</code>æ·»åŠ åˆ°å°¾éƒ¨ï¼Œç„¶åå†åˆ¤æ–­å½“å‰ç¼“å­˜çš„maxæ˜¯å¦è¶…å‡ºæŒ‡å®šä¸ªæ•°ï¼Œå¦‚æœè¶…å‡ºç›´æ¥å°†ç¬¬ä¸€ä¸ªç»„ä»¶é”€æ¯ï¼ˆç¼“å­˜æ·˜æ±°ç­–ç•¥LRUï¼‰ã€‚</p><blockquote><p>LRUï¼ˆ<strong>Least recently used</strong>ï¼Œæœ€è¿‘æœ€å°‘ä½¿ç”¨ï¼‰ç®—æ³•æ ¹æ®æ•°æ®çš„å†å²è®¿é—®è®°å½•æ¥è¿›è¡Œæ·˜æ±°æ•°æ®ï¼Œå…¶æ ¸å¿ƒæ€æƒ³æ˜¯â€œå¦‚æœæ•°æ®æœ€è¿‘è¢«è®¿é—®è¿‡ï¼Œé‚£ä¹ˆå°†æ¥è¢«è®¿é—®çš„å‡ ç‡ä¹Ÿæ›´é«˜â€ã€‚</p></blockquote><h2 id="æ€§èƒ½ä¼˜åŒ–"><a class="markdownIt-Anchor" href="#æ€§èƒ½ä¼˜åŒ–"></a> æ€§èƒ½ä¼˜åŒ–</h2><h3 id="ç½‘ç«™ä¼˜åŒ–"><a class="markdownIt-Anchor" href="#ç½‘ç«™ä¼˜åŒ–"></a> ç½‘ç«™ä¼˜åŒ–</h3><ul><li>ä½¿ç”¨æµè§ˆå™¨ç¼“å­˜æœºåˆ¶</li><li>èµ„æºæ‡’åŠ è½½ã€é¢„åŠ è½½</li><li>éª¨æ¶å±</li><li>åˆç†ä½¿ç”¨é›ªç¢§å›¾ã€å­—ä½“å›¾æ ‡ã€</li></ul><h3 id="ä»£ç ä¼˜åŒ–"><a class="markdownIt-Anchor" href="#ä»£ç ä¼˜åŒ–"></a> ä»£ç ä¼˜åŒ–</h3><ul><li>å‡å°‘å›æµé‡ç»˜</li><li>å‡å°‘DOMçš„æ“ä½œ</li><li>èŠ‚æµé˜²æŠ–</li><li>ä½¿ç”¨äº‹ä»¶å§”æ‰˜</li><li>å°†CSSæ–‡ä»¶æ”¾åœ¨å¤´éƒ¨ã€jsæ–‡ä»¶æ”¾åœ¨åº•éƒ¨</li></ul><h3 id="è¯·æ±‚ä¼˜åŒ–"><a class="markdownIt-Anchor" href="#è¯·æ±‚ä¼˜åŒ–"></a> è¯·æ±‚ä¼˜åŒ–</h3><ul><li>ä½¿ç”¨CDNåŠ é€Ÿ</li><li>å¼€å¯nginxï¼ŒGzipå‹ç¼©</li><li>ä½¿ç”¨å¼ºç¼“å­˜ã€åå•†ç¼“å­˜</li><li>å‡å°‘ã€åˆå¹¶è¯·æ±‚</li></ul><h3 id="webpackä¼˜åŒ–"><a class="markdownIt-Anchor" href="#webpackä¼˜åŒ–"></a> webpackä¼˜åŒ–</h3><ul><li>æŒ‰éœ€åŠ è½½</li><li>ä»£ç æ‰“åŒ…ä½“ç§¯å‹ç¼©</li><li>ç§»é™¤console</li><li>å‹ç¼©å›¾ç‰‡ã€å­—ä½“ç­‰æœ¬åœ°èµ„æº</li><li>åˆ†ç¦»cssæ–‡ä»¶ï¼Œå•ç‹¬è¿›è¡Œæ‰“åŒ…</li></ul><h2 id="æµè§ˆå™¨ç›¸å…³"><a class="markdownIt-Anchor" href="#æµè§ˆå™¨ç›¸å…³"></a> æµè§ˆå™¨ç›¸å…³</h2><h3 id="è·¨åŸŸ"><a class="markdownIt-Anchor" href="#è·¨åŸŸ"></a> è·¨åŸŸ</h3><p>æµè§ˆå™¨çš„åŒæºç­–ç•¥ä¼šå¯¼è‡´è·¨åŸŸé—®é¢˜</p><h4 id="åŒæºç­–ç•¥"><a class="markdownIt-Anchor" href="#åŒæºç­–ç•¥"></a> åŒæºç­–ç•¥</h4><p>åŒæºæŒ‡çš„æ˜¯ï¼š<strong>åè®®</strong>ã€<strong>ç«¯å£å·</strong>ã€<strong>åŸŸå</strong>å¿…é¡»ä¸€è‡´ã€‚</p><p>åŒæºç­–ç•¥çš„ç›®çš„ä¸»è¦æ˜¯ä¸ºäº†ä¿è¯ç”¨æˆ·çš„ä¿¡æ¯å®‰å…¨ï¼Œå®ƒåªæ˜¯å¯¹ js è„šæœ¬çš„ä¸€ç§é™åˆ¶ï¼Œå¹¶ä¸æ˜¯å¯¹æµè§ˆå™¨çš„é™åˆ¶ï¼Œå¯¹äºä¸€èˆ¬çš„ imgã€æˆ–è€…script è„šæœ¬è¯·æ±‚éƒ½ä¸ä¼šæœ‰è·¨åŸŸçš„é™åˆ¶ï¼Œè¿™æ˜¯å› ä¸ºè¿™äº›æ“ä½œéƒ½ä¸ä¼šé€šè¿‡å“åº”ç»“æœæ¥è¿›è¡Œå¯èƒ½å‡ºç°å®‰å…¨é—®é¢˜çš„æ“ä½œ</p><h4 id="è§£å†³è·¨åŸŸé—®é¢˜"><a class="markdownIt-Anchor" href="#è§£å†³è·¨åŸŸé—®é¢˜"></a> è§£å†³è·¨åŸŸé—®é¢˜</h4><ul><li>CORSï¼šæœåŠ¡å™¨å¼€å¯è·¨åŸŸèµ„æºå…±äº«</li><li>JSONPï¼šåˆ©ç”¨JavaScriptæ ‡ç­¾ä¸å­˜åœ¨è·¨åŸŸé™åˆ¶ï¼Œåªæ”¯æŒGETè¯·æ±‚</li><li>Nginxï¼šåå‘ä»£ç†</li></ul><h3 id="æœ¬åœ°å­˜å‚¨"><a class="markdownIt-Anchor" href="#æœ¬åœ°å­˜å‚¨"></a> æœ¬åœ°å­˜å‚¨</h3><h4 id="cookie"><a class="markdownIt-Anchor" href="#cookie"></a> Cookie</h4><ul><li>å­˜å‚¨å°ï¼Œåªæœ‰4k</li><li>ä¸åŒåŸŸä¹‹é—´ä¸èƒ½å…±äº«</li><li>ä¸å®‰å…¨ï¼Œå®¹æ˜“è¢«æ‹¦æˆª</li></ul><h4 id="sessionstorage"><a class="markdownIt-Anchor" href="#sessionstorage"></a> SessionStorage</h4><ul><li>å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œä½“ç§¯ç›¸å¯¹è¾ƒå¤§</li><li>é¡µé¢å…³é—­ï¼Œæ•°æ®ä¼šåˆ é™¤</li><li>ç›¸å¯¹Cookieå®‰å…¨</li></ul><h4 id="localstorage"><a class="markdownIt-Anchor" href="#localstorage"></a> LocalStorage</h4><ul><li>ä½“ç§¯å¤§ï¼Œå¯ä»¥å­˜å‚¨æ›´å¤šå†…å®¹</li><li>ç”Ÿå‘½å‘¨æœŸé•¿ï¼Œéœ€è¦æ‰‹åŠ¨åˆ é™¤</li><li>å­˜å‚¨åœ¨ç¡¬ç›˜ï¼Œä¸ä¼šåƒcookieä¸€æ ·è¢«è¯·æ±‚æºå¸¦</li></ul><h3 id="ä»è¾“å…¥ä¸€ä¸ª-url-åœ°å€åˆ°æµè§ˆå™¨å®Œæˆæ¸²æŸ“çš„æ•´ä¸ªè¿‡ç¨‹"><a class="markdownIt-Anchor" href="#ä»è¾“å…¥ä¸€ä¸ª-url-åœ°å€åˆ°æµè§ˆå™¨å®Œæˆæ¸²æŸ“çš„æ•´ä¸ªè¿‡ç¨‹"></a> ä»è¾“å…¥ä¸€ä¸ª URL åœ°å€åˆ°æµè§ˆå™¨å®Œæˆæ¸²æŸ“çš„æ•´ä¸ªè¿‡ç¨‹</h3><ol><li>æµè§ˆå™¨è¾“å…¥<code>URL</code>å¹¶å›è½¦</li><li>æµè§ˆå™¨æŸ¥æ‰¾å½“å‰æ˜¯å¦æœ‰ç¼“å­˜</li><li><code>DNS</code>è§£æ<code>URL</code>å¾—åˆ°<code>IP</code><ol><li>æµè§ˆå™¨<code>DNS</code>ç¼“å­˜</li><li><code>host</code>æ–‡ä»¶ç¼“å­˜</li></ol></li><li>å»ºç«‹<code>TCP</code>è¿æ¥ï¼ˆä¸‰æ¬¡æ¡æ‰‹ï¼‰</li><li>å‘é€<code>HTTP</code>è¯·æ±‚</li><li>æœåŠ¡å™¨å¤„ç†è¯·æ±‚ï¼Œæµè§ˆå™¨å¾—åˆ°å“åº”æ•°æ®</li><li>æµè§ˆå™¨è§£ææ¸²æŸ“é¡µé¢<ol><li>è§£æ<code>DOM</code>ç”Ÿæˆ<code>DOM</code>æ ‘</li><li>è§£æ<code>CSS</code>ç”Ÿæˆ<code>CSS</code>æ ‘</li><li>åˆå¹¶<code>DOM</code>æ ‘å’Œ<code>CSS</code>æ ‘ï¼Œç”Ÿæˆæ¸²æŸ“æ ‘</li><li>æµè§ˆå™¨å¼€å§‹æ¸²æŸ“é¡µé¢ï¼ˆå›æµé‡ç»˜å‘ç”Ÿåœ¨è¿™ä¸ªé˜¶æ®µï¼‰</li></ol></li><li><code>TCP</code>è¿æ¥å…³é—­ï¼ˆå››æ¬¡æŒ¥æ‰‹ï¼‰</li></ol><h2 id="ç½‘ç»œåè®®-å®‰å…¨ç›¸å…³"><a class="markdownIt-Anchor" href="#ç½‘ç»œåè®®-å®‰å…¨ç›¸å…³"></a> ç½‘ç»œåè®®ã€å®‰å…¨ç›¸å…³</h2><h3 id="tcp-udpåè®®"><a class="markdownIt-Anchor" href="#tcp-udpåè®®"></a> TCPã€UDPåè®®</h3><p><code>TCP</code>å’Œ<code>UDP</code>éƒ½æ˜¯åœ¨ä¼ è¾“å±‚å®šä¹‰çš„ä¸¤ç§ä¼ è¾“åè®®ã€‚åŸºäº<code>UDP</code>åè®®ä¼ è¾“ä¸èƒ½ä¿è¯æ•°æ®å‡†ç¡®æ— è¯¯çš„é€è¾¾ï¼Œä½†<code>UDP</code>ä¸ä»…å¯ä»¥æ”¯æŒä¸€å¯¹ä¸€çš„ä¼ è¾“æ–¹å¼ï¼Œè¿˜å¯ä»¥æ”¯æŒä¸€å¯¹ä¸€ã€ä¸€å¯¹å¤šç­‰å½¢å¼ã€‚ä¹Ÿä¸éœ€è¦åƒ<code>TCP</code>ä¸€æ ·å»ºç«‹è¿æ¥ï¼Œæ‰€ä»¥ä¼ è¾“é€Ÿåº¦å¿«ã€‚</p><p><code>TCP</code>çš„ç›®çš„æ˜¯æä¾›å¯é çš„æ•°æ®ï¼Œå¹¶ä¸”éœ€è¦åœ¨ä¼ è¾“å‰å»ºç«‹è¿æ¥ï¼ˆä¸‰æ¬¡æ¡æ‰‹ï¼‰ã€‚åªæ”¯æŒä¸€å¯¹ä¸€è¿›è¡Œä¼ è¾“ã€‚</p><p><strong>åŒºåˆ«ï¼š</strong></p><ul><li><code>TCP</code>åè®®å¯é ï¼Œ<code>UDP</code>åè®®ä¸å¯é </li><li><code>TCP</code>é¢å‘è¿æ¥ï¼Œ<code>UDP</code>é‡‡ç”¨æ— è¿æ¥</li><li><code>TCP</code>å¯ä»¥ä¿è¯æ•°æ®é¡ºåºï¼Œ<code>UDP</code>ä¸èƒ½</li><li><code>TCP</code>ä¸€å¯¹ä¸€ä¼ è¾“ï¼Œ<code>UDP</code>å¯ä»¥ä¸€å¯¹å¤šã€å¤šå¯¹ä¸€ç­‰å½¢å¼</li></ul><h3 id="httpå’ŒhttpsåŒºåˆ«"><a class="markdownIt-Anchor" href="#httpå’ŒhttpsåŒºåˆ«"></a> HTTPå’ŒHTTPSåŒºåˆ«</h3><ul><li><code>HTTP</code>æ˜¯æ˜æ–‡ä¼ è¾“ï¼Œä¸å®‰å…¨ã€‚<code>HTTPS</code>åŸºäº<code>SSL</code>è¿›è¡ŒåŠ å¯†ä¼ è¾“ï¼Œæ¯”è¾ƒå®‰å…¨ã€‚</li><li><code>HTTPS</code>éœ€è¦<code>CA</code>è¯ä¹¦ï¼Œ<code>HTTP</code>ä¸éœ€è¦ã€‚</li><li><code>HTTP</code>ç«¯å£ä¸º<code>80</code>ï¼Œ<code>HTTPS</code>ç«¯å£ä¸º<code>443</code></li></ul><h3 id="httpçŠ¶æ€ç "><a class="markdownIt-Anchor" href="#httpçŠ¶æ€ç "></a> HTTPçŠ¶æ€ç </h3><ul><li>1XX: è¯·æ±‚æ­£åœ¨å¤„ç†</li><li>2XXï¼šæ­£å¸¸çŠ¶æ€ç <ul><li>200 ï¼šè¯·æ±‚å¤„ç†æˆåŠŸ</li><li>201 ï¼š è¯·æ±‚æˆåŠŸå¹¶ä¸”æœåŠ¡å™¨åˆ›å»ºäº†æ–°èµ„æº</li><li>202 ï¼šæœåŠ¡å™¨å·²ç»æ¥æ”¶è¯·æ±‚ï¼Œä½†å°šæœªå¤„ç†</li></ul></li><li>3XXXï¼šé‡å®šå‘çŠ¶æ€<ul><li>301 ï¼šè¯·æ±‚é‡å®šå‘</li><li>302:  ä¸´æ—¶é‡å®šå‘</li><li>303:  ä¸´æ—¶é‡å®šå‘ï¼Œä½¿ç”¨getè¯·æ±‚æ–°çš„url</li><li>304ï¼šæµè§ˆå™¨ç¼“å­˜ç›¸å…³</li></ul></li><li>4XXï¼šé”™è¯¯çŠ¶æ€ç <ul><li>400: æœåŠ¡å™¨æ— æ³•ç†è§£è¯·æ±‚æ ¼å¼ï¼Œéœ€è¦ä¿®æ”¹è¯·æ±‚å†…å®¹åå†æ¬¡å‘èµ·è¯·æ±‚</li><li>401: è¯·æ±‚æœªæˆæƒ</li><li>403: ç¦æ­¢è®¿é—®</li><li>404: æœåŠ¡å™¨ä¸Šæ— æ³•æ‰¾åˆ°è¯·æ±‚èµ„æº</li></ul></li><li>5XXï¼šæœåŠ¡å™¨é”™è¯¯<ul><li>500: æœåŠ¡ç«¯é”™è¯¯</li><li>503: æœåŠ¡å™¨æš‚æ—¶æ— æ³•å¤„ç†è¯·æ±‚</li></ul></li></ul><h3 id="httpä¸‰æ¬¡æ¡æ‰‹-å››æ¬¡æŒ¥æ‰‹"><a class="markdownIt-Anchor" href="#httpä¸‰æ¬¡æ¡æ‰‹-å››æ¬¡æŒ¥æ‰‹"></a> HTTPä¸‰æ¬¡æ¡æ‰‹ã€å››æ¬¡æŒ¥æ‰‹</h3><h4 id="ä¸‰æ¬¡æ¡æ‰‹"><a class="markdownIt-Anchor" href="#ä¸‰æ¬¡æ¡æ‰‹"></a> ä¸‰æ¬¡æ¡æ‰‹</h4><p>ä¸‰æ¬¡æ¡æ‰‹æ˜¯åœ¨å»ºç«‹<code>TCP</code>è¿æ¥æ—¶ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯æ€»å…±å‘é€ä¸‰ä¸ªåŒ…ã€‚è¿›è¡Œä¸‰æ¬¡æ¡æ‰‹çš„ä¸»è¦ç›®çš„å°±æ˜¯ä¸ºäº†ç¡®è®¤åŒæ–¹çš„æ¥å—èƒ½åŠ›å’Œå‘é€èƒ½åŠ›éƒ½æ˜¯æ­£å¸¸çš„ï¼Œä¸ºåé¢ä¼ è¾“å¯é æ•°æ®åšå‡†å¤‡ã€‚</p><p><strong>æŠ¥æ–‡ï¼š</strong></p><ul><li>åºå·ï¼šè¡¨ç¤ºå‘é€çš„æ•°æ®å­—èŠ‚æµï¼Œç¡®ä¿TCPä¼ è¾“æœ‰åºï¼Œå¯¹æ¯ä¸ªå­—èŠ‚ç¼–å·</li><li>ç¡®è®¤åºå·ï¼šå‘é€æ–¹æœŸå¾…æ¥æ”¶çš„ä¸‹ä¸€åºåˆ—å·ï¼Œæ¥æ”¶æˆåŠŸåçš„æ•°æ®å­—èŠ‚åºåˆ—å·åŠ  1ã€‚åªæœ‰<code>ACK=1</code>æ—¶æ‰æœ‰æ•ˆã€‚</li><li><code>ACK</code>ï¼šç¡®è®¤åºå·çš„æ ‡å¿—ï¼Œ<code>ACK=1</code>è¡¨ç¤ºç¡®è®¤å·æœ‰æ•ˆï¼Œ<code>ACK=0</code>è¡¨ç¤ºæŠ¥æ–‡ä¸å«ç¡®è®¤åºå·ä¿¡æ¯</li><li><code>SYN</code>ï¼šè¿æ¥è¯·æ±‚åºå·æ ‡å¿—ï¼Œç”¨äºå»ºç«‹è¿æ¥ï¼Œ<code>SYN=1</code>è¡¨ç¤ºè¯·æ±‚è¿æ¥</li><li><code>FIN</code>ï¼šç»“æŸæ ‡å¿—ï¼Œç”¨äºé‡Šæ”¾è¿æ¥ï¼Œ<code>FIN=1</code>è¡¨ç¤ºå…³é—­æœ¬æ–¹æ•°æ®æµ</li></ul><p><strong>ä¸‰æ¬¡æ¡æ‰‹ï¼š</strong></p><ol><li>ç¬¬ä¸€æ¬¡æ¡æ‰‹ï¼šå®¢æˆ·ç«¯ç»™æœåŠ¡ç«¯å‘ä¸€ä¸ª <code>SYN </code>æŠ¥æ–‡ï¼Œå¹¶æŒ‡æ˜å®¢æˆ·ç«¯çš„åˆå§‹åŒ–åºåˆ—å·<code> ISN</code>ï¼Œæ­¤æ—¶å®¢æˆ·ç«¯å¤„äº <code>SYN_SEND</code> çŠ¶æ€ã€‚</li><li>åŠ¡å™¨æ”¶åˆ°å®¢æˆ·ç«¯çš„<code> SYN</code> æŠ¥æ–‡ä¹‹åï¼Œä¼šä»¥è‡ªå·±çš„<code>SYN</code>æŠ¥æ–‡ä½œä¸ºåº”ç­”ï¼Œå¹¶ä¸”ä¹Ÿæ˜¯æŒ‡å®šäº†è‡ªå·±çš„åˆå§‹åŒ–åºåˆ—å·<code> ISN</code>ã€‚åŒæ—¶ä¼šæŠŠå®¢æˆ·ç«¯çš„ <code>ISN + 1 </code>ä½œä¸º<code>ACK</code>çš„å€¼ï¼Œè¡¨ç¤ºè‡ªå·±å·²ç»æ”¶åˆ°äº†å®¢æˆ·ç«¯çš„<code> SYN</code>ï¼Œæ­¤æ—¶æœåŠ¡å™¨å¤„äº <code>SYN_REVD </code>çš„çŠ¶æ€ã€‚</li><li>å®¢æˆ·ç«¯æ”¶åˆ°<code>SYN</code>æŠ¥æ–‡ä¹‹åï¼Œä¼šå‘é€ä¸€ä¸ª <code>ACK </code>æŠ¥æ–‡ï¼Œå½“ç„¶ï¼Œä¹Ÿæ˜¯ä¸€æ ·æŠŠæœåŠ¡å™¨çš„ <code>ISN + 1 </code>ä½œä¸º <code>ACK </code>çš„å€¼ï¼Œè¡¨ç¤ºå·²ç»æ”¶åˆ°äº†æœåŠ¡ç«¯çš„ <code>SYN </code>æŠ¥æ–‡ï¼Œæ­¤æ—¶å®¢æˆ·ç«¯å¤„äº<code> ESTABLISHED</code> çŠ¶æ€ã€‚æœåŠ¡å™¨æ”¶åˆ° <code>ACK </code>æŠ¥æ–‡ä¹‹åï¼Œä¹Ÿå¤„äº <code>ESTABLISHED çŠ¶</code>æ€ï¼Œæ­¤æ—¶ï¼ŒåŒæ–¹å·²å»ºç«‹èµ·äº†è¿æ¥ã€‚</li></ol><h4 id="å››æ¬¡æŒ¥æ‰‹"><a class="markdownIt-Anchor" href="#å››æ¬¡æŒ¥æ‰‹"></a> å››æ¬¡æŒ¥æ‰‹</h4><ol><li>å®¢æˆ·ç«¯ä¼šå‘é€ä¸€ä¸ª<code>FIN</code>æŠ¥æ–‡ï¼ŒæŠ¥æ–‡ä¸­ä¼šæŒ‡å®šä¸€ä¸ªåºåˆ—å·ã€‚æ­¤æ—¶å®¢æˆ·ç«¯å¤„äº <code>FIN_WAIT1 </code>çŠ¶æ€ã€‚</li><li>æœåŠ¡ç«¯æ”¶åˆ° <code>FIN</code> ä¹‹åï¼Œä¼šå‘é€ <code>ACK</code> æŠ¥æ–‡ï¼Œä¸”æŠŠå®¢æˆ·ç«¯çš„åºåˆ—å·å€¼ +1 ä½œä¸º <code>ACK </code>æŠ¥æ–‡çš„åºåˆ—å·å€¼ï¼Œè¡¨æ˜å·²ç»æ”¶åˆ°å®¢æˆ·ç«¯çš„æŠ¥æ–‡äº†ï¼Œæ­¤æ—¶æœåŠ¡ç«¯å¤„äº<code> CLOSE_WAIT</code> çŠ¶æ€ã€‚</li><li>å¦‚æœæœåŠ¡ç«¯ä¹Ÿæƒ³æ–­å¼€è¿æ¥äº†ï¼Œå’Œå®¢æˆ·ç«¯çš„ç¬¬ä¸€æ¬¡æŒ¥æ‰‹ä¸€æ ·ï¼Œå‘ç»™ <code>FIN </code>æŠ¥æ–‡ï¼Œä¸”æŒ‡å®šä¸€ä¸ªåºåˆ—å·ã€‚æ­¤æ—¶æœåŠ¡ç«¯å¤„äº <code>LAST_ACK </code>çš„çŠ¶æ€ã€‚</li><li>å®¢æˆ·ç«¯æ”¶åˆ°<code> FIN</code> ä¹‹åï¼Œä¸€æ ·å‘é€ä¸€ä¸ª<code>ACK</code>æŠ¥æ–‡ä½œä¸ºåº”ç­”ï¼Œä¸”æŠŠæœåŠ¡ç«¯çš„åºåˆ—å·å€¼ +1 ä½œä¸ºè‡ªå·± <code>ACK </code>æŠ¥æ–‡çš„åºåˆ—å·å€¼ï¼Œæ­¤æ—¶å®¢æˆ·ç«¯å¤„äº <code>TIME_WAIT </code>çŠ¶æ€ã€‚éœ€è¦è¿‡ä¸€é˜µå­ä»¥ç¡®ä¿æœåŠ¡ç«¯æ”¶åˆ°è‡ªå·±çš„ <code>ACK</code> æŠ¥æ–‡ä¹‹åæ‰ä¼šè¿›å…¥ <code>CLOSED </code>çŠ¶æ€ï¼ŒæœåŠ¡ç«¯æ”¶åˆ° <code>ACK </code>æŠ¥æ–‡ä¹‹åï¼Œå°±å¤„äºå…³é—­è¿æ¥äº†ï¼Œå¤„äº <code>CLOSED</code> çŠ¶æ€ã€‚</li></ol><h4 id="ä¸ºä»€ä¹ˆéœ€è¦å››æ¬¡æŒ¥æ‰‹"><a class="markdownIt-Anchor" href="#ä¸ºä»€ä¹ˆéœ€è¦å››æ¬¡æŒ¥æ‰‹"></a> ä¸ºä»€ä¹ˆéœ€è¦å››æ¬¡æŒ¥æ‰‹</h4><p>å› ä¸ºå½“æœåŠ¡ç«¯æ”¶åˆ°å®¢æˆ·ç«¯çš„<code>SYN</code>è¿æ¥è¯·æ±‚æŠ¥æ–‡åï¼Œå¯ä»¥ç›´æ¥å‘é€<code>SYN+ACK</code>æŠ¥æ–‡ã€‚å…¶ä¸­<code>ACK</code>æŠ¥æ–‡æ˜¯ç”¨æ¥åº”ç­”çš„ï¼Œ<code>SYN</code>æŠ¥æ–‡æ˜¯ç”¨æ¥åŒæ­¥çš„ã€‚ä½†æ˜¯å…³é—­è¿æ¥æ—¶ï¼Œå½“æœåŠ¡ç«¯æ”¶åˆ°<code>FIN</code>æŠ¥æ–‡æ—¶ï¼Œå¾ˆå¯èƒ½å¹¶ä¸ä¼šç«‹å³å…³é—­<code>SOCKET</code>ï¼Œæ‰€ä»¥åªèƒ½å…ˆå›å¤ä¸€ä¸ª<code>ACK</code>æŠ¥æ–‡ï¼Œå‘Šè¯‰å®¢æˆ·ç«¯ï¼Œâ€œä½ å‘çš„<code>FIN</code>æŠ¥æ–‡æˆ‘æ”¶åˆ°äº†â€ã€‚åªæœ‰ç­‰åˆ°æˆ‘æœåŠ¡ç«¯æ‰€æœ‰çš„æŠ¥æ–‡éƒ½å‘é€å®Œäº†ï¼Œæˆ‘æ‰èƒ½å‘é€<code>FIN</code>æŠ¥æ–‡ï¼Œå› æ­¤ä¸èƒ½ä¸€èµ·å‘é€ã€‚æ•…éœ€è¦å››æ¬¡æŒ¥æ‰‹ã€‚</p><h3 id="httpç¼“å­˜"><a class="markdownIt-Anchor" href="#httpç¼“å­˜"></a> HTTPç¼“å­˜</h3><h4 id="å¼ºç¼“å­˜"><a class="markdownIt-Anchor" href="#å¼ºç¼“å­˜"></a> å¼ºç¼“å­˜</h4><p>ä½¿ç”¨å¼ºåˆ¶ç¼“å­˜ç­–ç•¥ï¼Œå¦‚æœç¼“å­˜èµ„æºæœ‰æ•ˆï¼Œå°±ç›´æ¥ä½¿ç”¨ç¼“å­˜èµ„æºï¼Œä¸éœ€è¦å‘æœåŠ¡å™¨å‘é€è¯·æ±‚ã€‚å¼ºåˆ¶ç¼“å­˜é€šè¿‡ä¸¤ç§æ–¹å¼æ¥è®¾ç½®ï¼Œåœ¨<code>request headers</code>ä¸­çš„<code>Expires</code>å±æ€§å’Œ<code>Cache-Contorl</code>å±æ€§ã€‚</p><p><code>Expires</code>å±æ€§ï¼ŒæŒ‡å®šèµ„æºçš„è¿‡æœŸæ—¶é—´ã€‚åœ¨è¿‡æœŸæ—¶é—´ä»¥å†…ï¼Œæ”¹èµ„æºå¯ä»¥è¢«ç¼“å­˜ä½¿ç”¨ï¼Œä¸éœ€è¦å‘æµè§ˆå™¨å‘é€è¯·æ±‚ã€‚è¿™ä¸ªæ—¶é—´ä¾èµ–äºæœåŠ¡å™¨æ—¶é—´ï¼Œä¼šå­˜åœ¨æœåŠ¡å™¨æ—¶é—´å’Œå®¢æˆ·ç«¯æ—¶é—´ä¸ä¸€è‡´ã€‚</p><p><code>Cache-Control</code>å±æ€§ï¼š</p><ul><li><code>private</code>ï¼š ä»…æµè§ˆå™¨å¯ä»¥ç¼“å­˜</li><li><code>public</code>ï¼šæµè§ˆå™¨å’Œä»£ç†æœåŠ¡å™¨éƒ½å¯ä»¥ç¼“å­˜</li><li><code>max-age=xxx</code> è¿‡æœŸæ—¶é—´ï¼Œå•ä½ä¸ºç§’</li><li><code>no-cache</code> ä¸è¿›è¡Œå¼ºç¼“å­˜ï¼Œä½†ä¼šæœ‰åå•†ç¼“å­˜</li><li><code>no-store </code>ä¸å¼ºç¼“å­˜ï¼Œä¹Ÿä¸åå•†ç¼“å­˜</li></ul><p>å¦‚æœ<code>request header</code>ä¸­ï¼Œ<code>Cache- Control</code>çš„å€¼ä¸­æœ‰<code>max-age=xxx</code>ï¼Œè¿™ä¸ªæ—¶å€™èµ°å¼ºç¼“å­˜ã€‚å¦‚æœå€¼ä¸º<code>no-cache</code>ï¼Œè¡¨æ˜æ²¡æœ‰å‘½ä¸­ï¼Œèµ°åå•†ç¼“å­˜ã€‚å¦‚å€¼ä¸º<code>no-store</code>ï¼Œä¸ä½¿ç”¨ç¼“å­˜ã€‚</p><h4 id="åå•†ç¼“å­˜"><a class="markdownIt-Anchor" href="#åå•†ç¼“å­˜"></a> åå•†ç¼“å­˜</h4><p>å¦‚æœæ²¡æœ‰å‘½ä¸­å¼ºåˆ¶ç¼“å­˜ï¼Œåœ¨è®¾ç½®åå•†ç¼“å­˜æƒ…å†µä¸‹ï¼Œå…ˆå‘æœåŠ¡å™¨å‘é€ä¸€ä¸ªè¯·æ±‚ï¼Œå¦‚æœèµ„æºæ²¡æœ‰å‘ç”Ÿä¿®æ”¹ï¼Œåˆ™è¿”å›ä¸€ä¸ª<code>304</code>çš„çŠ¶æ€ï¼Œè®©æµè§ˆå™¨ä½¿ç”¨æœ¬åœ°çš„ç¼“å­˜å‰¯æœ¬ã€‚å¦‚æœèµ„æºå‘ç”Ÿä¿®æ”¹ï¼Œåˆ™è¿”å›ä¿®æ”¹åçš„èµ„æºã€‚åœ¨<code>request headers</code>ä¸­çš„<code>Etag</code>å±æ€§å’Œ<code>Last-Modified</code>å±æ€§ï¼Œæ¥è¿›è¡Œè®¾ç½®ã€‚å…¶ä¸­ï¼Œ<code>ETage</code>ä¼˜å…ˆäº<code>Last-Modified</code>ã€‚</p><p>å‘½ä¸­åå•†ç¼“å­˜æ¡ä»¶ï¼š</p><ul><li><code>Cache-Control: no-cache</code></li><li><code>max-age</code>æ—¶é—´è¿‡æœŸ</li></ul><p><strong>Last-Modifiedï¼ˆæ–‡ä»¶çš„ä¿®æ”¹æ—¶é—´ï¼‰ï¼š</strong></p><p>æœåŠ¡å™¨åœ¨å“åº”å¤´ä¸­æ·»åŠ <code>Last-Modified</code>å±æ€§ï¼Œæ¥æŒ‡å‡ºèµ„æºæœ€åä¸€æ¬¡ä¿®æ”¹æ—¶é—´ã€‚å½“æµè§ˆå™¨å‘èµ·è¯·æ±‚æ—¶ï¼Œä¼šåœ¨<code>request headers</code>ä¸­æ·»åŠ ä¸€ä¸ª<code>If-None-Since</code>å±æ€§ï¼Œå€¼ä¸ºä¸Šä¸€æ¬¡è¯·æ±‚çš„èµ„æºè¿”å›çš„<code>Last-Modified</code>å€¼ã€‚æœåŠ¡ç«¯ä¼šé€šè¿‡è¿™ä¸ªå±æ€§å’Œèµ„æºæœ€åä¸€æ¬¡ä¿®æ”¹æ—¶é—´è¿›è¡Œå¯¹æ¯”ï¼Œä»¥æ­¤æ¥åˆ¤æ–­èµ„æºæ˜¯å¦ä¿®æ”¹ã€‚å¦‚æœèµ„æºæ²¡æœ‰ä¿®æ”¹ï¼Œè¯·æ±‚è¿”å›304çŠ¶æ€ï¼Œå®¢æˆ·ç«¯ä½¿ç”¨æœ¬åœ°ç¼“å­˜ã€‚å¦‚æœèµ„æºæœ‰ä¿®æ”¹ï¼Œåˆ™è¿”å›ä¿®æ”¹çš„èµ„æºã€‚</p><p>è¿™ç§æ–¹å¼æœ‰ä¸€ä¸ªç¼ºç‚¹ï¼Œ<code>Last-Modified</code>æ ‡è®°çš„æ—¶é—´åªèƒ½ç²¾ç¡®åˆ°ç§’ã€‚</p><p><strong>ETagï¼ˆæ–‡ä»¶æ”¹åŠ¨ï¼‰ï¼š</strong></p><p>åŒæ ·åœ¨æœåŠ¡å™¨è¿”å›èµ„æºçš„æ—¶å€™ï¼Œåœ¨å¤´ä¿¡æ¯ä¸­æ·»åŠ <code>ETag</code>å±æ€§ï¼Œè¿™ä¸ªå±æ€§æ˜¯èµ„æºçš„å”¯ä¸€æ ‡è¯†ç¬¦ã€‚å½“èµ„æºæ”¹å˜æ—¶ï¼Œè¿™ä¸ªå€¼ä¹Ÿä¼šæ”¹å˜ã€‚åœ¨ä¸€ä¸‹æ¬¡è¯·æ±‚èµ„æºæ—¶ï¼Œä¼šåœ¨<code>request headers</code>ä¸­æ·»åŠ ä¸€ä¸ª<code>If-None-Match</code>å±æ€§ï¼Œå€¼ä¸ºä¸Šä¸€æ¬¡è¯·æ±‚çš„èµ„æºè¿”å›çš„<code>ETag</code>å€¼ã€‚æœåŠ¡ç«¯ä¼šé€šè¿‡è¿™ä¸ªå±æ€§å’Œèµ„æºæœ€åä¸€æ¬¡ä¿®æ”¹æ—¶é—´è¿›è¡Œå¯¹æ¯”ï¼Œä»¥æ­¤æ¥åˆ¤æ–­èµ„æºæ˜¯å¦ä¿®æ”¹ã€‚è¿™ç§æ–¹å¼æ¯”<code>Last-Modified</code>æ›´åŠ å‡†ç¡®ã€‚</p><h4 id="åŒºåˆ«-2"><a class="markdownIt-Anchor" href="#åŒºåˆ«-2"></a> åŒºåˆ«</h4><ul><li>å¼ºç¼“å­˜ä¼˜å…ˆçº§é«˜äºåå•†ç¼“å­˜</li><li>å¼ºç¼“å­˜ä¸éœ€è¦å‘è¯·æ±‚ï¼Œåå•†ç¼“å­˜éœ€è¦ã€‚</li><li>å¼ºç¼“å­˜è¿”å›çš„çŠ¶æ€ç ä¸º<code>200</code>ï¼Œåå•†ç¼“å­˜è¿”å›<code>304</code></li><li>ctrl+F5å¼ºåˆ¶åˆ·æ–°ä¼šè·³è¿‡æ‰€æœ‰ç¼“å­˜ï¼Œè€ŒF5åˆ·æ–°è·³è¿‡å¼ºç¼“å­˜ï¼Œä½†æ˜¯ä¼šæ£€æŸ¥åå•†ç¼“å­˜ã€‚</li></ul><h3 id="postå’Œgetçš„åŒºåˆ«"><a class="markdownIt-Anchor" href="#postå’Œgetçš„åŒºåˆ«"></a> POSTå’ŒGETçš„åŒºåˆ«</h3><ul><li>ä¼ é€’çš„å‚æ•°ä¸åŒï¼Œ<code>POST</code>ä¼ é€’çš„å‚æ•°åœ¨<code>request body</code>ä¸­ï¼Œ<code>GET</code>ä¼ é€’çš„å‚æ•°åœ¨<code>url</code>åæ‹¼æ¥</li><li><code>POST</code>ç›¸å¯¹<code>GET</code>è¯·æ±‚å®‰å…¨</li><li><code>GET</code>è¯·æ±‚é•¿åº¦æœ‰é™åˆ¶ï¼Œ<code>POST</code>æ²¡æœ‰</li><li><code>GET</code>è¯·æ±‚ä¼šè¢«æµè§ˆå™¨ä¸»åŠ¨ç¼“å­˜ï¼Œ<code>POST</code>ä¸ä¼šï¼Œè¦æ‰‹åŠ¨è®¾ç½®</li><li><code>GET</code>è¯·æ±‚ä¸€èˆ¬ç”¨äºæŸ¥è¯¢ï¼Œ<code>POST</code>ä¸€èˆ¬ç”¨äºæäº¤æŸç§ä¿¡æ¯è¿›è¡ŒæŸäº›ä¿®æ”¹æ“ä½œ</li></ul><h3 id="xss-csrfæ”»å‡»"><a class="markdownIt-Anchor" href="#xss-csrfæ”»å‡»"></a> XSSã€csrfæ”»å‡»</h3><h4 id="xssè·¨ç«™è„šæœ¬æ”»å‡»"><a class="markdownIt-Anchor" href="#xssè·¨ç«™è„šæœ¬æ”»å‡»"></a> XSSï¼ˆè·¨ç«™è„šæœ¬æ”»å‡»ï¼‰</h4><p><code>Xss(cross-site scripting)</code> æ˜¯ä¸€ç§ä»£ç æ³¨å…¥æ”»å‡»ï¼Œæ”»å‡»è€…å¾€<code>Web</code>é¡µé¢é‡Œæ’å…¥æ¶æ„ <code>html</code> æ ‡ç­¾æˆ–è€… <code>javascript </code>ä»£ç ã€‚åœ¨éª—å–ç”¨æˆ·ç‚¹å‡»åè·å–ç”¨æˆ·ï¼Œè·å–ç”¨æˆ·ä¿¡æ¯ã€‚</p><p><strong>é¿å…æ–¹å¼ï¼š</strong></p><ul><li><code>url</code>å‚æ•°é€šè¿‡<code>encodeURIComponent</code>æ–¹æ³•è¿›è¡Œè½¬ä¹‰</li><li>å°½é‡ä¸ä½¿ç”¨<code>InnerHtml</code>æ’å…¥<code>HTML</code>å†…å®¹</li><li>å¯¹ç”¨æˆ·è¾“å…¥çš„åœ°æ–¹å’Œå˜é‡éƒ½éœ€è¦ä»”ç»†æ£€æŸ¥é•¿åº¦å’Œå¯¹ â€&lt;â€,â€&gt;â€,â€;â€,â€â€™â€ ç­‰å­—ç¬¦åšè¿‡æ»¤</li></ul><h4 id="csrfè·¨ç«™è¯·æ±‚ä¼ªé€ "><a class="markdownIt-Anchor" href="#csrfè·¨ç«™è¯·æ±‚ä¼ªé€ "></a> CSRFï¼ˆè·¨ç«™è¯·æ±‚ä¼ªé€ ï¼‰</h4><p><code>CSRF</code>ï¼ˆ<code>Cross-site request forgery</code>ï¼‰æ”»å‡»è€…ç›—ç”¨ä½ çš„èº«ä»½ä¿¡æ¯ï¼Œå‘è¢«æ”»å‡»ç½‘ç«™å‘é€è·¨ç«™è¯·æ±‚ã€‚åˆ©ç”¨å—å®³è€…åœ¨è¢«æ”»å‡»ç½‘ç«™å·²ç»è·å–çš„æ³¨å†Œå‡­è¯ï¼Œç»•è¿‡åå°çš„ç”¨æˆ·éªŒè¯ï¼Œè¾¾åˆ°å†’å……ç”¨æˆ·å¯¹è¢«æ”»å‡»çš„ç½‘ç«™æ‰§è¡ŒæŸé¡¹æ“ä½œçš„ç›®çš„ã€‚</p><p><strong>é¿å…æ–¹å¼ï¼š</strong></p><ul><li>æ·»åŠ éªŒè¯ç éªŒè¯</li><li>ä½¿ç”¨<code>token</code><ul><li>æœåŠ¡ç«¯ç»™ç”¨æˆ·ç”Ÿæˆä¸€ä¸ª<code>token</code>ï¼ŒåŠ å¯†åä¼ é€’ç»™ç”¨æˆ·</li><li>ç”¨æˆ·åœ¨æäº¤è¯·æ±‚æ—¶ï¼Œéœ€è¦æºå¸¦è¿™ä¸ª<code>token</code></li><li>æœåŠ¡ç«¯éªŒè¯<code>token</code>æ˜¯å¦æ­£ç¡®</li></ul></li></ul><h3 id="å‰ç«¯å·¥ç¨‹åŒ–"><a class="markdownIt-Anchor" href="#å‰ç«¯å·¥ç¨‹åŒ–"></a> å‰ç«¯å·¥ç¨‹åŒ–</h3><h3 id="webpackçš„loaderå’Œpluginçš„åŒºåˆ«"><a class="markdownIt-Anchor" href="#webpackçš„loaderå’Œpluginçš„åŒºåˆ«"></a> webpackçš„loaderå’Œpluginçš„åŒºåˆ«</h3><h4 id="loader"><a class="markdownIt-Anchor" href="#loader"></a> loader</h4><p>loaderæ˜¯å¯¼å‡ºä¸€ä¸ªå‡½æ•°çš„javascriptæ¨¡å—ï¼ŒwebpackåŸç”Ÿæ˜¯åªèƒ½è§£æjsæ–‡ä»¶ï¼Œå¦‚æœæƒ³å°†å…¶ä»–æ–‡ä»¶ä¹Ÿæ‰“åŒ…çš„è¯ï¼Œå°±ä¼šç”¨åˆ°<code>loader</code>ã€‚å¦‚babel-loaderã€Css-loaderã€image-loaderã€url-loaderã€Saas-loaderâ€¦</p><h4 id="plugin"><a class="markdownIt-Anchor" href="#plugin"></a> plugin</h4><p>Pluginå¯ä»¥æ‰©å±•webpackçš„åŠŸèƒ½ï¼Œè®©webpackå…·æœ‰æ›´å¤šçš„çµæ´»æ€§ã€‚ åœ¨ Webpack è¿è¡Œçš„ç”Ÿå‘½å‘¨æœŸä¸­ä¼šå¹¿æ’­å‡ºè®¸å¤šäº‹ä»¶ï¼ŒPlugin å¯ä»¥ç›‘å¬è¿™äº›äº‹ä»¶ï¼Œåœ¨åˆé€‚çš„æ—¶æœºé€šè¿‡ Webpack æä¾›çš„ API æ”¹å˜è¾“å‡ºç»“æœã€‚å¦‚html-webpack-pluginã€mini-css-extract-pluginã€uglifyjs-webpack-plugin</p><h2 id="æ‰‹å†™ç³»åˆ—"><a class="markdownIt-Anchor" href="#æ‰‹å†™ç³»åˆ—"></a> æ‰‹å†™ç³»åˆ—ğŸ¤®</h2><h3 id="èŠ‚æµé˜²æŠ–"><a class="markdownIt-Anchor" href="#èŠ‚æµé˜²æŠ–"></a> èŠ‚æµé˜²æŠ–</h3><h3 id="newæ“ä½œç¬¦"><a class="markdownIt-Anchor" href="#newæ“ä½œç¬¦"></a> newæ“ä½œç¬¦</h3><h3 id="call-bind-applyå®ç°"><a class="markdownIt-Anchor" href="#call-bind-applyå®ç°"></a> callã€bindã€applyå®ç°</h3><h3 id="å‘å¸ƒè®¢é˜…æ¨¡å¼"><a class="markdownIt-Anchor" href="#å‘å¸ƒè®¢é˜…æ¨¡å¼"></a> å‘å¸ƒè®¢é˜…æ¨¡å¼</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">EventEmitter</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// äº‹ä»¶åˆ—è¡¨</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">eventList</span> = &#123;&#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ç›‘å¬</span></span><br><span class="line">  <span class="title function_">on</span>(<span class="params">name, callBack</span>) &#123;</span><br><span class="line">    <span class="comment">// ä»¥ name ä¸º key  åˆ›å»ºå®¹å™¨   å¦‚æœæœ‰å®¹å™¨å°±ä¸ç”¨åˆ›å»º</span></span><br><span class="line">    <span class="keyword">if</span> (!<span class="variable language_">this</span>.<span class="property">eventList</span>[name]) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">eventList</span>[name] = []</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æŠŠäº‹ä»¶æ”¾å…¥å®¹å™¨</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">eventList</span>[name].<span class="title function_">push</span>([callBack])</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// è§¦å‘</span></span><br><span class="line">  <span class="title function_">emit</span>(<span class="params">name, data</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="variable language_">this</span>.<span class="property">eventList</span>[name]) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&#x27;æ²¡æœ‰æ‰¾åˆ°äº‹ä»¶ï¼&#x27;</span>)</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä»å®¹å™¨ä¸­å–å‡ºäº‹ä»¶è¿›è¡Œè°ƒç”¨</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">eventList</span>[name].<span class="title function_">forEach</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="title function_">item</span>(data)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// åªè§¦å‘ä¸€æ¬¡</span></span><br><span class="line">  <span class="title function_">once</span>(<span class="params">name, callBack</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="variable language_">this</span>.<span class="property">eventList</span>[name]) <span class="keyword">return</span>;</span><br><span class="line">    <span class="comment">// åˆ©ç”¨off  åœ¨callBackæ‰§è¡Œå  å…³é—­è®¢é˜…</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">onceFn</span>(<span class="params">callBack</span>) &#123;</span><br><span class="line">      <span class="title function_">callBack</span>();</span><br><span class="line">      <span class="variable language_">this</span>.<span class="title function_">off</span>(name, callBack);</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">on</span>(name, onceFn)</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// å…³é—­ç›‘å¬  è‹¥ç¬¬äºŒä¸ªå‚æ•°æ²¡æœ‰  ç§»é™¤ name ä¸‹æ‰€æœ‰çš„äº‹ä»¶</span></span><br><span class="line">  <span class="title function_">off</span>(<span class="params">name, callBack</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="variable language_">this</span>.<span class="property">eventList</span>[name]) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (callBack) &#123;</span><br><span class="line">      <span class="comment">// åªç§»é™¤å¯¹åº”çš„callBack</span></span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">eventList</span>[name] = <span class="variable language_">this</span>.<span class="property">eventList</span>[name].<span class="title function_">filter</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;<span class="keyword">return</span> item !== callBack&#125;);</span><br><span class="line"></span><br><span class="line">      <span class="comment">// nameå®¹å™¨é•¿åº¦ä¸º0 ç›´æ¥åˆ é™¤æ•´ä¸ª name äº‹ä»¶è®¢é˜…å‘å¸ƒ</span></span><br><span class="line">      <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">eventList</span>[name].<span class="property">length</span> === <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">delete</span> <span class="variable language_">this</span>.<span class="property">eventList</span>[name];</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">// æ²¡æœ‰ callBack  ç›´æ¥åˆ é™¤æ•´ä¸ª name äº‹ä»¶è®¢é˜…å‘å¸ƒ</span></span><br><span class="line">      <span class="keyword">delete</span> <span class="variable language_">this</span>.<span class="property">eventList</span>[name];</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="å‡½æ•°æŸ¯é‡ŒåŒ–å®ç°"><a class="markdownIt-Anchor" href="#å‡½æ•°æŸ¯é‡ŒåŒ–å®ç°"></a> å‡½æ•°æŸ¯é‡ŒåŒ–å®ç°</h3><h4 id="promise"><a class="markdownIt-Anchor" href="#promise"></a> promise</h4><h3 id="å®ç°ä¸€ä¸ªé˜Ÿåˆ—"><a class="markdownIt-Anchor" href="#å®ç°ä¸€ä¸ªé˜Ÿåˆ—"></a> å®ç°ä¸€ä¸ªé˜Ÿåˆ—</h3><h3 id="æ•°ç»„å»é‡"><a class="markdownIt-Anchor" href="#æ•°ç»„å»é‡"></a> æ•°ç»„å»é‡</h3><h3 id="æ·±æµ…æ‹·è´"><a class="markdownIt-Anchor" href="#æ·±æµ…æ‹·è´"></a> æ·±æµ…æ‹·è´</h3><h3 id="äº¤æ¢ä¸¤ä¸ªå˜é‡çš„å€¼"><a class="markdownIt-Anchor" href="#äº¤æ¢ä¸¤ä¸ªå˜é‡çš„å€¼"></a> äº¤æ¢ä¸¤ä¸ªå˜é‡çš„å€¼</h3><h3 id="æ•°ç»„æ‰å¹³åŒ–"><a class="markdownIt-Anchor" href="#æ•°ç»„æ‰å¹³åŒ–"></a> æ•°ç»„æ‰å¹³åŒ–</h3><h2 id="è¾“å‡ºç»“æœ"><a class="markdownIt-Anchor" href="#è¾“å‡ºç»“æœ"></a> è¾“å‡ºç»“æœ</h2><h3 id="é—­åŒ…-2"><a class="markdownIt-Anchor" href="#é—­åŒ…-2"></a> é—­åŒ…</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name = <span class="string">&quot;The Window&quot;</span>;   </span><br><span class="line">ã€€ã€€<span class="keyword">var</span> object = &#123;   </span><br><span class="line">ã€€ã€€ã€€ã€€name : <span class="string">&quot;My Object&quot;</span>,   </span><br><span class="line">ã€€ã€€ã€€ã€€getNameFunc : <span class="keyword">function</span>(<span class="params"></span>)&#123;   </span><br><span class="line">ã€€ã€€ã€€ã€€ã€€ã€€<span class="keyword">return</span> <span class="keyword">function</span>(<span class="params"></span>)&#123;   </span><br><span class="line">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€<span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">name</span>;   </span><br><span class="line">ã€€ã€€ã€€ã€€ã€€&#125;;   </span><br><span class="line">ã€€ã€€ã€€ã€€&#125;   </span><br><span class="line">&#125;;   </span><br><span class="line"><span class="title function_">alert</span>(object.<span class="title function_">getNameFunc</span>()());  <span class="comment">//&quot;The Window&quot;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">aaa</span>(<span class="params"></span>)&#123;</span><br><span class="line"> <span class="keyword">var</span> a=<span class="number">0</span>;</span><br><span class="line"> <span class="keyword">function</span> <span class="title function_">bbb</span>(<span class="params"></span>) &#123;</span><br><span class="line">  a++;</span><br><span class="line">  <span class="title function_">alert</span>(a);</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="keyword">return</span> bbb</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> ccc=<span class="title function_">aaa</span>();</span><br><span class="line"><span class="title function_">ccc</span>();  <span class="comment">//ç»“æœä¸º1</span></span><br><span class="line"><span class="title function_">ccc</span>();  <span class="comment">//ç»“æœä¸º2</span></span><br><span class="line"><span class="keyword">var</span> ddd=<span class="title function_">aaa</span>();</span><br><span class="line"><span class="title function_">ddd</span>();  <span class="comment">//ç»“æœä¸º1</span></span><br><span class="line"><span class="title function_">ddd</span>();  <span class="comment">//ç»“æœä¸º2</span></span><br></pre></td></tr></table></figure><p><a href="https://github.com/gebilaofan/2021-FE-Review">github åŒæ­¥</a></p><blockquote><p>å‚è€ƒï¼š</p><p><a href="https://juejin.cn/post/6941194115392634888#heading-2">2021ã€é«˜é¢‘å‰ç«¯é¢è¯•é¢˜</a></p><p><a href="https://juejin.cn/post/6989422484722286600#heading-43">2021å¹´æˆ‘çš„å‰ç«¯[[â€¦/â€¦/4-å‰ç«¯è¦åŠªåŠ›/å‰ç«¯é¢è¯•/1ã€é¢è¯•å‡†å¤‡|é¢è¯•å‡†å¤‡]]</a></p><p><a href="https://juejin.cn/post/6914831351271292936#heading-60">éœ‡æƒŠï¼å‰ç«¯300åŸºç¡€é¢è¯•é¢˜+ç­”æ¡ˆã€åˆ†ç±»å­¦ä¹ æ•´ç†ï¼ˆè‰¯å¿ƒåˆ¶ä½œï¼‰æŒç»­æ›´æ–°</a></p><p><a href="https://juejin.cn/post/6917816624040902670#heading-21">é«˜çº§çŸ¥è¯†ç‚¹</a></p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;img src=&quot;https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6d56cc46a99b4f7d9f114171e9738058~tplv-k3u1fbpfcp-zoom-crop-mark:1512:1512:151</summary>
      
    
    
    <content src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6d56cc46a99b4f7d9f114171e9738058~tplv-k3u1fbpfcp-zoom-crop-mark:1512:1512:1512:851.awebp" type="image"/>
    
    
    <category term="é¢è¯•" scheme="https://wakaka378.github.io/categories/%E9%9D%A2%E8%AF%95/"/>
    
    
    <category term="é¢è¯•" scheme="https://wakaka378.github.io/tags/%E9%9D%A2%E8%AF%95/"/>
    
  </entry>
  
  <entry>
    <title>jsé¢å‘å¯¹è±¡â€”å°è£…</title>
    <link href="https://wakaka378.github.io/458c45be1d2c.html"/>
    <id>https://wakaka378.github.io/458c45be1d2c.html</id>
    <published>2020-06-20T13:00:27.000Z</published>
    <updated>2023-06-14T13:02:23.956Z</updated>
    
    <content type="html"><![CDATA[<h1 id="jsè®¾è®¡æ¨¡å¼ä¸€é¢å‘å¯¹è±¡å°è£…"><a class="markdownIt-Anchor" href="#jsè®¾è®¡æ¨¡å¼ä¸€é¢å‘å¯¹è±¡å°è£…"></a> jsè®¾è®¡æ¨¡å¼(ä¸€)é¢å‘å¯¹è±¡â€”å°è£…</h1><h2 id="å‰è¨€"><a class="markdownIt-Anchor" href="#å‰è¨€"></a> å‰è¨€</h2><p>æœ€è¿‘ä¸€ç›´åœ¨çœ‹<code>typescript</code>ï¼Œä¸»è¦çš„ä¸€ä¸ªç›®çš„æ˜¯ä¸º<code>vue3.x</code>åšå‡†å¤‡ã€‚3.xç‰ˆæœ¬å°¤é›¨æºªå¤§ç¥é‡‡ç”¨<code>typescript</code>é‡å†™åº•å±‚ï¼Œå…·ä½“å†…å®¹å¯ä»¥æŸ¥çœ‹<a href="https://juejin.im/post/6844903687207272462">[è¯‘] å°¤é›¨æºªï¼šVue 3.0 è®¡åˆ’-æ˜é‡‘</a>ã€‚åœ¨<code>typescript</code>é‡Œï¼Œå‡ ä¹å®Œå…¨é‡‡ç”¨ES6è¯­æ³•ï¼Œå…¶ä¸­æœ€ä¸ºé‡è¦çš„è¿˜æ˜¯<code>class</code>ç±»çš„ä½¿ç”¨ï¼Œå­¦åˆ°è¿™å—å°±æœ‰ç‚¹æ‡µé€¼äº†ã€‚ä»€ä¹ˆï¼Ÿç»§æ‰¿è¿˜å¯ä»¥è¿™æ ·ç©ï¼Ÿä»€ä¹ˆå…±æœ‰ç§æœ‰ä»€ä¹ˆæ´¾ç”Ÿç±»ï¼Ÿï¼Ÿï¼Ÿæˆ‘ä¹‹å‰å­¦äº†ä¸ªå‡jså§ï¼Ÿï¼Ÿï¼Ÿ</p><p>äºæ˜¯å›å¤´æ¥é‡æ–°æ¢³ç†å­¦ä¹ ä¸€ä¸‹é¢å¯¹å¯¹è±¡ç¼–ç¨‹ï¼Œè¿™ä¸€ç³»åˆ—æ–‡ç« å…¨éƒ¨æ˜¯åŸºäº<strong>ES5</strong>è¯­æ³•è§„åˆ™ï¼Œåˆ«è·Ÿæˆ‘è¯´ä¸ºå•¥ä¸ç›´æ¥ç”¨<code>ES6</code>,<code>ES6</code>å®ƒæœ€ç»ˆä¹Ÿæ˜¯ç¼–è¯‘æˆ<code>ES5</code>è¿è¡Œã€‚<br />å°å­åªæ˜¯ä¸ªå‰ç«¯èœé¸Ÿï¼Œå¯¹ç¼–ç¨‹è¿˜æ²¡æœ‰å¤ªæ·±å…¥çš„äº†è§£ï¼Œåªæ˜¯ä¸ªä»£ç æ¬è¿å·¥ã€‚å¦‚æœæ–‡ç« æœ‰ä»€ä¹ˆé”™è¯¯æˆ–è€…æ˜¯ç†è§£ä¸Šçš„é”™è¯¯ï¼Œè¿˜è¯·æŒ‡æ¡æ˜è·¯ï¼Œæ„Ÿæ¿€ä¸å°½ã€‚</p><p>è¿™ä¸€ç³»åˆ—å°†ä»¥é¢å¯¹å¯¹è±¡ä¸‰ä¸ªç‰¹æ€§<code>å°è£…</code>ã€<code>ç»§æ‰¿</code>ã€<code>å¤šæ€</code>ä¸ºé¢˜è¿›è¡Œè®²è§£ï¼Œæ›´å¥½çš„ç†è§£é¢å¯¹å¯¹è±¡ç¼–ç¨‹ã€‚</p><h2 id="é¢å¯¹è¿‡ç¨‹ç¼–ç¨‹å’Œé¢å¯¹å¯¹è±¡ç¼–ç¨‹oop"><a class="markdownIt-Anchor" href="#é¢å¯¹è¿‡ç¨‹ç¼–ç¨‹å’Œé¢å¯¹å¯¹è±¡ç¼–ç¨‹oop"></a> é¢å¯¹è¿‡ç¨‹ç¼–ç¨‹å’Œé¢å¯¹å¯¹è±¡ç¼–ç¨‹(OOP)</h2><h3 id="é¢å¯¹è¿‡ç¨‹ç¼–ç¨‹"><a class="markdownIt-Anchor" href="#é¢å¯¹è¿‡ç¨‹ç¼–ç¨‹"></a> é¢å¯¹è¿‡ç¨‹ç¼–ç¨‹</h3><p>é¢å‘è¿‡ç¨‹å°±æ˜¯åˆ†æå‡ºè§£å†³é—®é¢˜æ‰€éœ€è¦çš„æ­¥éª¤ï¼Œç„¶åç”¨å‡½æ•°æŠŠè¿™äº›æ­¥éª¤ä¸€æ­¥ä¸€æ­¥å®ç°ï¼Œä½¿ç”¨çš„æ—¶å€™ä¸€ä¸ªä¸€ä¸ªä¾æ¬¡è°ƒç”¨å°±å¯ä»¥äº†ã€‚</p><h3 id="é¢å¯¹å¯¹è±¡ç¼–ç¨‹"><a class="markdownIt-Anchor" href="#é¢å¯¹å¯¹è±¡ç¼–ç¨‹"></a> é¢å¯¹å¯¹è±¡ç¼–ç¨‹</h3><p>é¢å¯¹å¯¹è±¡ç¼–ç¨‹å°±æ˜¯å°†ä½ çš„éœ€æ±‚æŠ½è±¡æˆä¸€ä¸ªå¯¹è±¡ï¼Œé’ˆå¯¹è¿™ä¸ªå¯¹è±¡åˆ†æå…¶ç‰¹å¾å’ŒåŠ¨ä½œï¼Œè¿™ä¸ªå¯¹è±¡æˆ‘ä»¬ç§°ä¹‹ä¸º<em>ç±»</em></p><h2 id="å¯¹è±¡åŸºç¡€çŸ¥è¯†"><a class="markdownIt-Anchor" href="#å¯¹è±¡åŸºç¡€çŸ¥è¯†"></a> å¯¹è±¡åŸºç¡€çŸ¥è¯†</h2><h3 id="å¯¹è±¡ç†è§£"><a class="markdownIt-Anchor" href="#å¯¹è±¡ç†è§£"></a> å¯¹è±¡ç†è§£</h3><p>ç¨‹åºå‘˜ç»å¸¸ä¼šæ‹¿å¯¹è±¡æ¥å¼€ç©ç¬‘ï¼šæ²¡å¯¹è±¡ï¼Ÿè‡ªå·±newä¸€ä¸ªå‘—ï¼Œè¦å•¥æ ·éƒ½å¯ä»¥ã€‚é‚£åˆ°åº•ä»€ä¹ˆæ˜¯å¯¹è±¡å‘¢ï¼Ÿjsä¸­æœ‰ä¸€ä¸ªè¯´æ³•æ˜¯<em>ä¸‡ç‰©çš†å¯¹è±¡</em>ï¼Œ<strong>å¯¹è±¡å°±æ˜¯å¯ä»¥æ‹¥æœ‰å±æ€§å’Œæ–¹æ³•çš„ä¸€ä¸ªé›†åˆ</strong>ã€‚äººï¼Œæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä»–æœ‰åƒé¥­ç¡è§‰çš„å±æ€§ï¼Œæœ‰ä¸Šç­èµšé’±çš„æ–¹æ³•ã€‚æ‰€æœ‰çš„ä¸€åˆ‡éƒ½å¯ä»¥æŠ½è±¡ä¸ºä¸€ä¸ªå¯¹è±¡ï¼Œåªä¸è¿‡æ¯ä¸ªå¯¹è±¡éƒ½å±äºè‡ªå·±çš„å±æ€§å’Œæ–¹æ³•ã€‚</p><p>ä»€ä¹ˆå«é¢å¯¹å¯¹è±¡ç¼–ç¨‹ï¼Ÿï¼Ÿï¼Ÿåœ¨jsä¸­ï¼Œæœ‰ä¸¤ç§ç¼–ç¨‹é£æ ¼ã€‚<em>é¢å¯¹è¿‡ç¨‹ç¼–ç¨‹</em>å’Œ<em>é¢å¯¹å¯¹è±¡ç¼–ç¨‹</em>ï¼Œæˆ‘ä»¬å†™è½®æ’­å›¾å†™åŠ¨ç”»å†™é¡µé¢ï¼Œå¤§éƒ¨åˆ†éƒ½æ˜¯<em>é¢å¯¹è¿‡ç¨‹ç¼–ç¨‹</em>(åæ­£æˆ‘ä¸ªäººç›®å‰æ˜¯è¿™æ ·)ã€‚</p><h4 id="å¯¹è±¡ä¸‰å¤§ç‰¹å¾"><a class="markdownIt-Anchor" href="#å¯¹è±¡ä¸‰å¤§ç‰¹å¾"></a> å¯¹è±¡ä¸‰å¤§ç‰¹å¾</h4><p><code>å°è£…</code>ã€<code>ç»§æ‰¿</code>ã€<code>å¤šæ€</code></p><h4 id="ä¸€ä¸ªå¯¹è±¡è¢«åˆ›å»ºè¿™ä¸­é—´å‘ç”Ÿä»€ä¹ˆ-new-å…³é”®å­—åšäº†ä»€ä¹ˆé¢è¯•é¢˜"><a class="markdownIt-Anchor" href="#ä¸€ä¸ªå¯¹è±¡è¢«åˆ›å»ºè¿™ä¸­é—´å‘ç”Ÿä»€ä¹ˆ-new-å…³é”®å­—åšäº†ä»€ä¹ˆé¢è¯•é¢˜"></a> ä¸€ä¸ªå¯¹è±¡è¢«åˆ›å»ºï¼Œè¿™ä¸­é—´å‘ç”Ÿä»€ä¹ˆ | new å…³é”®å­—åšäº†ä»€ä¹ˆï¼ˆé¢è¯•é¢˜ï¼‰</h4><pre><code> 1ã€åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡çš„ç±»å‹æ˜¯ `object` 2ã€è®¾ç½®è¿™ä¸ªæ–°çš„å¯¹è±¡çš„å†…éƒ¨ã€å¯è®¿é—®æ€§å’Œ[[prototype]]å±æ€§ä¸ºæ„é€ å‡½æ•°ï¼ˆæŒ‡prototype.construtoræ‰€æŒ‡å‘çš„æ„é€ å‡½æ•°ï¼‰ä¸­è®¾ç½®çš„ 3ã€å°†æ­¥éª¤1æ–°åˆ›å»ºçš„å¯¹è±¡ä½œä¸ºthisçš„ä¸Šä¸‹æ–‡  4ã€æœè¯¥å‡½æ•°æ²¡æœ‰è¿”å›å¯¹è±¡ï¼Œåˆ™è¿”å›thisã€‚</code></pre><h3 id="åŸå‹å’ŒåŸå‹é“¾"><a class="markdownIt-Anchor" href="#åŸå‹å’ŒåŸå‹é“¾"></a> åŸå‹å’ŒåŸå‹é“¾</h3><ul><li>åŸå‹</li></ul><blockquote><p>JavaScript è§„å®šï¼Œæ¯ä¸€ä¸ªæ„é€ å‡½æ•°éƒ½æœ‰ä¸€ä¸ª prototype å±æ€§ï¼ŒæŒ‡å‘å¦ä¸€ä¸ªå¯¹è±¡ã€‚æˆ‘ä»¬å¯ä»¥æŠŠæ‰€æœ‰å¯¹è±¡å®ä¾‹éœ€è¦å…±äº«çš„å±æ€§å’Œæ–¹æ³•ç›´æ¥å®šä¹‰åœ¨ <strong>prototype</strong> å¯¹è±¡ä¸Šã€‚è¿™ä¸ªå¯¹è±¡çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•ï¼Œéƒ½ä¼šè¢«æ„é€ å‡½æ•°çš„æ‰€æ‹¥æœ‰ã€‚<br />prototypeä½œä¸ºå¯¹è±¡çš„å†…éƒ¨å±æ€§ï¼Œæˆ‘ä»¬ä¸€èˆ¬é€šè¿‡å®ä¾‹åŒ–å¯¹è±¡çš„<code>__proto__</code>è¿™ä¸ªå±æ€§è¿›è¡Œè®¿é—®ã€‚<br />åœ¨åŸå‹å¯¹è±¡ä¸­è¿˜æœ‰ä¸€ä¸ªå±æ€§<strong>constructor</strong>ï¼Œè¿™ä¸ªå±æ€§å¯¹åº”åˆ›å»ºæ‰€æœ‰æŒ‡å‘è¯¥åŸå‹çš„å®ä¾‹çš„æ„é€ å‡½æ•°</p></blockquote><p><img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2020/6/20/172d0ea9eef2a3fd~tplv-t2oaga2asx-image.image" alt="image.png" /></p><ul><li>åŸå‹é“¾</li></ul><blockquote><p>å½“æˆ‘ä»¬è®¿é—®å¯¹è±¡çš„ä¸€ä¸ªå±æ€§æˆ–æ–¹æ³•æ—¶ï¼Œå®ƒä¼šå…ˆåœ¨å¯¹è±¡è‡ªèº«ä¸­å¯»æ‰¾ï¼Œå¦‚æœæœ‰åˆ™ç›´æ¥ä½¿ç”¨ï¼Œå¦‚æœæ²¡æœ‰åˆ™ä¼šå»åŸå‹å¯¹è±¡ä¸­å¯»æ‰¾ï¼Œå¦‚æœæ‰¾åˆ°åˆ™ç›´æ¥ä½¿ç”¨ã€‚å¦‚æœæ²¡æœ‰åˆ™å»åŸå‹çš„åŸå‹ä¸­å¯»æ‰¾,ç›´åˆ°æ‰¾åˆ°Objectå¯¹è±¡çš„åŸå‹ï¼ŒObjectå¯¹è±¡çš„åŸå‹æ²¡æœ‰åŸå‹ï¼Œå¦‚æœåœ¨ObjectåŸå‹ä¸­ä¾ç„¶æ²¡æœ‰æ‰¾åˆ°ï¼Œåˆ™è¿”å›nullã€‚</p></blockquote><p><img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2020/6/20/172d0ea9e8523c43~tplv-t2oaga2asx-image.image" alt="image.png" /></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Person</span>(<span class="params">name, age</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name </span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">age</span>= age</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">action</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="title function_">alert</span>(<span class="string">&#x27;hello word&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> p = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&#x27;å°¤é›¨æºª&#x27;</span>, <span class="number">18</span>) <span class="comment">// å®ä¾‹åŒ–Personè¿™ä¸ªå¯¹è±¡</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(p.<span class="property">name</span>) <span class="comment">// å°¤é›¨æºª</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">ä»–ä»¬ä¹‹é—´çš„å…³ç³»</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    æ„é€ å‡½æ•°çš„åŸå‹ == å®ä¾‹åŒ–p.__proto__</span></span><br><span class="line"><span class="comment">    æ„é€ å‡½æ•° == æ„é€ å‡½æ•°åŸå‹çš„constructor</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"> <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Person</span>.<span class="property"><span class="keyword">prototype</span></span> === p.<span class="property">__proto__</span>) <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"> <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Person</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">constructor</span> === <span class="title class_">Person</span>) <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(p.<span class="property">constructor</span> === <span class="title class_">Person</span>) <span class="comment">// true</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="é¢å¯¹å¯¹è±¡å°è£…"><a class="markdownIt-Anchor" href="#é¢å¯¹å¯¹è±¡å°è£…"></a> é¢å¯¹å¯¹è±¡â€”å°è£…</h2><h3 id="ä»€ä¹ˆæ˜¯å°è£…"><a class="markdownIt-Anchor" href="#ä»€ä¹ˆæ˜¯å°è£…"></a> ä»€ä¹ˆæ˜¯å°è£…</h3><blockquote><p>å°è£…å°±æ˜¯æŠŠå®¢è§‚äº‹ç‰©å°è£…æˆæŠ½è±¡çš„ç±»ï¼Œéšè—å±æ€§å’Œæ–¹æ³•çš„å®ç°ç»†èŠ‚ï¼Œä»…å¯¹å¤–å…¬å¼€æ¥å£ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå°è£…å°±æ˜¯å°†å±æ€§å’Œæ–¹æ³•ç»„æˆä¸€ä¸ªç±»çš„è¿‡ç¨‹å°±ç§°ä¹‹ä¸ºå°è£…ã€‚</p></blockquote><h3 id="å¯¹è±¡å°è£…çš„å‡ ç§å½¢å¼"><a class="markdownIt-Anchor" href="#å¯¹è±¡å°è£…çš„å‡ ç§å½¢å¼"></a> å¯¹è±¡å°è£…çš„å‡ ç§å½¢å¼</h3><h4 id="å¯¹è±¡å­—é¢é‡"><a class="markdownIt-Anchor" href="#å¯¹è±¡å­—é¢é‡"></a> å¯¹è±¡å­—é¢é‡</h4><ul><li>ä¼˜ç‚¹ï¼šä»£ç ç®€å•æ˜“æ‡‚</li><li>ç¼ºç‚¹ï¼šåˆ›å»ºå¤šä¸ªå¯¹è±¡ä¼šäº§ç”Ÿå¤§é‡çš„ä»£ç ï¼Œç¼–å†™éº»çƒ¦ï¼Œä¸”å¹¶æ²¡æœ‰å®ä¾‹ä¸åŸå‹çš„æ¦‚å¿µ</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºå¯¹è±¡</span></span><br><span class="line"><span class="keyword">var</span>  <span class="title class_">Person</span> = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;å°¤é›¨æºª&quot;</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="string">&quot;18&quot;</span>,</span><br><span class="line"></span><br><span class="line">    action : <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="title function_">alert</span>(<span class="string">&#x27;hello word!&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">Person</span>.<span class="property">name</span></span><br><span class="line"><span class="title class_">Person</span>.<span class="title function_">action</span>()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªç©ºå¯¹è±¡ ç»™ç©ºå¯¹è±¡æ·»åŠ æ–¹æ³•å±æ€§</span></span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Person</span> = &#123;&#125;</span><br><span class="line"><span class="title class_">Person</span>.<span class="property">name</span> = <span class="string">&#x27;å°¤é›¨æºª&#x27;</span></span><br><span class="line"><span class="title class_">Person</span>.<span class="property">age</span>=  <span class="number">18</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Person</span>.<span class="property">action</span>  = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">   <span class="title function_">alert</span>(<span class="string">&#x27;hello word!&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="å·¥å‚æ¨¡å¼"><a class="markdownIt-Anchor" href="#å·¥å‚æ¨¡å¼"></a> å·¥å‚æ¨¡å¼</h4><ul><li>å¯¹è±¡å­—é¢é‡çš„å½¢å¼åœ¨åˆ›å»ºå¤šä¸ªå¯¹è±¡çš„æ—¶å€™ä¼šäº§ç”Ÿå¤§é‡ä»£ç ï¼Œå¦‚æœæˆ‘ä»¬æŠŠåˆ›å»ºæ–°å¯¹è±¡ã€æ·»åŠ å¯¹è±¡å±æ€§ã€è¿”å›å¯¹è±¡çš„è¿‡ç¨‹æ”¾åˆ°è¿™ä¸ªå‡½æ•°ä¸­ï¼Œæ¯æ¬¡éœ€è¦åˆ›å»ºå¯¹è±¡çš„æ—¶å€™è°ƒç”¨å‡½æ•°å³å¯ã€‚</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">createPerson</span>(<span class="params">name, age</span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> person = <span class="keyword">new</span> <span class="title class_">Object</span>();</span><br><span class="line">  person.<span class="property">name</span> = name;</span><br><span class="line">  person.<span class="property">age</span> = age;</span><br><span class="line"></span><br><span class="line">  person.<span class="property">action</span>= <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title function_">alert</span>(<span class="string">&#x27;hello word!&#x27;</span>);</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="keyword">return</span> person;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç”Ÿæˆå®ä¾‹</span></span><br><span class="line"><span class="keyword">var</span> p = <span class="title function_">createPerson</span>(<span class="string">&#x27;å°¤é›¨æºª&#x27;</span>, <span class="number">18</span>);</span><br><span class="line"><span class="keyword">var</span> p2 = <span class="title function_">createPerson</span>(<span class="string">&#x27;é˜®ä¸€å³°&#x27;</span>,<span class="number">20</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(p.<span class="property">name</span>)</span><br><span class="line">p.<span class="title function_">action</span>()</span><br></pre></td></tr></table></figure><ul><li>ä¼˜ç‚¹ï¼šé¿å…åˆ›å»ºå¤§é‡å¯¹è±¡æ—¶ä»£ç çš„è‡ƒè‚¿</li><li>ç¼ºç‚¹ï¼š p1ä¸p2ä¹‹é—´æ²¡æœ‰å†…åœ¨è”ç³»</li></ul><h4 id="æ„é€ å‡½æ•°"><a class="markdownIt-Anchor" href="#æ„é€ å‡½æ•°"></a> æ„é€ å‡½æ•°</h4><blockquote><p>æ‰€è°“&quot;æ„é€ å‡½æ•°&quot;ï¼Œå…¶å®å°±æ˜¯ä¸€ä¸ªæ™®é€šå‡½æ•°ï¼Œä½†æ˜¯å†…éƒ¨ä½¿ç”¨äº†thiså˜é‡ã€‚å¯¹æ„é€ å‡½æ•°ä½¿ç”¨<strong>new</strong>è¿ç®—ç¬¦ï¼Œå°±èƒ½ç”Ÿæˆå®ä¾‹ï¼Œå¹¶ä¸”thiså˜é‡ä¼šç»‘å®šåœ¨å®ä¾‹å¯¹è±¡ä¸Šã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Person</span>(<span class="params">name, age</span>) &#123;</span><br><span class="line">    <span class="comment">// é€šè¿‡thisæ¥æ·»åŠ å±æ€§æ–¹æ³•</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name </span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">age</span> = age</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">action</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="title function_">alert</span>(<span class="string">&#x27;hello word&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å®ä¾‹åŒ–å¯¹è±¡</span></span><br><span class="line"><span class="keyword">var</span> p1 = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&#x27;å°¤é›¨æºª&#x27;</span>, <span class="number">18</span>)</span><br><span class="line"><span class="keyword">var</span> p2 = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&#x27;é˜®ä¸€å³°&#x27;</span>, <span class="number">20</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>ä¸Šé¢æˆ‘ä»¬è¯´è¿‡ï¼Œé€šè¿‡<strong>new</strong>å…³é”®å­—å®ä¾‹åŒ–å‡ºæ¥çš„å¯¹è±¡ï¼Œéƒ½ä¼šæœ‰ä¸€ä¸ª<code>constructor</code>å±æ€§æŒ‡å‘ä»–ä»¬çš„æ„é€ å‡½æ•°</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(p1.<span class="property">constructor</span> === <span class="title class_">Person</span>)     <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(p2.<span class="property">constructor</span> === <span class="title class_">Person</span>)     <span class="comment">// true</span></span><br></pre></td></tr></table></figure><ul><li>ä¼˜ç‚¹ï¼šå®ä¾‹åŒ–å¯¹è±¡å’Œæ„é€ å‡½æ•°ä¹‹é—´å­˜åœ¨å…³è”</li><li>ç¼ºç‚¹ï¼šæµªè´¹å†…å­˜ï¼Œæ„é€ å‡½æ•°ä¸­å®šä¹‰çš„æ–¹æ³•å<code>action</code>ä¸€æ ·ï¼Œä½†å®ä¾‹åŒ–å‡ºæ¥çš„å¯¹è±¡åä¸ä¸€æ ·ï¼Œé€ æˆä¸€ä¸ªå†…å­˜çš„æµªè´¹ã€‚</li></ul><h4 id="åŸå‹æ¨¡å¼"><a class="markdownIt-Anchor" href="#åŸå‹æ¨¡å¼"></a> åŸå‹æ¨¡å¼</h4><blockquote><p>ä¸Šé¢æˆ‘ä»¬è¯´è¿‡ï¼Œæ¯ä¸ªå¯¹è±¡è¢«å®ä¾‹åŒ–çš„æ—¶å€™ï¼Œéƒ½ä¼šæœ‰ä¸€ä¸ªåŸå‹<strong>prototype</strong>å±æ€§ï¼Œè¿™ä¸ªå±æ€§æ˜¯å¯ä»¥è¢«å…¶ä»–å¯¹è±¡ç»§æ‰¿çš„ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥å°†å¯¹è±¡å…±æœ‰çš„å±æ€§æ–¹æ³•ï¼Œæ”¾åˆ°åŸå‹ä¸Šï¼Œè¿™æ ·æ¯æ¬¡é€šè¿‡<code>new</code>å‡ºæ¥çš„å¯¹è±¡ï¼Œåœ¨æ„é€ å‡½æ•°ä¸­çš„æ–¹æ³•è¢«å¤šæ¬¡åˆ›å»ºã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Person</span>(<span class="params">name, age</span>) &#123;</span><br><span class="line">    <span class="comment">// é€šè¿‡thisæ¥æ·»åŠ å±æ€§æ–¹æ³•</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name </span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">age</span> = age</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å°†å…±åŒæ‹¥æœ‰çš„æ–¹æ³•æŒ‚åœ¨åˆ°åŸå‹ä¸Š</span></span><br><span class="line"><span class="title class_">Person</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">action</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="title function_">alert</span>(<span class="string">&#x27;hello wodr&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">// å®ä¾‹åŒ–å¯¹è±¡</span></span><br><span class="line"><span class="keyword">var</span> p1 = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&#x27;å°¤é›¨æºª&#x27;</span>, <span class="number">18</span>)</span><br><span class="line"><span class="keyword">var</span> p2 = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&#x27;é˜®ä¸€å³°&#x27;</span>, <span class="number">20</span>)</span><br><span class="line"></span><br><span class="line">p1.<span class="title function_">action</span>()</span><br><span class="line">p2.<span class="title function_">action</span>()</span><br></pre></td></tr></table></figure><h2 id="å±æ€§å’Œæ–¹æ³•çš„ç±»å‹"><a class="markdownIt-Anchor" href="#å±æ€§å’Œæ–¹æ³•çš„ç±»å‹"></a> å±æ€§å’Œæ–¹æ³•çš„ç±»å‹</h2><p>é€šè¿‡åŸå‹æ¨¡å¼æˆ‘ä»¬å¯ä»¥å°†æ–¹æ³•å±æ€§ç›´æ¥æ”¾åœ¨åŸå‹ä¸Šï¼Œæ‰€æœ‰çš„å®ä¾‹å¯¹è±¡éƒ½å¯ä»¥è®¿é—®è¿™ä¸ªå±æ€§æ–¹æ³•ï¼Œæˆ‘ä»¬ç§°ä¸º<strong>å…¬æœ‰æ–¹æ³•/å±æ€§</strong>ã€‚ç†Ÿæ‚‰ES6çš„æœ‹å‹çŸ¥é“ï¼Œåœ¨ç”¨<code>class</code>å®šä¹‰ç±»çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥å®šä¹‰é‡Œé¢å±æ€§æ–¹æ³•çš„ç±»å‹ã€‚æ˜¯ä¿æŠ¤ç±»å‹ï¼Œè¿˜æ˜¯å…¬å¼€ç±»å‹ï¼Œè¿˜æ˜¯ç§æœ‰ç±»å‹ï¼Œ<strong>ä¸åŒç±»å‹ä¹‹é—´æ˜¯ä¸èƒ½ç›¸äº’è®¿é—®çš„</strong>ã€‚åœ¨ES6ä¸­æˆ‘ä»¬å¯ä»¥é€šè¿‡<code>public</code>ç­‰å…³é”®å­—æ¥å®šä¹‰ï¼Œé‚£æˆ‘ä»¬ES5æ˜¯æ€æ ·åŒºåˆ†ä»–ä»¬çš„ä¸€ä¸ªç±»å‹å‘¢ï¼Ÿ</p><p>æˆ‘ä¹‹å‰åœ¨å­¦ä¹ é¢å¯¹å¯¹è±¡è¿™ä¸€å—çš„æ—¶å€™æ²¡æœ‰å¤ªè¿‡æ³¨æ„è¿™ä¸€å—å†…å®¹ï¼Œç°åœ¨æˆ‘ä»¬å¼€å‘ä¹Ÿå¾ˆå°‘æ³¨æ„åˆ°è¿™ä¸€å—å†…å®¹ã€‚å…¶å®åœ¨å¿«é€Ÿå¼€å‘çš„æ—¶æœŸï¼Œæˆ‘ä»¬å¾ˆå°‘æ³¨æ„åˆ°è¿™äº›javascripåŸºç¡€ç†è®ºçŸ¥è¯†ï¼Œæ›´ç¼ºä¹å¯¹åŸç”Ÿjsçš„ç†è§£ã€‚</p><p>åœ¨é¢å‘å¯¹è±¡ä¸­ï¼Œæ¯ä¸ªå±æ€§éƒ½æœ‰å®ƒçš„ä¸€ä¸ªç±»å‹ï¼Œå¯ä»¥åˆ†ä¸º<strong>å…±æœ‰</strong>ã€<strong>ç§æœ‰</strong>ã€<strong>é™æ€</strong>ä¸‰ç§ã€‚</p><h3 id="å…±æœ‰å±æ€§å’Œæ–¹æ³•"><a class="markdownIt-Anchor" href="#å…±æœ‰å±æ€§å’Œæ–¹æ³•"></a> å…±æœ‰å±æ€§å’Œæ–¹æ³•</h3><p>ä»å­—é¢é‡ä¸Šçš„æ„æ€ç†è§£ï¼Œå…±æœ‰ï¼Œå°±æ˜¯æ‰€æœ‰å¯¹è±¡éƒ½æœ‰çš„å±æ€§æˆ–æ–¹æ³•ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Person</span>(<span class="params">name, age</span>) &#123;</span><br><span class="line">    <span class="comment">// é€šè¿‡thisæ¥æ·»åŠ å±æ€§æ–¹æ³•</span></span><br><span class="line"></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name  <span class="comment">// å…±æœ‰å±æ€§</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">age</span> = age        </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å°†å…±åŒæ‹¥æœ‰çš„æ–¹æ³•æŒ‚åœ¨åˆ°åŸå‹ä¸Š</span></span><br><span class="line"><span class="title class_">Person</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">action</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;  <span class="comment">// å…±æœ‰æ–¹æ³•</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>æ˜¯å¹²<span class="subst">$&#123;<span class="variable language_">this</span>.job&#125;</span>çš„`</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å®ä¾‹åŒ–å¯¹è±¡</span></span><br><span class="line"><span class="keyword">var</span> p1 = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&#x27;å°¤é›¨æºª&#x27;</span>, <span class="string">&#x27;ç¨‹åºå‘˜&#x27;</span>)</span><br><span class="line"></span><br><span class="line">p1.<span class="title function_">action</span>()</span><br></pre></td></tr></table></figure><p>ä»ä¸Šé¢ä»£ç å¯ä»¥çœ‹å‡ºï¼Œ<strong>é€šè¿‡thisæ·»åŠ çš„å±æ€§æˆ–è€…åœ¨åŸå‹ä¸Šæ·»åŠ çš„å±æ€§å’Œæ–¹æ³•éƒ½æ˜¯å…±æœ‰çš„</strong></p><ul><li>è°ƒç”¨è§„åˆ™ï¼š è°ƒç”¨å…¬æœ‰æ–¹æ³•ï¼Œæˆ‘ä»¬å¿…éœ€å…ˆå®ä¾‹åŒ–å¯¹è±¡</li></ul><h3 id="ç§æœ‰å±æ€§å’Œæ–¹æ³•"><a class="markdownIt-Anchor" href="#ç§æœ‰å±æ€§å’Œæ–¹æ³•"></a> ç§æœ‰å±æ€§å’Œæ–¹æ³•</h3><p>ç§æœ‰å±æ€§çš„ç†è§£å¯ä»¥ä»å‡½æ•°çš„ä½œç”¨åŸŸå‡ºå‘ï¼Œå‡½æ•°å†…éƒ¨å®šä¹‰çš„å˜é‡åœ¨å‡½æ•°å¤–éƒ¨æ— æ³•è®¿é—®ã€‚æˆ‘ä»¬çœ‹ä¸‹é¢æ —å­</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Person</span>(<span class="params">name, job</span>) &#123;</span><br><span class="line">    <span class="comment">// é€šè¿‡thisæ¥æ·»åŠ å±æ€§æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">var</span> name = name  <span class="comment">// ç§æœ‰å±æ€§</span></span><br><span class="line">    <span class="keyword">var</span> job = job</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">action</span> () &#123; <span class="comment">// ç§æœ‰æ–¹æ³•</span></span><br><span class="line">       <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;name&#125;</span>æ˜¯å¹²<span class="subst">$&#123;job&#125;</span>çš„`</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å®ä¾‹åŒ–å¯¹è±¡</span></span><br><span class="line"><span class="keyword">var</span> p = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&#x27;å°¤é›¨æºª&#x27;</span>,  <span class="string">&#x27;ç¨‹åºå‘˜&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(p.<span class="property">name</span>)       <span class="comment">// undefined</span></span><br><span class="line">p.<span class="title function_">action</span>()   <span class="comment">//  p.action is not a function æŠ¥é”™</span></span><br></pre></td></tr></table></figure><p>å½“å®ä¾‹åŒ–åˆ›å»ºå¯¹è±¡çš„æ—¶å€™ï¼Œé€šè¿‡<code>var</code>å®šä¹‰çš„å±€éƒ¨å˜é‡æ˜¯æ— æ³•åœ¨å¤–ç•Œè¢«è®¿é—®ï¼Œä»–åªèƒ½åœ¨æ„é€ å‡½æ•°å†…éƒ¨è¿›è¡Œä½¿ç”¨ï¼Œå¹¶ä¸”ä¸èƒ½é€šè¿‡thisè®¿é—®ï¼Œæˆ‘ä»¬å§ä»£ç å˜åŠ¨ä¸€ä¸‹å†çœ‹ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Person</span>(<span class="params">name, job</span>) &#123;</span><br><span class="line">    <span class="comment">// é€šè¿‡thisæ¥æ·»åŠ å±æ€§æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">var</span> name = name  <span class="comment">// ç§æœ‰å±æ€§</span></span><br><span class="line">    <span class="keyword">var</span> job = job</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">action1</span> () &#123; <span class="comment">// ç§æœ‰æ–¹æ³•</span></span><br><span class="line">       <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;name&#125;</span>æ˜¯å¹²<span class="subst">$&#123;job&#125;</span>çš„`</span>, <span class="string">&#x27;é€šè¿‡thisè°ƒç”¨&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">action2</span> () &#123; <span class="comment">// ç§æœ‰æ–¹æ³•</span></span><br><span class="line">       <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;name&#125;</span>æ˜¯å¹²<span class="subst">$&#123;job&#125;</span>çš„`</span>, <span class="string">&#x27;åœ¨å†…éƒ¨è°ƒç”¨&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// è¿™æ ·æ˜¯ä¸èƒ½è°ƒç”¨çš„</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">action1</span>()</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span></span><br><span class="line"></span><br><span class="line">    <span class="title function_">action</span>()</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å®ä¾‹åŒ–å¯¹è±¡</span></span><br><span class="line"><span class="keyword">var</span> p = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&#x27;å°¤é›¨æºª&#x27;</span>,  <span class="string">&#x27;ç¨‹åºå‘˜&#x27;</span>)    <span class="comment">//å°¤é›¨æºªæ˜¯å¹²ç¨‹åºå‘˜çš„ åœ¨å†…éƒ¨è°ƒç”¨</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>è°ƒç”¨è§„åˆ™ï¼š å¯¹è±¡çš„ç§æœ‰æ–¹æ³•å’Œå±æ€§,å¤–éƒ¨æ˜¯ä¸å¯ä»¥è®¿é—®çš„ï¼Œåªèƒ½åœ¨å†…éƒ¨ä½¿ç”¨</li></ul><h3 id="ç‰¹æƒæ–¹æ³•"><a class="markdownIt-Anchor" href="#ç‰¹æƒæ–¹æ³•"></a> ç‰¹æƒæ–¹æ³•</h3><p>åœ¨å‡½æ•°å†…éƒ¨é€šè¿‡<code>this</code>åˆ›å»ºçš„å±æ€§å’Œæ–¹æ³•ï¼Œåœ¨åˆ›å»ºå¯¹è±¡æ—¶ï¼Œæ¯ä¸ªå¯¹è±¡è‡ªèº«éƒ½ä¼šæ‹¥æœ‰ä¸€ä»½å¹¶ä¸”å¯ä»¥åœ¨å¤–éƒ¨å¯ä»¥è®¿é—®åˆ°ã€‚é€šè¿‡<code>this</code>åˆ›å»ºçš„å±æ€§å¯ä»¥çœ‹ä½œå¯¹è±¡çš„å…±æœ‰å±æ€§ï¼Œè€Œé€šè¿‡<code>this</code>åˆ›å»ºçš„æ–¹æ³•ä¸ä½†å¯ä»¥<strong>è®¿é—®è¿™äº›å¯¹è±¡çš„å…±æœ‰å±æ€§æ–¹æ³•ï¼Œè¿˜èƒ½è®¿é—®è‡ªèº«çš„ç§æœ‰å±æ€§æ–¹æ³•</strong>ï¼Œè¢«ç§°ä¹‹ä¸º<strong>ç‰¹æƒæ–¹æ³•</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Person</span>(<span class="params">name, job</span>) &#123;</span><br><span class="line">    <span class="comment">// é€šè¿‡thisæ¥æ·»åŠ å±æ€§æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">var</span> name = name  <span class="comment">// ç§æœ‰å±æ€§</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">job</span> = job   <span class="comment">// å…±æœ‰å±æ€§</span></span><br><span class="line"></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">action</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123; <span class="comment">// ç‰¹æƒæ–¹æ³•</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;name&#125;</span>æ˜¯å¹²<span class="subst">$&#123;<span class="variable language_">this</span>.job&#125;</span>çš„`</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å®ä¾‹åŒ–å¯¹è±¡</span></span><br><span class="line"><span class="keyword">var</span> p = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&#x27;å°¤é›¨æºª&#x27;</span>, <span class="string">&#x27;ç¨‹åºå‘˜&#x27;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(p.<span class="property">name</span>)</span><br><span class="line">p.<span class="title function_">action</span>()     <span class="comment">// å°¤é›¨æºªæ˜¯å¹²ç¨‹åºå‘˜çš„</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>è°ƒç”¨è§„åˆ™ï¼šé€šè¿‡å®ä¾‹åŒ–ï¼Œå¯ä»¥è®¿é—®å…±æœ‰å±æ€§æ–¹æ³•å’Œç§æœ‰å±æ€§æ–¹æ³•</li></ul><h3 id="é™æ€å±æ€§å’Œæ–¹æ³•"><a class="markdownIt-Anchor" href="#é™æ€å±æ€§å’Œæ–¹æ³•"></a> é™æ€å±æ€§å’Œæ–¹æ³•</h3><p>å…±æœ‰å±æ€§æ–¹æ³•å’Œç§æœ‰å±æ€§æ–¹æ³•éƒ½ç”¨é€šè¿‡<code>new</code>åˆ›å»ºå¯¹è±¡æ‰èƒ½è®¿é—®ï¼Œè€Œé™æ€å±æ€§æ–¹æ³•ä¸éœ€è¦é€šè¿‡<code>new</code>å…³é”®å­—åˆ›å»ºï¼Œå°±å¯ä»¥ç›´æ¥è®¿é—®ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Person</span>(<span class="params">name, job</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> name = name  <span class="comment">// ç§æœ‰å±æ€§</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">job</span> = job   <span class="comment">// å…±æœ‰å±æ€§</span></span><br><span class="line"></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">action</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123; <span class="comment">// ç‰¹æƒæ–¹æ³•</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;name&#125;</span>æ˜¯å¹²<span class="subst">$&#123;<span class="variable language_">this</span>.job&#125;</span>çš„`</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">Person</span>.<span class="property">attr</span> = <span class="string">&#x27;é™æ€å±æ€§&#x27;</span></span><br><span class="line"><span class="title class_">Person</span>.<span class="property">say</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯é™æ€æ–¹æ³•&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Person</span>.<span class="property">attr</span>) <span class="comment">// é™æ€å±æ€§</span></span><br><span class="line"><span class="title class_">Person</span>.<span class="title function_">say</span>() <span class="comment">// å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯é™æ€æ–¹æ³•</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å®ä¾‹åŒ–å¯¹è±¡</span></span><br><span class="line"><span class="keyword">var</span> p = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&#x27;å°¤é›¨æºª&#x27;</span>, <span class="string">&#x27;ç¨‹åºå‘˜&#x27;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(p.<span class="property">attr</span> ) <span class="comment">// undefined</span></span><br><span class="line">p.<span class="title function_">say</span>()     <span class="comment">// æŠ¥é”™</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>è°ƒç”¨è§„åˆ™ï¼šé™æ€æ–¹æ³•æ— éœ€å®ä¾‹åŒ–å¯¹è±¡ï¼Œä¾¿å¯ä»¥è°ƒç”¨ï¼Œå¯¹è±¡å®ä¾‹ä¸èƒ½è°ƒç”¨å¯¹è±¡çš„é™æ€æ–¹æ³•ï¼Œåªèƒ½è°ƒç”¨å®ä¾‹è‡ªèº«çš„é™æ€å±æ€§å’Œæ–¹æ³•ã€‚</li></ul><h3 id="é™æ€ç±»"><a class="markdownIt-Anchor" href="#é™æ€ç±»"></a> é™æ€ç±»</h3><p>å‰é¢æˆ‘ä»¬è¯´è¿‡ï¼Œå¯¹è±¡åˆ›å»ºæœ‰å¥½å‡ ç§å½¢å¼ï¼Œé‚£æˆ‘ä»¬é€šè¿‡å­—é¢é‡çš„å½¢å¼åˆ›å»ºçš„å¯¹è±¡ï¼Œå®ƒçš„ç±»å‹æ—¶ä»€ä¹ˆå‘¢ï¼Ÿå¯¹è±¡å­—é¢é‡å½¢å¼åˆ›å»ºçš„å¯¹è±¡æ·»åŠ çš„æ–¹æ³•åªèƒ½æ—¶é™æ€å±æ€§å’Œé™æ€æ–¹æ³•ï¼Œè€Œ<strong>åŒ…å«é™æ€å±æ€§å’Œé™æ€æ–¹æ³•çš„ç±»å«é™æ€ç±»</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> person = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;å°¤é›¨æºª&quot;</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="string">&quot;18&quot;</span>,</span><br><span class="line"></span><br><span class="line">    action : <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;hello word!&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">person.<span class="property">attr</span> = <span class="string">&#x27;æˆ‘æ˜¯é™æ€å±æ€§&#x27;</span></span><br><span class="line">person.<span class="property">say</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯é™æ€æ–¹æ³•&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(person.<span class="property">name</span>)</span><br><span class="line">person.<span class="title function_">action</span>()</span><br><span class="line"></span><br><span class="line">person.<span class="property">attr</span> </span><br><span class="line">person.<span class="title function_">say</span>()</span><br></pre></td></tr></table></figure><ul><li>è°ƒç”¨è§„åˆ™ï¼šä¸éœ€è¦é€šè¿‡<code>new</code>åˆ›å»ºå¯¹è±¡</li></ul><h2 id="ç›¸å…³æ–‡ç« "><a class="markdownIt-Anchor" href="#ç›¸å…³æ–‡ç« "></a> ç›¸å…³æ–‡ç« </h2><p><a href="https://juejin.im/post/6844903687207272462">[è¯‘] å°¤é›¨æºªï¼šVue 3.0 è®¡åˆ’-æ˜é‡‘</a><br /><a href="https://blog.csdn.net/weixin_44440256/article/details/87867523">jsé¢å‘è¿‡ç¨‹ç¼–ç¨‹ä¸é¢å‘å¯¹è±¡ç¼–ç¨‹çš„åŒºåˆ«</a><br /><a href="https://segmentfault.com/a/1190000015843072">JSé¢å‘å¯¹è±¡ç¼–ç¨‹ä¹‹å°è£…</a><br /><a href="https://www.cnblogs.com/xiongzaiqiren/p/6733985.html">Javascript é¢å‘å¯¹è±¡(å…±æœ‰æ–¹æ³•ï¼Œç§æœ‰æ–¹æ³•ï¼Œç‰¹æƒæ–¹æ³•ï¼Œé™æ€å±æ€§å’Œæ–¹æ³•ï¼Œé™æ€ç±»)ç¤ºä¾‹è®²è§£</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;jsè®¾è®¡æ¨¡å¼ä¸€é¢å‘å¯¹è±¡å°è£…&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#jsè®¾è®¡æ¨¡å¼ä¸€é¢å‘å¯¹è±¡å°è£…&quot;&gt;&lt;/a&gt; jsè®¾è®¡æ¨¡å¼(ä¸€)é¢å‘å¯¹è±¡â€”å°è£…&lt;/h1&gt;
&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a class=&quot;markdownIt-Anchor</summary>
      
    
    
    
    <category term="Js" scheme="https://wakaka378.github.io/categories/Js/"/>
    
    <category term="è®¾è®¡æ¨¡å¼" scheme="https://wakaka378.github.io/categories/Js/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
    
    <category term="Js" scheme="https://wakaka378.github.io/tags/Js/"/>
    
    <category term="é¢å¯¹å¯¹è±¡" scheme="https://wakaka378.github.io/tags/%E9%9D%A2%E5%AF%B9%E5%AF%B9%E8%B1%A1/"/>
    
    <category term="è®¾è®¡æ¨¡å¼" scheme="https://wakaka378.github.io/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>vueä¸­ä½¿ç”¨vue-socket.io</title>
    <link href="https://wakaka378.github.io/05671be6ec24.html"/>
    <id>https://wakaka378.github.io/05671be6ec24.html</id>
    <published>2020-06-19T16:00:00.000Z</published>
    <updated>2023-06-14T13:01:04.693Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a class="markdownIt-Anchor" href="#å‰è¨€"></a> å‰è¨€</h2><p>vueé¡¹ç›®ä¸­æœ‰ä½¿ç”¨åˆ°<code>socket</code>é•¿è¿æ¥ï¼Œä¹‹å‰ä¸€ç›´éƒ½æ˜¯éƒ½æ˜¯ä½¿ç”¨<code>vue-socke.io</code><a href="https://github.com/MetinSeylan/Vue-Socket.io">githubåœ°å€</a>ï¼Œä½†æœ€è¿‘åœ¨ä½¿ç”¨æ—¶ï¼Œå‡ºäº†ä¸€äº›è«åå¥‡å¦™çš„bugï¼Œä¹Ÿæ˜¯ä¸ºæ­¤æ‰äº†ä¸å°‘å¤´å‘ï¼Œæœ€åè¿˜æ˜¯è§£å†³äº†ã€‚å…³äº<code>socket</code>ç›¸å…³å†…å®¹ä»‹ç»ä»¥åŠä½¿ç”¨åœºæ™¯ï¼Œè¿™é‡Œä¸ä¼šåšå¤ªå¤šä»‹ç»ï¼ˆä¸»è¦æ˜¯æ‡’ï¼‰ï¼Œå¯ä»¥ç¿»çœ‹å…¶ä»–æ–‡ç« ã€‚æœ¬æ–‡ä¸»è¦ä»‹ç»å¦‚ä½•ä½¿ç”¨ï¼Œä»¥åŠå†ä½¿ç”¨æ—¶éœ€è¦æ³¨æ„ä¸€äº›ä»€ä¹ˆã€‚å…³äºæ–‡ç« ä¸­ä½¿ç”¨çš„ä»£ç ï¼Œæˆ‘æ”¾ä¸Š<a href="https://github.com/gebilaofan/vue-socket.io-demo">github</a>åœ°å€ã€‚</p><h2 id="å®‰è£…"><a class="markdownIt-Anchor" href="#å®‰è£…"></a> å®‰è£…</h2><p>è¿™é‡Œæˆ‘ä»¬å®‰è£…<code>vue.socket.io</code>æ¨¡å—å’Œ<code>socket.io-client</code>æ¨¡å—ï¼Œä¹Ÿå¯ä»¥ä¸ç”¨<code>socket.io-client</code>æ¨¡å—ã€‚</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cnpm <span class="selector-tag">i</span> vue-socket<span class="selector-class">.io</span> -S</span><br><span class="line">cnpm <span class="selector-tag">i</span> socket<span class="selector-class">.io-client</span> -S</span><br><span class="line"></span><br><span class="line">yarn vue-socket<span class="selector-class">.io</span></span><br><span class="line">yarn <span class="selector-tag">i</span> socket.io-client</span><br></pre></td></tr></table></figure><h2 id="vue-å®¢æˆ·ç«¯ä½¿ç”¨"><a class="markdownIt-Anchor" href="#vue-å®¢æˆ·ç«¯ä½¿ç”¨"></a> vue å®¢æˆ·ç«¯ä½¿ç”¨</h2><ul><li>ä½¿ç”¨<code>socket.io-client</code>è¿æ¥</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&#x27;./router&#x27;</span></span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">&#x27;./store&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">VueSocketIO</span> <span class="keyword">from</span> <span class="string">&#x27;vue-socket.io&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">SocketIO</span> <span class="keyword">from</span> <span class="string">&quot;socket.io-client&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// socket è¿æ¥å‚æ•°</span></span><br><span class="line"><span class="keyword">const</span> socketOptions = &#123;</span><br><span class="line">  <span class="attr">autoConnect</span>: <span class="literal">false</span>,       <span class="comment">// è‡ªåŠ¨è¿æ¥     è¿™é‡Œä¸ºæˆ‘é¡¹ç›®éœ€æ±‚  éœ€è¦åœ¨æŒ‡å®šæƒ…å†µä¸‹æ‰è¿æ¥socket</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ³¨å†Œ</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(</span><br><span class="line">  <span class="keyword">new</span> <span class="title class_">VueSocketIO</span>(&#123;</span><br><span class="line">    <span class="attr">debug</span>: <span class="literal">true</span> ,   <span class="comment">// debugè°ƒè¯•ï¼Œç”Ÿäº§å»ºè®®å…³é—­</span></span><br><span class="line">    <span class="attr">connection</span>: <span class="title class_">SocketIO</span>(<span class="string">&quot;127.0.0.1:1024&quot;</span>, socketOptions),</span><br><span class="line">    store,          <span class="comment">// å¦‚æœæ²¡æœ‰ä½¿ç”¨åˆ°storeå¯ä»¥ä¸ç”¨å†™</span></span><br><span class="line">  &#125;)</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">  <span class="comment">// è¿™é‡Œä¸ºå…¨å±€ç›‘å¬socketäº‹ä»¶æ¶ˆæ¯ï¼Œç›‘å¬å‡½æ•°è¿™é‡Œåªå†™äº†ä¸€ç‚¹ï¼Œå…¶å®å¾ˆæœ‰å¾ˆå¤šäº‹ä»¶ã€‚</span></span><br><span class="line">  <span class="attr">sockets</span>: &#123;</span><br><span class="line">    <span class="title function_">connecting</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;æ­£åœ¨è¿æ¥&#x27;</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">disconnect</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Socket æ–­å¼€&quot;</span>);</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">connect_failed</span>(<span class="params"></span>) &#123;</span><br><span class="line">      cosnole.<span class="title function_">log</span>(<span class="string">&#x27;è¿æ¥å¤±è´¥&#x27;</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">connect</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;socket connected&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  router,</span><br><span class="line">  store,</span><br><span class="line">  <span class="attr">render</span>: <span class="function"><span class="params">h</span> =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>)</span><br><span class="line">&#125;).$mount(<span class="string">&#x27;#app&#x27;</span>)</span><br></pre></td></tr></table></figure><ul><li><p>å­—ç¬¦ä¸²è¿æ¥</p><p>å¦‚æœæ˜¯æ­£å¸¸ä½¿ç”¨ï¼Œé¡¹ç›®å¯åŠ¨å°±è¿æ¥socketï¼Œå¯ä»¥ä¸éœ€è¦åŠ è½½<code>socket.io-client</code>æ¨¡å—ï¼Œç›´æ¥ä½¿ç”¨ã€‚</p></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ³¨å†Œ</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(</span><br><span class="line">  <span class="keyword">new</span> <span class="title class_">VueSocketIO</span>(&#123;</span><br><span class="line">    <span class="attr">debug</span>: <span class="literal">true</span> ,   <span class="comment">// debugè°ƒè¯•ï¼Œç”Ÿäº§å»ºè®®å…³é—­</span></span><br><span class="line">    <span class="attr">connection</span>: <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">1024</span>,</span><br><span class="line">    store,          <span class="comment">// å¦‚æœæ²¡æœ‰ä½¿ç”¨åˆ°storeå¯ä»¥ä¸ç”¨å†™</span></span><br><span class="line">  &#125;)</span><br><span class="line">)</span><br></pre></td></tr></table></figure><ul><li>ç»„ä»¶ä¸­ä½¿ç”¨</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;nav&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;connect&quot;</span>&gt;</span>è¿æ¥socket<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;sendMessage&quot;</span>&gt;</span>å‘é€æ•°æ®<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">methods</span>:&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="comment">// è¿æ¥socket</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">connect</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.<span class="property">$socket</span>.<span class="title function_">open</span>()       <span class="comment">// å¼€å§‹è¿æ¥socket</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">     </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">// è®¢é˜…äº‹ä»¶</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.<span class="property">sockets</span>.<span class="title function_">subscribe</span>(<span class="string">&#x27;welcome&#x27;</span>, <span class="function"><span class="params">data</span> =&gt;</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;welcome data &#x27;</span>, data)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;) </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="comment">// å‘é€æ¶ˆæ¯</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">sendMessage</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.<span class="property">$socket</span>.<span class="title function_">emit</span>(<span class="string">&#x27;hello&#x27;</span>, <span class="string">&#x27;è¿™é‡Œæ˜¯å®¢æˆ·ç«¯&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">sockets</span>:&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="comment">// </span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">welcome</span>: <span class="function"><span class="params">data</span> =&gt;</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;welcome data &#x27;</span>, data)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="å®¢æˆ·ç«¯ä½¿ç”¨æ€»ç»“"><a class="markdownIt-Anchor" href="#å®¢æˆ·ç«¯ä½¿ç”¨æ€»ç»“"></a> å®¢æˆ·ç«¯ä½¿ç”¨æ€»ç»“</h3><h4 id="å®¢æˆ·ç«¯è‡ªå¸¦ç›‘å¬äº‹ä»¶"><a class="markdownIt-Anchor" href="#å®¢æˆ·ç«¯è‡ªå¸¦ç›‘å¬äº‹ä»¶"></a> å®¢æˆ·ç«¯è‡ªå¸¦ç›‘å¬äº‹ä»¶</h4><ul><li><code>connect</code>ï¼šè¿æ¥æˆåŠŸ</li><li><code>connecting</code>ï¼šæ­£åœ¨è¿æ¥</li><li><code>disconnect</code>ï¼šæ–­å¼€è¿æ¥</li><li><code>connect_failed</code>ï¼šè¿æ¥å¤±è´¥</li><li><code>error</code>ï¼šé”™è¯¯å‘ç”Ÿï¼Œå¹¶ä¸”æ— æ³•è¢«å…¶ä»–äº‹ä»¶ç±»å‹æ‰€å¤„ç†</li><li><code>reconnect_failed</code>ï¼šé‡è¿å¤±è´¥</li><li><code>reconnect</code>ï¼šæˆåŠŸé‡è¿</li><li><code>reconnecting</code>ï¼šæ­£åœ¨é‡è¿</li></ul><h4 id="ç›‘å¬è‡ªå®šä¹‰äº‹ä»¶"><a class="markdownIt-Anchor" href="#ç›‘å¬è‡ªå®šä¹‰äº‹ä»¶"></a> ç›‘å¬è‡ªå®šä¹‰äº‹ä»¶</h4><ul><li>å…¨å±€ç›‘å¬</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">sockets</span>:&#123;</span><br><span class="line">    <span class="attr">welcome</span>: <span class="function"><span class="params">data</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;welcome data&#x27;</span>, data)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ç»„ä»¶å†…ç›‘å¬</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">this</span>.<span class="property">sockets</span>.<span class="title function_">subscribe</span>(<span class="string">&#x27;welcome&#x27;</span>, <span class="function"><span class="params">data</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;welcome&#x27;</span>, data)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="å‘é€æ¶ˆæ¯"><a class="markdownIt-Anchor" href="#å‘é€æ¶ˆæ¯"></a> å‘é€æ¶ˆæ¯</h4><p><strong>æ³¨æ„</strong>ï¼šç›‘å¬ç”¨çš„æ˜¯<code>this.sockets</code>ï¼Œå‘é€æ¶ˆæ¯æ˜¯<code>this.$socket</code>ï¼Œä¸è¦å¼„æ··ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">this</span>.<span class="property">$socket</span>.<span class="title function_">emit</span>(<span class="string">&#x27;hello&#x27;</span>, <span class="string">&#x27;è¿™é‡Œæ˜¯å®¢æˆ·ç«¯&#x27;</span>)</span><br></pre></td></tr></table></figure><h4 id="å…³äºè·¨åŸŸé—®é¢˜"><a class="markdownIt-Anchor" href="#å…³äºè·¨åŸŸé—®é¢˜"></a> å…³äºè·¨åŸŸé—®é¢˜</h4><p>socketä¼šå­˜åœ¨è·¨åŸŸé—®é¢˜ï¼Œä¹‹å‰çœ‹æ–‡ç« åˆè¯´åˆ°åœ¨<code>vue.config.js</code>ä¸­é…ç½®ä»£ç†ï¼Œå·®ä¸å¤šå’Œåå°æ¥å£ä»£ç†é…ç½®ä¸€æ ·ï¼Œä½†æˆ‘è¯•è¿‡å¥½åƒæ²¡å•¥é¸Ÿç”¨ï¼Œå¦‚æœæœ‰çŸ¥é“çš„åŒå­¦éº»çƒ¦ç•™è¨€å‘Šè¯‰ä¸€å£°ï¼Œå®é™…é¡¹ç›®ä¸­çš„è§£å†³æ–¹å¼è¿˜æ˜¯åç«¯é…ç½®è·¨åŸŸé—®é¢˜ã€‚</p><h2 id="æœåŠ¡ç«¯ä½¿ç”¨"><a class="markdownIt-Anchor" href="#æœåŠ¡ç«¯ä½¿ç”¨"></a> æœåŠ¡ç«¯ä½¿ç”¨</h2><p>è¿™é‡Œä¸ºå•¥è¦è®²æœåŠ¡ç«¯ä½¿ç”¨ï¼Œä¸»è¦æ˜¯ä¸ºäº†è®©åŒå­¦æ›´å¥½çš„ä½“éªŒsocketï¼Œå…¶æ¬¡æ˜¯ä¸ºäº†å¼•å‡ºåé¢çš„bugï¼Œä¹Ÿæ˜¯ä¸€ä¸ªæ‰©å±•çŸ¥è¯†æŠŠï¼Œæ˜¯ä¸æ˜¯è§‰å¾—è‡ªå·±èµšäº†ğŸ˜„ã€‚æœ¬åœ°å¼€å¯socketæœåŠ¡å¯ä»¥æ›´å¥½çš„è¿›è¡Œè°ƒè¯•ã€‚æœåŠ¡ç«¯ä¸»è¦è¿˜æ˜¯ä½¿ç”¨<code>node</code>ï¼Œæ¯•ç«Ÿå’±ä¹Ÿä¸ä¼šjavaã€pythonâ€¦ï¼Œè¿™é‡Œä»¥åŠé…ç½®äº†socketè·¨åŸŸã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * @Descripttion: </span></span><br><span class="line"><span class="comment"> * @version: </span></span><br><span class="line"><span class="comment"> * @Author: fanliu</span></span><br><span class="line"><span class="comment"> * @Date: 2020-06-19 18:22</span></span><br><span class="line"><span class="comment"> * @LastEditors: fanliu</span></span><br><span class="line"><span class="comment"> * @LastEditTime: 2020-06-19 18:30</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> http = <span class="built_in">require</span>(<span class="string">&#x27;http&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> io = <span class="built_in">require</span>(<span class="string">&#x27;socket.io&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºserveræœåŠ¡</span></span><br><span class="line"><span class="keyword">var</span> server = http.<span class="title function_">createServer</span>(<span class="keyword">function</span> (<span class="params">req, res</span>) &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> headers = &#123;&#125;;</span><br><span class="line">  headers[<span class="string">&quot;Access-Control-Allow-Origin&quot;</span>] = <span class="string">&quot;*&quot;</span>;</span><br><span class="line">  headers[<span class="string">&quot;Access-Control-Allow-Methods&quot;</span>] = <span class="string">&quot;POST, GET, PUT, DELETE, OPTIONS&quot;</span>;</span><br><span class="line">  headers[<span class="string">&quot;Access-Control-Allow-Credentials&quot;</span>] = <span class="literal">true</span>;</span><br><span class="line">  headers[<span class="string">&quot;Access-Control-Max-Age&quot;</span>] = <span class="string">&#x27;86400&#x27;</span>; <span class="comment">// 24 hours</span></span><br><span class="line">  headers[<span class="string">&quot;Access-Control-Allow-Headers&quot;</span>] = <span class="string">&quot;X-Requested-With, Access-Control-Allow-Origin, X-HTTP-Method-Override, Content-Type, Authorization, Accept&quot;</span>;</span><br><span class="line">  res.<span class="title function_">writeHead</span>(<span class="number">200</span>, headers);</span><br><span class="line">  res.<span class="title function_">end</span>();</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯åŠ¨æœåŠ¡å™¨  ç›‘å¬ 1024 ç«¯å£</span></span><br><span class="line">server.<span class="title function_">listen</span>(<span class="number">1024</span>,<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;server runing at 127.0.0.1:1024&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯åŠ¨socketæœåŠ¡</span></span><br><span class="line"><span class="keyword">var</span> socket = io.<span class="title function_">listen</span>(server, &#123;<span class="attr">origins</span>: <span class="string">&#x27;*:*&#x27;</span>&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç›‘å¬å®¢æˆ·ç«¯è¿æ¥</span></span><br><span class="line">socket.<span class="title function_">on</span>(<span class="string">&#x27;connection&#x27;</span>,<span class="keyword">function</span>(<span class="params">socket</span>) &#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;å®¢æˆ·ç«¯æœ‰è¿æ¥&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç›‘å¬å®¢æˆ·ç«¯æ–­å¼€</span></span><br><span class="line">socket.<span class="title function_">on</span>(<span class="string">&#x27;disconnect&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;å®¢æˆ·ç«¯æ–­å¼€&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç»™å®¢æˆ·ç«¯å‘é€æ¶ˆæ¯</span></span><br><span class="line">socket.<span class="title function_">emit</span>(<span class="string">&#x27;welcome&#x27;</span>,<span class="string">&#x27;æ¬¢è¿è¿æ¥socket&#x27;</span>)</span><br><span class="line">    </span><br><span class="line">        <span class="comment">// ç›‘å¬å®¢æˆ·ç«¯æ¶ˆæ¯</span></span><br><span class="line">        socket.<span class="title function_">on</span>(<span class="string">&#x27;hello&#x27;</span>, <span class="function"><span class="params">data</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;æ¥æ”¶å®¢æˆ·ç«¯å‘é€æ•°æ®&#x27;</span>, data)</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="æœåŠ¡ç«¯æ€»ç»“"><a class="markdownIt-Anchor" href="#æœåŠ¡ç«¯æ€»ç»“"></a> æœåŠ¡ç«¯æ€»ç»“</h3><p><strong>æœåŠ¡ç«¯æ¥æ”¶å’Œå‘é€æ¶ˆæ¯å’Œå®¢æˆ·ç«¯å¯¹è°ƒçš„</strong>ï¼Œå®¢æˆ·ç«¯<code>emit</code>å‘é€æ¶ˆæ¯ï¼Œé‚£ä¹ˆæœåŠ¡ç«¯è¿™é‡Œå°±è¦<code>on</code>ç›‘å¬å®¢æˆ·ç«¯å‘é€çš„æ¶ˆæ¯ï¼ŒæœåŠ¡çš„å‘é€åŒç†ã€‚</p><h2 id="è¸©å‘"><a class="markdownIt-Anchor" href="#è¸©å‘"></a> è¸©å‘</h2><h3 id="è®¢é˜…äº‹ä»¶è®°å¾—è¦å–æ¶ˆ"><a class="markdownIt-Anchor" href="#è®¢é˜…äº‹ä»¶è®°å¾—è¦å–æ¶ˆ"></a> è®¢é˜…äº‹ä»¶è®°å¾—è¦å–æ¶ˆ</h3><p>socketä¸»è¦è¿˜æ˜¯ç”¨æ¥å†™èŠå¤©å®¤ï¼ŒåŠ å…¥socketæˆ¿é—´åè¦è®¢é˜…æˆ¿é—´å†…æ‰€æœ‰çš„èŠå¤©å†…å®¹ï¼Œè¿™æ—¶å¦‚æœæ²¡æœ‰å–æ¶ˆä¹‹å‰çš„è®¢é˜…äº‹ä»¶ï¼Œä¸‹æ¬¡è¿›å…¥ä¼šå¤šæ¬¡è®¢é˜…æ¶ˆæ¯ã€‚ä¹Ÿå°±æ˜¯åˆ«äººåªå‘ä¸€æ¡æ¶ˆæ¯ï¼Œä½ è¿™è¾¹æ¥æ”¶åˆ°çš„å´æ˜¯ä¸¤æ¡ç”šè‡³å¤šæ¡ã€‚å“ªå¦‚ä½•å–æ¶ˆè®¢é˜…å‘¢ï¼Œæˆ‘çš„å¤„ç†æ–¹å¼æ˜¯åœ¨ç¦»å¼€å½“å‰èŠå¤©é¡µé¢åï¼Œè‡ªåŠ¨å–æ¶ˆä¹‹å‰æ‰€æœ‰çš„è®¢é˜…äº‹ä»¶ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">beforeDestroy</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">sockets</span>.<span class="title function_">unsubscribe</span>(eventName)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åŒç†ï¼Œå¦‚æœæ˜¯æœ‰æŒ‡å®šé¡µé¢æ‰åŠ å…¥socketæˆ¿é—´ï¼Œé€€å‡ºé¡µé¢æ—¶ä¹Ÿè¦è®°å¾—å…³é—­socketè¿æ¥ã€‚æ¯”å¦‚ä½ åœ¨<code>created</code>ä¸­å¼€å§‹è¿æ¥socketï¼Œåœ¨<code>beforeDestroy</code>è¦è®°å¾—å…³é—­socketï¼Œä¸ç„¶ä¸‹æ¬¡è¿›å…¥ä¹Ÿä¼šè¿æ¥socketã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">created</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">$socket</span>.<span class="title function_">open</span>()</span><br><span class="line">    <span class="comment">// æŸ¥çœ‹socketæ˜¯å¦è¿æ¥æˆåŠŸ</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">$socket</span>.<span class="property">connected</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">beforeDestroy</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">$socket</span>.<span class="title function_">close</span>()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="type-error-thissocketssubscribe-is-not-a-function"><a class="markdownIt-Anchor" href="#type-error-thissocketssubscribe-is-not-a-function"></a> Type Error: this.sockets.subscribe is not a function</h3><p>è¿™æ˜¯æˆ‘æœ€è¿‘é‡åˆ°çš„é—®é¢˜ï¼ŒåŸæœ¬ä»¥ä¸ºæ˜¯è‡ªå·±çš„thisæŒ‡å‘æœ‰é—®é¢˜ï¼Œç„¶åä»åˆ°å°¾æŸ¥éäº†æ•´ä¸ªé€»è¾‘thisï¼Œå‘ç°å¹¶ä¸æ˜¯è¿™ä¸ªé—®é¢˜ã€‚</p><p><img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2020/6/20/172d0d9547cb4d71~tplv-t2oaga2asx-image.image" alt="" /></p><p>åœ¨æ‰“å°<code>this.sockets</code>ä¹‹åæˆ‘å‘ç°é—®é¢˜</p><p><img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2020/6/20/172d0da331a5ad65~tplv-t2oaga2asx-image.image" alt="" /><br /><code>subscribe</code>è®¢é˜…äº‹ä»¶å¹¶æ²¡æœ‰ç›´æ¥å­˜åœ¨ï¼Œè€Œæ˜¯æŸä¸ªå¯¹è±¡çš„å±æ€§ï¼Œäºæ˜¯å°è¯•äº†ä¸€ä¸‹<code>this.sockets.listenner.subscribe</code>å‘ç°èƒ½ç”¨äº†ã€‚</p><p>ä½ ä»¥ä¸ºè¿™å°±ç»“æŸäº†ï¼Ÿï¼Ÿï¼Ÿæ¥ç€æˆ‘åˆå‘ç°é—®é¢˜</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">sockets</span>:&#123;</span><br><span class="line"></span><br><span class="line">  <span class="attr">welcome</span>: <span class="function"><span class="params">data</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;welcome data &#x27;</span>, data)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¹¶ä¸”è®¢é˜…çš„äº‹ä»¶ä¸­ï¼Œsocketæ—¥å¿—æ˜¾ç¤º<code>component: undefined</code>æ²¡æœ‰çœ‹åˆ°æ•°æ®</p><p>å…¨å±€çš„è®¢é˜…äº‹ä»¶æ²¡æœ‰ç”Ÿæ•ˆï¼Œå¹¶ä¸”socketè‡ªå¸¦çš„è¿æ¥äº‹ä»¶ä¹Ÿæ²¡æœ‰å¯åŠ¨æ‰“å°ã€‚æˆ‘ç›´æ¥å‚»äº†ğŸ˜¢ï¼Œä¹‹å‰ä½¿ç”¨çš„æ—¶å€™è¿˜æ²¡æœ‰è¿™äº›é—®é¢˜ï¼Œç™¾åº¦ä¸€å¤§å †æ— æœåï¼Œå¼€å§‹åƒå®˜æ–¹æ±‚åŠ©ã€‚äºæ˜¯æ‰¾åˆ°äº†é—®é¢˜ã€‚<br /><a href="">Vue-Socket.io: #connect subscribe, component: undefined</a></p><p><img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2020/6/20/172d0de8634dcf66~tplv-t2oaga2asx-image.image" alt="" /></p><p>å¤§æ¦‚çš„æ„æ€æ˜¯è¯´ï¼Œå‡ºç°é—®é¢˜çš„éƒ½æ˜¯3.0.9çš„ç‰ˆæœ¬ï¼Œå°†ç‰ˆæœ¬åå¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚è¿™ä¹Ÿæ˜¯æˆ‘ä¸ºå•¥è¦æŠŠsocketæœåŠ¡ç«¯å†™è¿›äº†çš„åŸå› ã€‚è‡ªå·±æœ¬åœ°å†™äº†ä¸€ä¸ªå°demoåï¼Œè¿˜çœŸçš„æ˜¯ç‰ˆæœ¬çš„é—®é¢˜ï¼Œéšåå°±æœ‰äº†è¿™ç¯‡æ–‡ç« ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#å‰è¨€&quot;&gt;&lt;/a&gt; å‰è¨€&lt;/h2&gt;
&lt;p&gt;vueé¡¹ç›®ä¸­æœ‰ä½¿ç”¨åˆ°&lt;code&gt;socket&lt;/code&gt;é•¿è¿æ¥ï¼Œä¹‹å‰ä¸€ç›´éƒ½æ˜¯éƒ½æ˜¯ä½¿ç”¨&lt;code&gt;vue-socke.io&lt;/code&gt;&lt;a h</summary>
      
    
    
    <content src="https://www.google.com/url?sa=i&amp;url=https%3A%2F%2Fsocket.io%2Fdocs%2Fv3%2Frooms%2F&amp;psig=AOvVaw0UK_Q777zAycdk-2Os5DYk&amp;ust=1686833914528000&amp;source=images&amp;cd=vfe&amp;ved=0CBEQjRxqFwoTCNDuyJjowv8CFQAAAAAdAAAAABAO" type="image"/>
    
    
    <category term="Vue" scheme="https://wakaka378.github.io/categories/Vue/"/>
    
    
    <category term="Vue" scheme="https://wakaka378.github.io/tags/Vue/"/>
    
    <category term="socket.io" scheme="https://wakaka378.github.io/tags/socket-io/"/>
    
  </entry>
  
</feed>
